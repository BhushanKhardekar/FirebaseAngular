"use strict";(self.webpackChunkFirebaseAngular=self.webpackChunkFirebaseAngular||[]).push([[179],{3692:(Bt,We,H)=>{H.d(We,{Ot:()=>ve,ZF:()=>kt,hX:()=>nt,z6:()=>W});var w=H(259),L=H(8256),te=H(9883);class ve{constructor(me){return me}}class W{constructor(){return(0,w.C6)()}}const Be=new L.OlP("angularfire2._apps"),qe={provide:ve,useFactory:function $e(Le){return Le&&1===Le.length?Le[0]:new ve((0,w.Mq)())},deps:[[new L.FiY,Be]]},oe={provide:W,deps:[[new L.FiY,Be]]};function ue(Le){return(me,_e)=>{const Je=me.runOutsideAngular(()=>Le(_e));return new ve(Je)}}let Pe=(()=>{class Le{constructor(_e){(0,w.KN)("angularfire",te.q4.full,"core"),(0,w.KN)("angularfire",te.q4.full,"app"),(0,w.KN)("angular",L.q4F.full,_e.toString())}}return Le.\u0275fac=function(_e){return new(_e||Le)(L.LFG(L.Lbi))},Le.\u0275mod=L.oAB({type:Le}),Le.\u0275inj=L.cJS({providers:[qe,oe]}),Le})();function nt(Le,...me){return{ngModule:Pe,providers:[{provide:Be,useFactory:ue(Le),multi:!0,deps:[L.R0b,L.zs3,te.HU,...me]}]}}const kt=(0,te.u3)(w.ZF,!0)},156:(Bt,We,H)=>{H.d(We,{gg:()=>y0,ET:()=>gS,hJ:()=>mS,BS:()=>pS,oe:()=>yS,JU:()=>vS,ad:()=>_S,Cm:()=>fS,r7:()=>wS});var w=H(9883),L=H(8256),te=H(3692),ve=H(259),W=H(5861),Ce=H(2090),$e=H(9681),Be=H(1877),qe=H(655),oe=H(4859);const on=function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new Ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new Be.Yd("@firebase/auth");function _e(n,...e){me.logLevel<=Be.in.ERROR&&me.error(`Auth (${$e.Jn}): ${n}`,...e)}function Je(n,...e){throw ie(n,...e)}function Ze(n,...e){return ie(n,...e)}function we(n,e,t){const i=Object.assign(Object.assign({},on()),{[e]:t});return new Ce.LL("auth","Firebase",i).create(e,{appName:n.name})}function ie(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return dt.create(n,...e)}function Y(n,e,...t){if(!n)throw ie(e,...t)}function ae(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _e(e),new Error(e)}function ce(n,e){n||ae(e)}const Fe=new Map;function Ne(n){ce(n instanceof Function,"Expected a class definition");let e=Fe.get(n);return e?(ce(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fe.set(n,e),e)}function yn(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,ce(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,Ce.uI)()||(0,Ce.b$)()}get(){return function Qn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Vt(){return"http:"===yn()||"https:"===yn()}()||(0,Ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Te{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yt=new rt(3e4,6e4);function Tn(n,e,t,i){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,W.Z)(function*(n,e,t,i,a={}){return On(n,a,(0,W.Z)(function*(){let l={},h={};i&&("GET"===e?h=i:l={body:JSON.stringify(i)});const v=(0,Ce.xO)(Object.assign({key:n.config.apiKey},h)).slice(1),S=yield n._getAdditionalHeaders();return S["Content-Type"]="application/json",n.languageCode&&(S["X-Firebase-Locale"]=n.languageCode),Te.fetch()(Mi(n,n.config.apiHost,t,v),Object.assign({method:e,headers:S,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function On(n,e,t){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,W.Z)(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},st),e);try{const a=new ft(n),l=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=yield l.json();if("needConfirmation"in h)throw qn(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const v=l.ok?h.errorMessage:h.error.message,[S,k]=v.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===S)throw qn(n,"credential-already-in-use",h);if("EMAIL_EXISTS"===S)throw qn(n,"email-already-in-use",h);if("USER_DISABLED"===S)throw qn(n,"user-disabled",h);const j=i[S]||S.toLowerCase().replace(/[_\s]+/g,"-");if(k)throw we(n,j,k);Je(n,j)}}catch(a){if(a instanceof Ce.ZR)throw a;Je(n,"network-request-failed")}})).apply(this,arguments)}function Mi(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?function fe(n,e){ce(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class ft{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ze(this.auth,"network-request-failed")),yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Ze(n,e,i);return a.customData._tokenResponse=t,a}function zr(){return(zr=(0,W.Z)(function*(n,e){return Tn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function rr(n,e){return ni.apply(this,arguments)}function ni(){return(ni=(0,W.Z)(function*(n,e){return Tn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function lt(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function En(){return(En=(0,W.Z)(function*(n,e=!1){const t=(0,Ce.m9)(n),i=yield t.getIdToken(e),a=Fn(i);Y(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l="object"==typeof a.firebase?a.firebase:void 0,h=l?.sign_in_provider;return{claims:a,token:i,authTime:lt(vr(a.auth_time)),issuedAtTime:lt(vr(a.iat)),expirationTime:lt(vr(a.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function vr(n){return 1e3*Number(n)}function Fn(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,Ce.tV)(t);return a?JSON.parse(a):(_e("Failed to decode base64 JWT payload"),null)}catch(a){return _e("Caught error parsing JWT payload as JSON",a?.toString()),null}}function xn(n,e){return $i.apply(this,arguments)}function $i(){return($i=(0,W.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Ce.ZR&&Kn(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function Kn({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class ri{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout((0,W.Z)(function*(){yield t.iteration()}),i)}iteration(){var e=this;return(0,W.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Wt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lt(this.lastLoginAt),this.creationTime=lt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xi(n){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,W.Z)(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),a=yield xn(n,rr(t,{idToken:i}));Y(a?.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const h=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?ht(l.providerUserInfo):[],v=vt(n.providerData,h),j=!!n.isAnonymous&&!(n.email&&l.passwordHash||v?.length),Q={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:v,metadata:new Wt(l.createdAt,l.lastLoginAt),isAnonymous:j};Object.assign(n,Q)})).apply(this,arguments)}function Se(){return(Se=(0,W.Z)(function*(n){const e=(0,Ce.m9)(n);yield xi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function vt(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ht(n){return n.map(e=>{var{providerId:t}=e,i=(0,qe._T)(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function dn(){return(dn=(0,W.Z)(function*(n,e){const t=yield On(n,{},(0,W.Z)(function*(){const i=(0,Ce.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,h=Mi(n,a,"/v1/token",`key=${l}`),v=yield n._getAdditionalHeaders();return v["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(h,{method:"POST",headers:v,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Pr(n){const e=Fn(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return(0,W.Z)(function*(){return Y(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return(0,W.Z)(function*(){const{accessToken:a,refreshToken:l,expiresIn:h}=yield function ln(n,e){return dn.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(a,l,Number(h))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,h=new ne;return i&&(Y("string"==typeof i,"internal-error",{appName:e}),h.refreshToken=i),a&&(Y("string"==typeof a,"internal-error",{appName:e}),h.accessToken=a),l&&(Y("number"==typeof l,"internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ne,this.toJSON())}_performRefresh(){return ae("not implemented")}}function J(n,e){Y("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class he{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=(0,qe._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wt(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,W.Z)(function*(){const i=yield xn(t,t.stsTokenManager.getToken(t.auth,e));return Y(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function an(n){return En.apply(this,arguments)}(this,e)}reload(){return function Et(n){return Se.apply(this,arguments)}(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return(0,W.Z)(function*(){let a=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield xi(i)),yield i.auth._persistUserIfCurrent(i),a&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return(0,W.Z)(function*(){const t=yield e.getIdToken();return yield xn(e,function hs(n,e){return zr.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,h,v,S,k,j;const Q=null!==(i=t.displayName)&&void 0!==i?i:void 0,Ie=null!==(a=t.email)&&void 0!==a?a:void 0,Ge=null!==(l=t.phoneNumber)&&void 0!==l?l:void 0,et=null!==(h=t.photoURL)&&void 0!==h?h:void 0,Rt=null!==(v=t.tenantId)&&void 0!==v?v:void 0,Kt=null!==(S=t._redirectEventId)&&void 0!==S?S:void 0,Nr=null!==(k=t.createdAt)&&void 0!==k?k:void 0,ti=null!==(j=t.lastLoginAt)&&void 0!==j?j:void 0,{uid:yr,emailVerified:Yi,isAnonymous:Ar,providerData:cr,stsTokenManager:ds}=t;Y(yr&&ds,e,"internal-error");const Jh=ne.fromJSON(this.name,ds);Y("string"==typeof yr,e,"internal-error"),J(Q,e.name),J(Ie,e.name),Y("boolean"==typeof Yi,e,"internal-error"),Y("boolean"==typeof Ar,e,"internal-error"),J(Ge,e.name),J(et,e.name),J(Rt,e.name),J(Kt,e.name),J(Nr,e.name),J(ti,e.name);const OD=new he({uid:yr,auth:e,email:Ie,emailVerified:Yi,displayName:Q,isAnonymous:Ar,photoURL:et,phoneNumber:Ge,tenantId:Rt,stsTokenManager:Jh,createdAt:Nr,lastLoginAt:ti});return cr&&Array.isArray(cr)&&(OD.providerData=cr.map(ES=>Object.assign({},ES))),Kt&&(OD._redirectEventId=Kt),OD}static _fromIdTokenResponse(e,t,i=!1){return(0,W.Z)(function*(){const a=new ne;a.updateFromServerResponse(t);const l=new he({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return yield xi(l),l})()}}const be=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,W.Z)(function*(){return!0})()}_set(t,i){var a=this;return(0,W.Z)(function*(){a.storage[t]=i})()}_get(t){var i=this;return(0,W.Z)(function*(){const a=i.storage[t];return void 0===a?null:a})()}_remove(t){var i=this;return(0,W.Z)(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function St(n,e,t){return`firebase:${n}:${e}:${t}`}class $t{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=St(this.userKey,a.apiKey,l),this.fullPersistenceKey=St("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,W.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?he._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,W.Z)(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return(0,W.Z)(function*(){if(!t.length)return new $t(Ne(be),e,i);const a=(yield Promise.all(t.map(function(){var k=(0,W.Z)(function*(j){if(yield j._isAvailable())return j});return function(j){return k.apply(this,arguments)}}()))).filter(k=>k);let l=a[0]||Ne(be);const h=St(i,e.config.apiKey,e.name);let v=null;for(const k of t)try{const j=yield k._get(h);if(j){const Q=he._fromJSON(e,j);k!==l&&(v=Q),l=k;break}}catch{}const S=a.filter(k=>k._shouldAllowMigration);return l._shouldAllowMigration&&S.length?(l=S[0],v&&(yield l._set(h,v.toJSON())),yield Promise.all(t.map(function(){var k=(0,W.Z)(function*(j){if(j!==l)try{yield j._remove(h)}catch{}});return function(j){return k.apply(this,arguments)}}())),new $t(l,e,i)):new $t(l,e,i)})()}}function In(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function re(n=(0,Ce.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function _r(n=(0,Ce.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function ge(n=(0,Ce.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Ve(n=(0,Ce.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function dr(n=(0,Ce.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function pe(n=(0,Ce.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function G(n=(0,Ce.z$)()){return/android/i.test(n)}(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function qr(n,e=[]){let t;switch(n){case"Browser":t=In((0,Ce.z$)());break;case"Worker":t=`${In((0,Ce.z$)())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$e.Jn}/${i}`}class Ws{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,v)=>{try{h(e(l))}catch(S){v(S)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,W.Z)(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class Ln{constructor(e,t,i){this.app=e,this.heartbeatServiceProvider=t,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yn(this),this.idTokenSubscription=new Yn(this),this.beforeStateQueue=new Ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Ne(t)),this._initializationPromise=this.queue((0,W.Z)(function*(){var a,l;if(!i._deleted&&(i.persistenceManager=yield $t.create(i,e),!i._deleted)){if(null!==(a=i._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(l=i.currentUser)||void 0===l?void 0:l.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,W.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,W.Z)(function*(){var i;const a=yield t.assertedPersistence.getCurrentUser();let l=a,h=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const v=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,S=l?._redirectEventId,k=yield t.tryRedirectSignIn(e);(!v||v===S)&&k?.user&&(l=k.user,h=!0)}if(!l)return t.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{yield t.beforeStateQueue.runMiddleware(l)}catch(v){l=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(v))}return l?t.reloadAndSetCurrentUserOrClear(l):t.directlySetCurrentUser(null)}return Y(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===l._redirectEventId?t.directlySetCurrentUser(l):t.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var t=this;return(0,W.Z)(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,W.Z)(function*(){try{yield xi(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Me(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,W.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,W.Z)(function*(){const i=e?(0,Ce.m9)(e):null;return i&&Y(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return(0,W.Z)(function*(){if(!i._deleted)return e&&Y(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue((0,W.Z)(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,W.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,W.Z)(function*(){yield t.assertedPersistence.setPersistence(Ne(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ce.LL("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return(0,W.Z)(function*(){const a=yield i.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,W.Z)(function*(){if(!t.redirectPersistenceManager){const i=e&&Ne(e)||t._popupRedirectResolver;Y(i,t,"argument-error"),t.redirectPersistenceManager=yield $t.create(t,[Ne(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,W.Z)(function*(){var i,a;return t._isInitialized&&(yield t.queue((0,W.Z)(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,W.Z)(function*(){if(e===t.currentUser)return t.queue((0,W.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l="function"==typeof t?t:t.next.bind(t),h=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(h,this,"internal-error"),h.then(()=>l(this.currentUser)),"function"==typeof t?e.addObserver(t,i,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,W.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,W.Z)(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return a&&(i["X-Firebase-Client"]=a),i})()}}class Yn{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,Ce.ne)(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function It(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new rt(3e4,6e4),new rt(2e3,1e4),new rt(3e4,6e4),new rt(5e3,15e3);var Ia="@firebase/auth";class x0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,W.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Ce.Pz)("authIdTokenMaxAge"),function Vv(n){(0,$e.Xd)(new oe.wA("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:l,authDomain:h}=i.options;return((v,S)=>{Y(l&&!l.includes(":"),"invalid-api-key",{appName:v.name}),Y(!h?.includes(":"),"argument-error",{appName:v.name});const k={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(n)},j=new Ln(v,S,k);return function Xt(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ne);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(j,t),j})(i,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),(0,$e.Xd)(new oe.wA("auth-internal",e=>{const t=function er(n){return(0,Ce.m9)(n)}(e.getProvider("auth").getImmediate());return new x0(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$e.KN)(Ia,"0.21.0",function R0(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,$e.KN)(Ia,"0.21.0","esm2017")}("Browser");class Hs{constructor(){return(0,w.vb)("auth")}}const Dd=new Map,uf={activated:!1,tokenObservers:[]},bd={initialized:!1,enabled:!1};function bs(n){return Dd.get(n)||Object.assign({},uf)}function lf(){return bd}class eI{constructor(e,t,i,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,W.Z)(function*(){t.stop();try{t.pending=new Ce.BH,yield function tI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ce.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xs=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function t_(n){if(!bs(n).activated)throw Xs.create("use-before-activation",{appName:n.name})}function Cd(n,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,W.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const Q=yield a.getHeartbeatsHeader();Q&&(i["X-Firebase-Client"]=Q)}const l={method:"POST",body:JSON.stringify(e),headers:i};let h,v;try{h=yield fetch(n,l)}catch(Q){throw Xs.create("fetch-network-error",{originalErrorMessage:Q?.message})}if(200!==h.status)throw Xs.create("fetch-status-error",{httpStatus:h.status});try{v=yield h.json()}catch(Q){throw Xs.create("fetch-parse-error",{originalErrorMessage:Q?.message})}const S=v.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const k=1e3*Number(S[1]),j=Date.now();return{token:v.token,expireTimeMillis:j+k,issuedAtTimeMillis:j}})).apply(this,arguments)}function Nl(n,e){const{projectId:t,appId:i,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Sd="firebase-app-check-store";let pf=null;function za(){return pf||(pf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var a;e(Xs.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sd,{keyPath:"compositeKey"})}}catch(t){e(Xs.create("storage-open",{originalErrorMessage:t?.message}))}}),pf)}function xg(){return(xg=(0,W.Z)(function*(n,e){const i=(yield za()).transaction(Sd,"readwrite"),l=i.objectStore(Sd).put({compositeKey:n,value:e});return new Promise((h,v)=>{l.onsuccess=S=>{h()},i.onerror=S=>{var k;v(Xs.create("storage-set",{originalErrorMessage:null===(k=S.target.error)||void 0===k?void 0:k.message}))}})})).apply(this,arguments)}const Ad=new Be.Yd("@firebase/app-check");function _c(n,e){return(0,Ce.hl)()?function iI(n,e){return function s_(n,e){return xg.apply(this,arguments)}(function a_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ad.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ng(){return lf().enabled}function Pg(){return mf.apply(this,arguments)}function mf(){return(mf=(0,W.Z)(function*(){const n=lf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hb={error:"UNKNOWN_ERROR"};function fb(n){return Ce.US.encodeString(JSON.stringify(n),!1)}function wc(n){return Md.apply(this,arguments)}function Md(){return(Md=(0,W.Z)(function*(n,e=!1){const t=n.app;t_(t);const i=bs(t);let l,a=i.token;if(a&&!Ec(a)&&(i.token=void 0,a=void 0),!a){const S=yield i.cachedTokenPromise;S&&(Ec(S)?a=S:yield _c(t,void 0))}if(!e&&a&&Ec(a))return{token:a.token};let v,h=!1;if(Ng()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Cd(Nl(t,yield Pg()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const S=yield i.exchangeTokenPromise;return yield _c(t,S),i.token=S,{token:S.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),a=yield bs(t).exchangeTokenPromise}catch(S){"appCheck/throttled"===S.code?Ad.warn(S.message):Ad.error(S),l=S}return a?l?v=Ec(a)?{token:a.token,internalError:l}:d_(l):(v={token:a.token},i.token=a,yield _c(t,a)):v=d_(l),h&&c_(t,v),v})).apply(this,arguments)}function l_(n,e){const t=bs(n),i=t.tokenObservers.filter(a=>a.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function kg(n){const{app:e}=n,t=bs(e);let i=t.tokenRefresher;i||(i=function uI(n){const{app:e}=n;return new eI((0,W.Z)(function*(){let i;if(i=bs(e).token?yield wc(n,!0):yield wc(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=bs(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function c_(n,e){const t=bs(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Ec(n){return n.expireTimeMillis-Date.now()>0}function d_(n){return{token:fb(hb),error:n}}class h_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=bs(this.app);for(const t of e)l_(this.app,t.next);return Promise.resolve()}}const wf="app-check-internal";!function y_(){(0,$e.Xd)(new oe.wA("app-check",n=>function yf(n,e){return new h_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wf).initialize()})),(0,$e.Xd)(new oe.wA(wf,n=>function f_(n){return{getToken:e=>wc(n,e),addTokenListener:e=>function u_(n,e,t,i){const{app:a}=n,l=bs(a);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:i,type:e}],l.token&&Ec(l.token)){const v=l.token;Promise.resolve().then(()=>{t({token:v.token}),kg(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>kg(n))}(n,"INTERNAL",e),removeTokenListener:e=>l_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$e.KN)("@firebase/app-check","0.6.0")}();class v_{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var qt,EI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ta={},Ef=Ef||{},bn=EI||self;function Pd(){}function jg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function kd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hg="closure_uid_"+(1e9*Math.random()>>>0),Dc=0;function Fd(n,e,t){return n.call.apply(n.bind,arguments)}function II(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function eo(n,e,t){return(eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fd:II).apply(null,arguments)}function Ld(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Cs(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,a,l){for(var h=Array(arguments.length-2),v=2;v<arguments.length;v++)h[v-2]=arguments[v];return e.prototype[a].apply(i,h)}}function Ku(){this.s=this.s,this.o=this.o}Ku.prototype.s=!1,Ku.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Od(n){Object.prototype.hasOwnProperty.call(n,Hg)&&n[Hg]||(n[Hg]=++Dc)}(this)},Ku.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function If(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Tf(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(jg(i)){const a=n.length||0,l=i.length||0;n.length=a+l;for(let h=0;h<l;h++)n[a+h]=i[h]}else n.push(i)}}function os(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}os.prototype.h=function(){this.defaultPrevented=!0};var DI=function(){if(!bn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bn.addEventListener("test",Pd,e),bn.removeEventListener("test",Pd,e)}catch{}return n}();function bc(n){return/^[\s\xa0]*$/.test(n)}var Cc=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zg(n,e){return n<e?-1:n>e?1:0}function Df(){var n=bn.navigator;return n&&(n=n.userAgent)?n:""}function Wa(n){return-1!=Df().indexOf(n)}function Wg(n){return Wg[" "](n),n}Wg[" "]=Pd;var qg,n,I_=Wa("Opera"),Sc=Wa("Trident")||Wa("MSIE"),Ol=Wa("Edge"),Da=Ol||Sc,T_=Wa("Gecko")&&!(-1!=Df().toLowerCase().indexOf("webkit")&&!Wa("Edge"))&&!(Wa("Trident")||Wa("MSIE"))&&!Wa("Edge"),CI=-1!=Df().toLowerCase().indexOf("webkit")&&!Wa("Edge");function SI(){var n=bn.document;return n?n.documentMode:void 0}e:{var bf="",D_=(n=Df(),T_?/rv:([^\);]+)(\)|;)/.exec(n):Ol?/Edge\/([\d\.]+)/.exec(n):Sc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CI?/WebKit\/(\S+)/.exec(n):I_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(D_&&(bf=D_?D_[1]:""),Sc){var Cf=SI();if(null!=Cf&&Cf>parseFloat(bf)){qg=String(Cf);break e}}qg=bf}var wb={};var AI=bn.document&&Sc&&(SI()||parseInt(qg,10))||void 0;function Ud(n,e){if(os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(T_){e:{try{Wg(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ba[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ud.X.h.call(this)}}Cs(Ud,os);var ba={2:"touch",3:"pen",4:"mouse"};Ud.prototype.h=function(){Ud.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vd="closure_listenable_"+(1e6*Math.random()|0),C_=0;function MI(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=a,this.key=++C_,this.ba=this.ea=!1}function Sf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Zg(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function S_(n){const e={};for(const t in n)e[t]=n[t];return e}const Qg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A_(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let l=0;l<Qg.length;l++)t=Qg[l],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Af(n){this.src=n,this.g={},this.h=0}function Jg(n,e){var t=e.type;if(t in n.g){var l,i=n.g[t],a=Gg(i,e);(l=0<=a)&&Array.prototype.splice.call(i,a,1),l&&(Sf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Dn(n,e,t,i){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==i)return a}return-1}Af.prototype.add=function(n,e,t,i,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Dn(n,e,i,a);return-1<h?(e=n[h],t||(e.ea=!1)):((e=new MI(e,this.src,l,!!i,a)).ea=t,n.push(e)),e};var Mf="closure_lm_"+(1e6*Math.random()|0),xf={};function Xg(n,e,t,i,a){if(i&&i.once)return em(n,e,t,i,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Xg(n,e[l],t,i,a);return null}return t=Pf(t),n&&n[Vd]?n.N(e,t,kd(i)?!!i.capture:!!i,a):M_(n,e,t,!1,i,a)}function M_(n,e,t,i,a,l){if(!e)throw Error("Invalid event type");var h=kd(a)?!!a.capture:!!a,v=N_(n);if(v||(n[Mf]=v=new Af(n)),(t=v.add(e,t,i,h,l)).proxy)return t;if(i=function xI(){const e=RI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)DI||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(R_(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function em(n,e,t,i,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)em(n,e[l],t,i,a);return null}return t=Pf(t),n&&n[Vd]?n.O(e,t,kd(i)?!!i.capture:!!i,a):M_(n,e,t,!0,i,a)}function x_(n,e,t,i,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)x_(n,e[l],t,i,a);else i=kd(i)?!!i.capture:!!i,t=Pf(t),n&&n[Vd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Dn(l=n.g[e],t,i,a))&&(Sf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=N_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Dn(e,t,i,a)),(t=-1<n?e[n]:null)&&Rf(t))}function Rf(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Vd])Jg(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(R_(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=N_(e))?(Jg(t,n),0==t.h&&(t.src=null,e[Mf]=null)):Sf(n)}}}function R_(n){return n in xf?xf[n]:xf[n]="on"+n}function RI(n,e){if(n.ba)n=!0;else{e=new Ud(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&Rf(n),n=t.call(i,e)}return n}function N_(n){return(n=n[Mf])instanceof Af?n:null}var Nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(n){return"function"==typeof n?n:(n[Nf]||(n[Nf]=function(e){return n.handleEvent(e)}),n[Nf])}function Jr(){Ku.call(this),this.i=new Af(this),this.P=this,this.I=null}function Ss(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new os(e,n);else if(e instanceof os)e.target=e.target||n;else{var a=e;A_(e=new os(i,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=Ac(h,i,!0,e)&&a}if(a=Ac(h=e.g=n,i,!0,e)&&a,a=Ac(h,i,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Ac(h=e.g=t[l],i,!1,e)&&a}function Ac(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ba&&h.capture==t){var v=h.listener,S=h.ha||h.src;h.ea&&Jg(n.i,h),a=!1!==v.call(S,i)&&a}}return a&&!i.defaultPrevented}Cs(Jr,Ku),Jr.prototype[Vd]=!0,Jr.prototype.removeEventListener=function(n,e,t,i){x_(this,n,e,t,i)},Jr.prototype.M=function(){if(Jr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Sf(t[i]);delete n.g[e],n.h--}}this.I=null},Jr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Jr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Bd=bn.JSON.stringify;function NI(){var n=k_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var P_,PI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ib,n=>n.reset());class Ib{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kI(n){bn.setTimeout(()=>{throw n},0)}function tm(n,e){P_||function OI(){var n=bn.Promise.resolve(void 0);P_=function(){n.then(O_)}}(),Yu||(P_(),Yu=!0),k_.add(n,e)}var Yu=!1,k_=new class Eb{constructor(){this.h=this.g=null}add(e,t){const i=PI.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function O_(){for(var n;n=NI();){try{n.h.call(n.g)}catch(t){kI(t)}var e=PI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Yu=!1}function Fl(n,e){Jr.call(this),this.h=n||1,this.g=e||bn,this.j=eo(this.lb,this),this.l=Date.now()}function nm(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function kf(n,e,t){if("function"==typeof n)t&&(n=eo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=eo(n.handleEvent,n)}return 2147483647<Number(e)?-1:bn.setTimeout(n,e||0)}function F_(n){n.g=kf(()=>{n.g=null,n.i&&(n.i=!1,F_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cs(Fl,Jr),(qt=Fl.prototype).ca=!1,qt.R=null,qt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ss(this,"tick"),this.ca&&(nm(this),this.start()))}},qt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){Fl.X.M.call(this),nm(this),delete this.g};class FI extends Ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:F_(this)}M(){super.M(),this.g&&(bn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $d(n){Ku.call(this),this.h=n,this.g={}}Cs($d,Ku);var L_=[];function U_(n,e,t,i){Array.isArray(t)||(t&&(L_[0]=t.toString()),t=L_);for(var a=0;a<t.length;a++){var l=Xg(e,t[a],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function rm(n){Zg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Rf(e)},n),n.g={}}function Of(){this.g=!0}function Zu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function im(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return Bd(t)}catch{return e}}(n,t)+(i?" "+i:"")})}$d.prototype.M=function(){$d.X.M.call(this),rm(this)},$d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Of.prototype.Aa=function(){this.g=!1},Of.prototype.info=function(){};var Ll={},LI=null;function yu(){return LI=LI||new Jr}function sm(n){os.call(this,Ll.Pa,n)}function Mc(n){const e=yu();Ss(e,new sm(e))}function jd(n,e){os.call(this,Ll.STAT_EVENT,n),this.stat=e}function Br(n){const e=yu();Ss(e,new jd(e,n))}function om(n,e){os.call(this,Ll.Qa,n),this.size=e}function Hd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bn.setTimeout(function(){n()},e)}Ll.Pa="serverreachability",Cs(sm,os),Ll.STAT_EVENT="statevent",Cs(jd,os),Ll.Qa="timingevent",Cs(om,os);var xc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},qa={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gd(){}function Ff(){}Gd.prototype.h=null;var Rc,Lf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Uf(){os.call(this,"d")}function $_(){os.call(this,"c")}function Ul(){}function Vl(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new $d(this),this.O=um,this.T=new Fl(n=Da?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vf}function Vf(){this.i=null,this.g="",this.h=!1}Cs(Uf,os),Cs($_,os),Cs(Ul,Gd),Ul.prototype.g=function(){return new XMLHttpRequest},Ul.prototype.i=function(){return{}},Rc=new Ul;var um=45e3,j_={},Bf={};function lm(n,e,t){n.K=1,n.v=kc(Qu(e)),n.s=t,n.P=!0,H_(n,null)}function H_(n,e){n.F=Date.now(),zd(n),n.A=Qu(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),q_(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Vf,n.g=Mm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new FI(eo(n.La,n,n.g),n.N)),U_(n.S,n.g,"readystatechange",n.ib),e=n.H?S_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Mc(),function V_(n,e,t,i,a,l){n.info(function(){if(n.g)if(l)for(var h="",v=l.split("&"),S=0;S<v.length;S++){var k=v[S].split("=");if(1<k.length){var j=k[0];k=k[1];var Q=j.split("_");h=2<=Q.length&&"type"==Q[1]?h+(j+"=")+k+"&":h+(j+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.U,n.s)}function G_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function cm(n,e,t){let a,i=!0;for(;!n.I&&n.C<t.length;){if(a=Db(n,t),a==Bf){4==e&&(n.o=4,Br(14),i=!1),Zu(n.j,n.m,null,"[Incomplete Response]");break}if(a==j_){n.o=4,Br(15),Zu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Zu(n.j,n.m,a,null),qd(n,a)}G_(n)&&a!=Bf&&a!=j_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Br(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sm(e),e.K=!0,Br(11))):(Zu(n.j,n.m,t,"[Invalid Chunked Response]"),Bl(n),Nc(n))}function Db(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Bf:(t=Number(e.substring(t,i)),isNaN(t)?j_:(i+=1)+t>e.length?Bf:(e=e.substr(i,t),n.C=i+t,e))}function zd(n){n.V=Date.now()+n.O,UI(n,n.O)}function UI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hd(eo(n.gb,n),e)}function Wd(n){n.B&&(bn.clearTimeout(n.B),n.B=null)}function Nc(n){0==n.l.G||n.I||oh(n.l,n)}function Bl(n){Wd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,nm(n.T),rm(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||$f(t.h,n)))if(!n.J&&$f(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Uc(t),Wf(t)}Cm(t),Br(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=Hd(eo(t.cb,t),6e3));if(1>=_m(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else wu(t,11)}else if((n.J||t.g==n)&&Uc(t),!bc(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let k=a[e];if(t.T=k[0],k=k[1],2==t.G)if("c"==k[0]){t.I=k[1],t.ka=k[2];const j=k[3];null!=j&&(t.ma=j,t.j.info("VER="+t.ma));const Q=k[4];null!=Q&&(t.Ca=Q,t.j.info("SVER="+t.Ca));const Ie=k[5];null!=Ie&&"number"==typeof Ie&&0<Ie&&(t.J=i=1.5*Ie,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const Ge=n.g;if(Ge){const et=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(et){var l=i.h;l.g||-1==et.indexOf("spdy")&&-1==et.indexOf("quic")&&-1==et.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Qd(l,l.h),l.h=null))}if(i.D){const Rt=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Rt&&(i.za=Rt,mr(i.F,i.D,Rt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var h=n;if((i=t).sa=Am(i,i.H?i.ka:null,i.V),h.J){jf(i.h,h);var v=h,S=i.J;S&&v.setTimeout(S),v.B&&(Wd(v),zd(v)),i.g=h}else qf(i);0<t.i.length&&bm(t)}else"stop"!=k[0]&&"close"!=k[0]||wu(t,7);else 3==t.G&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?wu(t,7):rh(t):"noop"!=k[0]&&t.l&&t.l.wa(k),t.A=0)}Mc()}catch{}}function VI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Cb(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function bb(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jg(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,l=0;l<a;l++)e.call(void 0,i[l],t&&t[l],n)}(qt=Vl.prototype).setTimeout=function(n){this.O=n},qt.ib=function(n){n=n.target;const e=this.L;e&&3==_u(n)?e.l():this.La(n)},qt.La=function(n){try{if(n==this.g)e:{const j=_u(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>j)&&(3!=j||Da||this.g&&(this.h.h||this.g.fa()||X_(this.g)))){this.I||4!=j||7==e||Mc(),Wd(this);var t=this.g.aa();this.Y=t;t:if(G_(this)){var i=X_(this.g);n="";var a=i.length,l=4==_u(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bl(this),Nc(this);var h="";break t}this.h.i=new bn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:l&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=200==t,function B_(n,e,t,i,a,l,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.U,j,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var v,S=this.g;if((v=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bc(v)){var k=v;break t}}k=null}if(!(t=k)){this.i=!1,this.o=3,Br(12),Bl(this),Nc(this);break e}Zu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qd(this,t)}this.P?(cm(this,j,h),Da&&this.i&&3==j&&(U_(this.S,this.T,"tick",this.hb),this.T.start())):(Zu(this.j,this.m,h,null),qd(this,h)),4==j&&Bl(this),this.i&&!this.I&&(4==j?oh(this.l,this):(this.i=!1,zd(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),Bl(this),Nc(this)}}}catch{}},qt.hb=function(){if(this.g){var n=_u(this.g),e=this.g.fa();this.C<e.length&&(Wd(this),cm(this,n,e),this.i&&4!=n&&zd(this))}},qt.cancel=function(){this.I=!0,Bl(this)},qt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Tb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mc(),Br(17)),Bl(this),this.o=2,Nc(this)):UI(this,this.V-n)};var BI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Pc){this.h=void 0!==e?e:n.h,dm(this,n.j),this.s=n.s,this.g=n.g,hm(this,n.m),this.l=n.l,e=n.i;var t=new Yd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$I(this,t),this.o=n.o}else n&&(t=String(n).match(BI))?(this.h=!!e,dm(this,t[1]||"",!0),this.s=Kd(t[2]||""),this.g=Kd(t[3]||"",!0),hm(this,t[4]),this.l=Kd(t[5]||"",!0),$I(this,t[6]||"",!0),this.o=Kd(t[7]||"")):(this.h=!!e,this.i=new Yd(null,this.h))}function Qu(n){return new Pc(n)}function dm(n,e,t){n.j=t?Kd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function hm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $I(n,e,t){e instanceof Yd?(n.i=e,function Fc(n,e){e&&!n.j&&(Xu(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&(mm(this,i),q_(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Oc(e,Ju)),n.i=new Yd(e,n.h))}function mr(n,e,t){n.i.set(e,t)}function kc(n){return mr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Oc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Oc(e,pm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Oc(e,pm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Oc(t,"/"==t.charAt(0)?jI:gm,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Oc(t,z_)),n.join("")};var pm=/[#\/\?@]/g,gm=/[#\?:]/g,jI=/[#\?]/g,Ju=/[#\?@]/g,z_=/#/g;function Yd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xu(n){n.g||(n.g=new Map,n.h=0,n.i&&function Sb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var l=n[t].substring(0,i);a=n[t].substring(i+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mm(n,e){Xu(n),e=vu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function W_(n,e){return Xu(n),e=vu(n,e),n.g.has(e)}function q_(n,e,t){mm(n,e),0<t.length&&(n.i=null,n.g.set(vu(n,e),If(t)),n.h+=t.length)}function vu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $l(n){this.l=n||vm,n=bn.PerformanceNavigationTiming?0<(n=bn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bn.g&&bn.g.Ga&&bn.g.Ga()&&bn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qt=Yd.prototype).add=function(n,e){Xu(this),this.i=null,n=vu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qt.forEach=function(n,e){Xu(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},qt.oa=function(){Xu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let l=0;l<a.length;l++)t.push(e[i])}return t},qt.W=function(n){Xu(this);let e=[];if("string"==typeof n)W_(this,n)&&(e=e.concat(this.g.get(vu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},qt.set=function(n,e){return Xu(this),this.i=null,W_(this,n=vu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const l=encodeURIComponent(String(i)),h=this.W(i);for(i=0;i<h.length;i++){var a=l;""!==h[i]&&(a+="="+encodeURIComponent(String(h[i]))),n.push(a)}}return this.i=n.join("&")};var vm=10;function Zd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _m(n){return n.h?1:n.g?n.g.size:0}function $f(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Qd(n,e){n.g?n.g.add(e):n.h=e}function jf(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function wm(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return If(n.i)}function Jd(){}function HI(){this.g=new Jd}function Ab(n,e,t){const i=t||"";try{VI(n,function(a,l){let h=a;kd(a)&&(h=Bd(a)),e.push(i+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function Xd(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function eh(n){this.l=n.ac||null,this.j=n.jb||!1}function th(n,e){Jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Hf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$l.prototype.cancel=function(){if(this.i=wm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jd.prototype.stringify=function(n){return bn.JSON.stringify(n,void 0)},Jd.prototype.parse=function(n){return bn.JSON.parse(n,void 0)},Cs(eh,Gd),eh.prototype.g=function(){return new th(this.l,this.j)},eh.prototype.i=function(n){return function(){return n}}({}),Cs(th,Jr);var Hf=0;function K_(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function As(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lc(n)}function Lc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qt=th.prototype).open=function(n,e){if(this.readyState!=Hf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Lc(this)},qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,As(this)),this.readyState=Hf},qt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof bn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K_(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},qt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?As(this):Lc(this),3==this.readyState&&K_(this)}},qt.Va=function(n){this.g&&(this.response=this.responseText=n,As(this))},qt.Ua=function(n){this.g&&(this.response=n,As(this))},qt.ga=function(){this.g&&As(this)},qt.setRequestHeader=function(n,e){this.v.append(n,e)},qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(th.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zI=bn.JSON.parse;function Ci(n){Jr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Y_,this.K=this.L=!1}Cs(Ci,Jr);var Y_="",Em=/^https?$/i,Z_=["POST","PUT"];function Q_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,J_(n),Gf(n)}function J_(n){n.D||(n.D=!0,Ss(n,"complete"),Ss(n,"error"))}function Im(n){if(n.h&&typeof Ef<"u"&&(!n.C[1]||4!=_u(n)||2!=n.aa()))if(n.v&&4==_u(n))kf(n.Ha,0,n);else if(Ss(n,"readystatechange"),4==_u(n)){n.h=!1;try{const v=n.aa();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===v){var a=String(n.H).match(BI)[1]||null;if(!a&&bn.self&&bn.self.location){var l=bn.self.location.protocol;a=l.substr(0,l.length-1)}i=!Em.test(a?a.toLowerCase():"")}t=i}if(t)Ss(n,"complete"),Ss(n,"success");else{n.m=6;try{var h=2<_u(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.aa()+"]",J_(n)}}finally{Gf(n)}}}function Gf(n,e){if(n.g){Tm(n);const t=n.g,i=n.C[0]?Pd:null;n.g=null,n.C=null,e||Ss(n,"ready");try{t.onreadystatechange=i}catch{}}}function Tm(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bn.clearTimeout(n.A),n.A=null)}function _u(n){return n.g?n.g.readyState:0}function X_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Y_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Dm(n){let e="";return Zg(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function zf(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Dm(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mr(n,e,t))}function nh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ca(n){this.Ca=0,this.i=[],this.j=new Of,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nh("baseRetryDelayMs",5e3,n),this.bb=nh("retryDelaySeedMs",1e4,n),this.$a=nh("forwardChannelMaxRetries",2,n),this.ta=nh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new $l(n&&n.concurrentRequestLimit),this.Fa=new HI,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rh(n){if(ew(n),3==n.G){var e=n.U++,t=Qu(n.F);mr(t,"SID",n.I),mr(t,"RID",e),mr(t,"TYPE","terminate"),ih(n,t),(e=new Vl(n,n.j,e,void 0)).K=2,e.v=kc(Qu(t)),t=!1,bn.navigator&&bn.navigator.sendBeacon&&(t=bn.navigator.sendBeacon(e.v.toString(),"")),!t&&bn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Mm(e.l,null),e.g.da(e.v)),e.F=Date.now(),zd(e)}KI(n)}function Wf(n){n.g&&(Sm(n),n.g.cancel(),n.g=null)}function ew(n){Wf(n),n.u&&(bn.clearTimeout(n.u),n.u=null),Uc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&bn.clearTimeout(n.m),n.m=null)}function bm(n){Zd(n.h)||n.m||(n.m=!0,tm(n.Ja,n),n.C=0)}function nw(n,e){var t;t=e?e.m:n.U++;const i=Qu(n.F);mr(i,"SID",n.I),mr(i,"RID",t),mr(i,"AID",n.T),ih(n,i),n.o&&n.s&&zf(i,n.o,n.s),t=new Vl(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=rw(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Qd(n.h,t),lm(t,i,e)}function ih(n,e){n.ia&&Zg(n.ia,function(t,i){mr(e,i,t)}),n.l&&VI({},function(t,i){mr(e,i,t)})}function rw(n,e,t){t=Math.min(n.i.length,t);var i=n.l?eo(n.l.Ra,n.l,n):null;e:{var a=n.i;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let v=!0;for(let S=0;S<t;S++){let k=a[S].h;const j=a[S].g;if(k-=l,0>k)l=Math.max(0,a[S].h-100),v=!1;else try{Ab(j,h,"req"+k+"_")}catch{i&&i(j)}}if(v){i=h.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function qf(n){n.g||n.u||(n.Z=1,tm(n.Ia,n),n.A=0)}function Cm(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Hd(eo(n.Ia,n),qI(n,n.A)),n.A++,0))}function Sm(n){null!=n.B&&(bn.clearTimeout(n.B),n.B=null)}function sh(n){n.g=new Vl(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Qu(n.sa);mr(e,"RID","rpc"),mr(e,"SID",n.I),mr(e,"CI",n.L?"0":"1"),mr(e,"AID",n.T),mr(e,"TYPE","xmlhttp"),ih(n,e),n.o&&n.s&&zf(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=kc(Qu(e)),t.s=null,t.P=!0,H_(t,n)}function Uc(n){null!=n.v&&(bn.clearTimeout(n.v),n.v=null)}function oh(n,e){var t=null;if(n.g==e){Uc(n),Sm(n),n.g=null;var i=2}else{if(!$f(n.h,e))return;t=e.D,jf(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Ss(i=yu(),new om(i,t)),bm(n)}else qf(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==i&&function tw(n,e){return!(_m(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Hd(eo(n.Ja,n,e),qI(n,n.C)),n.C++,0)))}(n,e)||2==i&&Cm(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:wu(n,5);break;case 4:wu(n,10);break;case 3:wu(n,6);break;default:wu(n,2)}}function qI(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function wu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=eo(n.kb,n);t||(t=new Pc("//www.google.com/images/cleardot.gif"),bn.location&&"http"==bn.location.protocol||dm(t,"https"),kc(t)),function GI(n,e){const t=new Of;if(bn.Image){const i=new Image;i.onload=Ld(Xd,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ld(Xd,t,i,"TestLoadImage: error",!1,e),i.onabort=Ld(Xd,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ld(Xd,t,i,"TestLoadImage: timeout",!1,e),bn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Br(2);n.G=0,n.l&&n.l.va(e),KI(n),ew(n)}function KI(n){if(n.G=0,n.la=[],n.l){const e=wm(n.h);(0!=e.length||0!=n.i.length)&&(Tf(n.la,e),Tf(n.la,n.i),n.h.i.length=0,If(n.i),n.i.length=0),n.l.ua()}}function Am(n,e,t){var i=t instanceof Pc?Qu(t):new Pc(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),hm(i,i.m);else{var a=bn.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new Pc(null,void 0);i&&dm(l,i),e&&(l.g=e),a&&hm(l,a),t&&(l.l=t),i=l}return e=n.za,(t=n.D)&&e&&mr(i,t,e),mr(i,"VER",n.ma),ih(n,i),i}function Mm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ci(t&&n.Da&&!n.ra?new eh({jb:!0}):n.ra)).Ka(n.H),e}function xm(){}function ah(){if(Sc&&!(10<=Number(AI)))throw Error("Environmental error: no available transport.")}function to(n,e){Jr.call(this),this.g=new Ca(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!bc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Eu(this)}function Ka(n){Uf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uh(){$_.call(this),this.status=1}function Eu(n){this.g=n}(qt=Ci.prototype).Ka=function(n){this.L=n},qt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rc.g(),this.C=function am(n){return n.h||(n.h=n.i())}(this.u?this.u:Rc),this.g.onreadystatechange=eo(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Q_(this,l)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const l of i.keys())t.set(l,i.get(l))}i=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=bn.FormData&&n instanceof bn.FormData,!(0<=Gg(Z_,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,h]of t)this.g.setRequestHeader(l,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Tm(this),0<this.B&&((this.K=function WI(n){return Sc&&function b_(){return function bI(n){var e=wb;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Cc(String(qg)).split("."),t=Cc("9").split("."),i=Math.max(e.length,t.length);for(let h=0;0==n&&h<i;h++){var a=e[h]||"",l=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=zg(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||zg(0==a[2].length,0==l[2].length)||zg(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=eo(this.qa,this)):this.A=kf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Q_(this,l)}},qt.qa=function(){typeof Ef<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ss(this,"timeout"),this.abort(8))},qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ss(this,"complete"),Ss(this,"abort"),Gf(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gf(this,!0)),Ci.X.M.call(this)},qt.Ha=function(){this.s||(this.F||this.v||this.l?Im(this):this.fb())},qt.fb=function(){Im(this)},qt.aa=function(){try{return 2<_u(this)?this.g.status:-1}catch{return-1}},qt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),zI(e)}},qt.Ea=function(){return this.m},qt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=Ca.prototype).ma=8,qt.G=1,qt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new Vl(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=S_(l),A_(l,this.S)):l=this.S),null!==this.o||this.N||(a.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rw(this,a,e),mr(t=Qu(this.F),"RID",n),mr(t,"CVER",22),this.D&&mr(t,"X-HTTP-Session-Id",this.D),ih(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Dm(l)))+"&"+e:this.o&&zf(t,this.o,l)),Qd(this.h,a),this.Ya&&mr(t,"TYPE","init"),this.O?(mr(t,"$req",e),mr(t,"SID","null"),a.Z=!0,lm(a,t,null)):lm(a,t,e),this.G=2}}else 3==this.G&&(n?nw(this,n):0==this.i.length||Zd(this.h)||nw(this))},qt.Ia=function(){if(this.u=null,sh(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Hd(eo(this.eb,this),n)}},qt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Br(10),Wf(this),sh(this))},qt.cb=function(){null!=this.v&&(this.v=null,Wf(this),Cm(this),Br(19))},qt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))},(qt=xm.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Ra=function(){},ah.prototype.g=function(n,e){return new to(n,e)},Cs(to,Jr),to.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Br(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Am(n,null,n.V),bm(n)},to.prototype.close=function(){rh(this.g)},to.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bd(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&bm(e)},to.prototype.M=function(){this.g.l=null,delete this.j,rh(this.g),delete this.g,to.X.M.call(this)},Cs(Ka,Uf),Cs(uh,$_),Cs(Eu,xm),Eu.prototype.xa=function(){Ss(this.g,"a")},Eu.prototype.wa=function(n){Ss(this.g,new Ka(n))},Eu.prototype.va=function(n){Ss(this.g,new uh)},Eu.prototype.ua=function(){Ss(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,to.prototype.send=to.prototype.u,to.prototype.open=to.prototype.m,to.prototype.close=to.prototype.close,xc.NO_ERROR=0,xc.TIMEOUT=8,xc.HTTP_ERROR=6,qa.COMPLETE="complete",Ff.EventType=Lf,Lf.OPEN="a",Lf.CLOSE="b",Lf.ERROR="c",Lf.MESSAGE="d",Jr.prototype.listen=Jr.prototype.N,Ci.prototype.listenOnce=Ci.prototype.O,Ci.prototype.getLastError=Ci.prototype.Oa,Ci.prototype.getLastErrorCode=Ci.prototype.Ea,Ci.prototype.getStatus=Ci.prototype.aa,Ci.prototype.getResponseJson=Ci.prototype.Sa,Ci.prototype.getResponseText=Ci.prototype.fa,Ci.prototype.send=Ci.prototype.da,Ci.prototype.setWithCredentials=Ci.prototype.Ka;var lh=Ta.createWebChannelTransport=function(){return new ah},YI=Ta.getStatEventTarget=function(){return yu()},ch=Ta.ErrorCode=xc,iw=Ta.EventType=qa,ZI=Ta.Event=Ll,sw=Ta.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},dh=Ta.FetchXmlHttpFactory=eh,Kf=Ta.WebChannel=Ff,Mb=Ta.XhrIo=Ci;const ow="@firebase/firestore";class Ms{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ms.UNAUTHENTICATED=new Ms(null),Ms.GOOGLE_CREDENTIALS=new Ms("google-credentials-uid"),Ms.FIRST_PARTY=new Ms("first-party-uid"),Ms.MOCK_USER=new Ms("mock-user");let Vc="9.15.0";const el=new Be.Yd("@firebase/firestore");function Rm(){return el.logLevel}function ot(n,...e){if(el.logLevel<=Be.in.DEBUG){const t=e.map(Nm);el.debug(`Firestore (${Vc}): ${n}`,...t)}}function Si(n,...e){if(el.logLevel<=Be.in.ERROR){const t=e.map(Nm);el.error(`Firestore (${Vc}): ${n}`,...t)}}function tl(n,...e){if(el.logLevel<=Be.in.WARN){const t=e.map(Nm);el.warn(`Firestore (${Vc}): ${n}`,...t)}}function Nm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ft(n="Unexpected state"){const e=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: `+n;throw Si(e),new Error(e)}function Gt(n,e){n||Ft()}function xt(n,e){return n}const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Ce.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class JI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ms.UNAUTHENTICATED))}shutdown(){}}class XI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eT{constructor(e){this.t=e,this.currentUser=Ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const l=k=>this.i!==a?(a=this.i,t(k)):Promise.resolve();let h=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new $r,e.enqueueRetryable(()=>l(this.currentUser))};const v=()=>{const k=h;e.enqueueRetryable((0,W.Z)(function*(){yield k.promise,yield l(i.currentUser)}))},S=k=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(k=>S(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?S(k):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new $r)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Gt("string"==typeof i.accessToken),new JI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new Ms(e)}}class Pm{constructor(e,t,i,a){this.h=e,this.l=t,this.m=i,this.g=a,this.type="FirstParty",this.user=Ms.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Gt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class tT{constructor(e,t,i,a){this.h=e,this.l=t,this.m=i,this.g=a}getToken(){return Promise.resolve(new Pm(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fh{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=l=>{null!=l.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.A;return this.A=l.token,ot("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?a(l):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt("string"==typeof t.token),this.A=t.token,new Sa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jl(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class ph{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=jl(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%e.length))}return i}}function sn(n,e){return n<e?-1:n>e?1:0}function nl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Sr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Sr(0,0))}static max(){return new jt(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ya{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ft(),void 0===i?i=e.length-t:i>e.length-t&&Ft(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ya.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jn extends Ya{construct(e,t,i){return new jn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new tt(Oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new jn(t)}static emptyPath(){return new jn([])}}const Bc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends Ya{construct(e,t,i){return new Or(e,t,i)}static isValidIdentifier(e){return Bc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Or(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(0===i.length)throw new tt(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new tt(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[a+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new tt(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=S,a+=2}else"`"===v?(h=!h,a++):"."!==v||h?(i+=v,a++):(l(),a++)}if(l(),h)throw new tt(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}class wt{constructor(e){this.path=e}static fromPath(e){return new wt(jn.fromString(e))}static fromName(e){return new wt(jn.fromString(e).popFirst(5))}static empty(){return new wt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new jn(e.slice()))}}function Om(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wo(jt.min(),wt.empty(),-1)}static max(){return new wo(jt.max(),wt.empty(),-1)}}function Fm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=wt.comparator(n.documentKey,e.documentKey),0!==t?t:sn(n.largestBatchId,e.largestBatchId))}const lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function il(n){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,W.Z)(function*(n){if(n.code!==Oe.FAILED_PRECONDITION||n.message!==lw)throw n;ot("LocalStore","Unexpectedly lost primary lease")}),Lm.apply(this,arguments)}class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xe?t:xe.resolve(t)}catch(t){return xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.reject(t)}static resolve(e){return new xe((t,i)=>{t(e)})}static reject(e){return new xe((t,i)=>{i(e)})}static waitFor(e){return new xe((t,i)=>{let a=0,l=0,h=!1;e.forEach(v=>{++a,v.next(()=>{++l,h&&l===a&&t()},S=>i(S))}),h=!0,l===a&&t()})}static or(e){let t=xe.resolve(!1);for(const i of e)t=t.next(a=>a?xe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new xe((i,a)=>{const l=e.length,h=new Array(l);let v=0;for(let S=0;S<l;S++){const k=S;t(e[k]).next(j=>{h[k]=j,++v,v===l&&i(h)},j=>a(j))}})}static doWhile(e,t){return new xe((i,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):i()};l()})}}function Za(n){return"IndexedDbTransactionError"===n.name}let Eo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>i.writeSequenceNumber(a))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class hw{constructor(e,t,i,a,l,h,v,S){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=v,this.useFetchStreams=S}}class Tu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}function Vm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Bm(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hc(n){return null==n}function Gc(n){return 0===n&&1/n==-1/0}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ui(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Du(n){if(Gt(!!n),"string"==typeof n){let e=0;const t=fw.exec(n);if(Gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xr(n.seconds),nanos:Xr(n.nanos)}}function Xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ol(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function Jf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jm(n){const e=n.mapValue.fields.__previous_value__;return Jf(e)?jm(e):e}function zc(n){const e=Du(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}const bu_mapValue={fields:{__type__:{stringValue:"__max__"}}};function al(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jf(n)?4:zm(n)?9007199254740991:10:Ft()}function Ma(n,e){if(n===e)return!0;const t=al(n);if(t!==al(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zc(n).isEqual(zc(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Du(i.timestampValue),h=Du(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,ol(n.bytesValue).isEqual(ol(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Xr(i.geoPointValue.latitude)===Xr(a.geoPointValue.latitude)&&Xr(i.geoPointValue.longitude)===Xr(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xr(i.integerValue)===Xr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Xr(i.doubleValue),h=Xr(a.doubleValue);return l===h?Gc(l)===Gc(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return nl(n.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Vm(l)!==Vm(h))return!1;for(const v in l)if(l.hasOwnProperty(v)&&(void 0===h[v]||!Ma(l[v],h[v])))return!1;return!0}(n,e);default:return Ft()}var a}function Xf(n,e){return void 0!==(n.values||[]).find(t=>Ma(t,e))}function ul(n,e){if(n===e)return 0;const t=al(n),i=al(e);if(t!==i)return sn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(a,l){const h=Xr(a.integerValue||a.doubleValue),v=Xr(l.integerValue||l.doubleValue);return h<v?-1:h>v?1:h===v?0:isNaN(h)?isNaN(v)?0:-1:1}(n,e);case 3:return pw(n.timestampValue,e.timestampValue);case 4:return pw(zc(n),zc(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(a,l){const h=ol(a),v=ol(l);return h.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),v=l.split("/");for(let S=0;S<h.length&&S<v.length;S++){const k=sn(h[S],v[S]);if(0!==k)return k}return sn(h.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const h=sn(Xr(a.latitude),Xr(l.latitude));return 0!==h?h:sn(Xr(a.longitude),Xr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],v=l.values||[];for(let S=0;S<h.length&&S<v.length;++S){const k=ul(h[S],v[S]);if(k)return k}return sn(h.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===bu_mapValue&&l===bu_mapValue)return 0;if(a===bu_mapValue)return 1;if(l===bu_mapValue)return-1;const h=a.fields||{},v=Object.keys(h),S=l.fields||{},k=Object.keys(S);v.sort(),k.sort();for(let j=0;j<v.length&&j<k.length;++j){const Q=sn(v[j],k[j]);if(0!==Q)return Q;const Ie=ul(h[v[j]],S[k[j]]);if(0!==Ie)return Ie}return sn(v.length,k.length)}(n.mapValue,e.mapValue);default:throw Ft()}}function pw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=Du(n),i=Du(e),a=sn(t.seconds,i.seconds);return 0!==a?a:sn(t.nanos,i.nanos)}function zl(n){return Hm(n)}function Hm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=Du(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ol(n.bytesValue).toBase64():"referenceValue"in n?wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Hm(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const v of a)h?h=!1:l+=",",l+=`${v}:${Hm(i.fields[v])}`;return l+"}"}(n.mapValue):Ft();var e}function ep(n){return!!n&&"integerValue"in n}function vh(n){return!!n&&"arrayValue"in n}function gw(n){return!!n&&"nullValue"in n}function Gm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tp(n){return!!n&&"mapValue"in n}function Wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Wc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zm(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ll{constructor(e,t){this.position=e,this.inclusive=t}}function qm(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(i=l.field.isKeyField()?wt.comparator(wt.fromName(h.referenceValue),t.key):ul(h,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function iT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ma(n.position[t],e.position[t]))return!1;return!0}class np{}class zn extends np{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new sT(e,t,i):"array-contains"===t?new _h(e,i):"in"===t?new vw(e,i):"not-in"===t?new _w(e,i):"array-contains-any"===t?new uT(e,i):new zn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new oT(e,i):new aT(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ul(t,this.value)):null!==t&&al(this.value)===al(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wn extends np{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Wn(e,t)}matches(e){return Kc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kc(n){return"and"===n.op}function xa(n){return function sa(n){for(const e of n.filters)if(e instanceof Wn)return!1;return!0}(n)&&Kc(n)}function oa(n){if(n instanceof zn)return n.field.canonicalString()+n.op.toString()+zl(n.value);{const e=n.filters.map(t=>oa(t)).join(",");return`${n.op}(${e})`}}function Km(n,e){return n instanceof zn?(t=n,(i=e)instanceof zn&&t.op===i.op&&t.field.isEqual(i.field)&&Ma(t.value,i.value)):n instanceof Wn?function(t,i){return i instanceof Wn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((a,l,h)=>a&&Km(l,i.filters[h]),!0)}(n,e):void Ft();var t,i}function yw(n){return n instanceof zn?`${(e=n).field.canonicalString()} ${e.op} ${zl(e.value)}`:n instanceof Wn?function(e){return e.op.toString()+" {"+e.getFilters().map(yw).join(" ,")+"}"}(n):"Filter";var e}class sT extends zn{constructor(e,t,i){super(e,t,i),this.key=wt.fromName(i.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class oT extends zn{constructor(e,t){super(e,"in",t),this.keys=ip(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aT extends zn{constructor(e,t){super(e,"not-in",t),this.keys=ip(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ip(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>wt.fromName(i.referenceValue))}class _h extends zn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vh(t)&&Xf(t.arrayValue,this.value)}}class vw extends zn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xf(this.value.arrayValue,t)}}class _w extends zn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xf(this.value.arrayValue,t)}}class uT extends zn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Xf(this.value.arrayValue,i))}}class Wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function ww(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Hr{constructor(e,t){this.comparator=e,this.root=t||as.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,as.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,as.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class as{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??as.RED,this.left=a??as.EMPTY,this.right=l??as.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new as(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return as.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return as.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,as.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,as.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}as.EMPTY=null,as.RED=!0,as.BLACK=!1,as.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(n,e,t,i,a){return this}insert(n,e,t){return new as(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new op(this.data.getIterator())}getIteratorFrom(e){return new op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class op{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Io{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new Io([])}unionWith(e){let t=new br(Or.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!tp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(t)}setAll(e){let t=Or.emptyPath(),i={},a=[];e.forEach((h,v)=>{if(!t.isImmediateParentOf(v)){const S=this.getFieldsMap(t);this.applyChanges(S,i,a),i={},a=[],t=v.popLast()}h?i[v.lastSegment()]=Wc(h):a.push(v.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());tp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];tp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Gl(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new us(Wc(this.value))}}function Zm(n){const e=[];return Gl(n.fields,(t,i)=>{const a=new Or([t]);if(tp(i)){const l=Zm(i.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new Io(e)}class Fr{constructor(e,t,i,a,l,h,v){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=h,this.documentState=v}static newInvalidDocument(e){return new Fr(e,0,jt.min(),jt.min(),jt.min(),us.empty(),0)}static newFoundDocument(e,t,i,a){return new Fr(e,1,t,jt.min(),i,a,0)}static newNoDocument(e,t){return new Fr(e,2,t,jt.min(),jt.min(),us.empty(),0)}static newUnknownDocument(e,t){return new Fr(e,3,t,jt.min(),jt.min(),us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ew{constructor(e,t=null,i=[],a=[],l=null,h=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=h,this.endAt=v,this.ft=null}}function ap(n,e=null,t=[],i=[],a=null,l=null,h=null){return new Ew(n,e,t,i,a,l,h)}function cl(n){const e=xt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>oa(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zl(i)).join(",")),e.ft=t}return e.ft}function Yc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ww(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Km(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iT(n.startAt,e.startAt)&&iT(n.endAt,e.endAt)}function up(n){return wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Su{constructor(e,t=null,i=[],a=[],l=null,h="F",v=null,S=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=h,this.startAt=v,this.endAt=S,this.dt=null,this._t=null}}function Zc(n){return new Su(n)}function bw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ql(n){const e=xt(n);if(null===e.dt){e.dt=[];const t=function cp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),i=function Qm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Wl(t)),e.dt.push(new Wl(Or.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Wl(Or.keyField(),l))}}}return e.dt}function ro(n){const e=xt(n);if(!e._t)if("F"===e.limitType)e._t=ap(e.path,e.collectionGroup,ql(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ql(e))t.push(new Wl(l.field,"desc"===l.dir?"asc":"desc"));const i=e.endAt?new ll(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ll(e.startAt.position,e.startAt.inclusive):null;e._t=ap(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e._t}function dp(n,e,t){return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wh(n,e){return Yc(ro(n),ro(e))&&n.limitType===e.limitType}function Cw(n){return`${cl(ro(n))}|lt:${n.limitType}`}function ey(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>yw(i)).join(", ")}]`),Hc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zl(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zl(i)).join(",")),`Target(${t})`}(ro(n))}; limitType=${n.limitType})`}function hp(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):wt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of ql(t))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(a,l,h){const v=qm(a,l,h);return a.inclusive?v<=0:v<0}(t.startAt,ql(t),i)||t.endAt&&!function(a,l,h){const v=qm(a,l,h);return a.inclusive?v>=0:v>0}(t.endAt,ql(t),i)));var t,i}function ny(n){return(e,t)=>{let i=!1;for(const a of ql(n)){const l=Sw(a,e,t);if(0!==l)return l;i=i||a.field.isKeyField()}return 0}}function Sw(n,e,t){const i=n.field.isKeyField()?wt.comparator(e.key,t.key):function(a,l,h){const v=l.data.field(a),S=h.data.field(a);return null!==v&&null!==S?ul(v,S):Ft()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft()}}function ry(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function iy(n){return{integerValue:""+n}}function sy(n,e){return function $m(n){return"number"==typeof n&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?iy(e):ry(n,e)}class Eh{constructor(){this._=void 0}}function Aw(n,e,t){return n instanceof aa?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Kl?xw(n,e):n instanceof ua?lT(n,e):function(i,a){const l=fp(i,a),h=cT(l)+cT(i.gt);return ep(l)&&ep(i.gt)?iy(h):ry(i.yt,h)}(n,e)}function Mw(n,e,t){return n instanceof Kl?xw(n,e):n instanceof ua?lT(n,e):t}function fp(n,e){return n instanceof dl?ep(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class aa extends Eh{}class Kl extends Eh{constructor(e){super(),this.elements=e}}function xw(n,e){const t=oy(e);for(const i of n.elements)t.some(a=>Ma(a,i))||t.push(i);return{arrayValue:{values:t}}}class ua extends Eh{constructor(e){super(),this.elements=e}}function lT(n,e){let t=oy(e);for(const i of n.elements)t=t.filter(a=>!Ma(a,i));return{arrayValue:{values:t}}}class dl extends Eh{constructor(e,t){super(),this.yt=e,this.gt=t}}function cT(n){return Xr(n.integerValue||n.doubleValue)}function oy(n){return vh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pn{constructor(e,t){this.version=e,this.transformResults=t}}class ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class gp{}function Yl(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Zl(n.key,ei.none()):new Ih(n.key,n.data,ei.none());{const t=n.data,i=us.empty();let a=new br(Or.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?i.delete(l):i.set(l,h),a=a.add(l)}return new Ja(n.key,i,new Io(a.toArray()),ei.none())}}function dT(n,e,t){n instanceof Ih?function(i,a,l){const h=i.value.clone(),v=Rw(i.fieldTransforms,a,l.transformResults);h.setAll(v),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ja?function(i,a,l){if(!pp(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=Rw(i.fieldTransforms,a,l.transformResults),v=a.data;v.setAll(ay(i)),v.setAll(h),a.convertToFoundDocument(l.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hl(n,e,t,i){return n instanceof Ih?function(a,l,h,v){if(!pp(a.precondition,l))return h;const S=a.value.clone(),k=uy(a.fieldTransforms,v,l);return S.setAll(k),l.convertToFoundDocument(l.version,S).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ja?function(a,l,h,v){if(!pp(a.precondition,l))return h;const S=uy(a.fieldTransforms,v,l),k=l.data;return k.setAll(ay(a)),k.setAll(S),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null===h?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(j=>j.field))}(n,e,t,i):(h=t,pp(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h);var l,h}function mp(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=fp(i.transform,a||null);null!=l&&(null===t&&(t=us.empty()),t.set(i.field,l))}return t||null}function ci(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&nl(t,i,(a,l)=>function Nb(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Kl&&i instanceof Kl||t instanceof ua&&i instanceof ua?nl(t.elements,i.elements,Ma):t instanceof dl&&i instanceof dl?Ma(t.gt,i.gt):t instanceof aa&&i instanceof aa);var t,i}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ih extends gp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ja extends gp{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ay(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Rw(n,e,t){const i=new Map;Gt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,v=e.data.field(l.field);i.set(l.field,Mw(h,v,t[a]))}return i}function uy(n,e,t){const i=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);i.set(a.field,Aw(l,h,e))}return i}class Zl extends gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yp extends gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nw{constructor(e){this.count=e}}var Vi,tr;function Pw(n){switch(n){default:return Ft();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function Jc(n){if(void 0===n)return Si("GRPC error has no .code"),Oe.UNKNOWN;switch(n){case Vi.OK:return Oe.OK;case Vi.CANCELLED:return Oe.CANCELLED;case Vi.UNKNOWN:return Oe.UNKNOWN;case Vi.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Vi.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Vi.INTERNAL:return Oe.INTERNAL;case Vi.UNAVAILABLE:return Oe.UNAVAILABLE;case Vi.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Vi.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Vi.NOT_FOUND:return Oe.NOT_FOUND;case Vi.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Vi.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Vi.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Vi.ABORTED:return Oe.ABORTED;case Vi.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Vi.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Vi.DATA_LOSS:return Oe.DATA_LOSS;default:return Ft()}}(tr=Vi||(Vi={}))[tr.OK=0]="OK",tr[tr.CANCELLED=1]="CANCELLED",tr[tr.UNKNOWN=2]="UNKNOWN",tr[tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tr[tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tr[tr.NOT_FOUND=5]="NOT_FOUND",tr[tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",tr[tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",tr[tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",tr[tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tr[tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tr[tr.ABORTED=10]="ABORTED",tr[tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",tr[tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",tr[tr.INTERNAL=13]="INTERNAL",tr[tr.UNAVAILABLE=14]="UNAVAILABLE",tr[tr.DATA_LOSS=15]="DATA_LOSS";class fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,l]of i)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gl(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Bm(this.inner)}size(){return this.innerSize}}const hT=new Hr(wt.comparator);function To(){return hT}const Th=new Hr(wt.comparator);function Xc(...n){let e=Th;for(const t of n)e=e.insert(t.key,t);return e}function ly(n){let e=Th;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ra(){return Au()}function kw(){return Au()}function Au(){return new fl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Dh=new Hr(wt.comparator),fT=new br(wt.comparator);function kn(...n){let e=fT;for(const t of n)e=e.add(t);return e}const pT=new br(sn);function bh(){return pT}class ed{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ed(jt.min(),a,bh(),To(),kn())}}class td{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new td(i,t,kn(),kn(),kn())}}class vp{constructor(e,t,i,a){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=a}}class cy{constructor(e,t){this.targetId=e,this.Et=t}}class Ow{constructor(e,t,i=Ui.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Fw{constructor(){this.At=0,this.Rt=mT(),this.bt=Ui.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=kn(),t=kn(),i=kn();return this.Rt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ft()}}),new td(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=mT()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Pb{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=To(),this.qt=gT(),this.Ut=new br(sn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:Ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,a)=>{this.zt(a)&&t(a)})}Jt(e){const t=e.targetId,i=e.Et.count,a=this.Yt(t);if(a){const l=a.target;if(up(l))if(0===i){const h=new wt(l.path);this.Qt(t,h,Fr.newNoDocument(h,jt.min()))}else Gt(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,h)=>{const v=this.Yt(h);if(v){if(l.current&&up(v.target)){const S=new wt(v.target.path);null!==this.Lt.get(S)||this.te(h,S)||this.Qt(h,S,Fr.newNoDocument(S,e))}l.St&&(t.set(h,l.Ct()),l.xt())}});let i=kn();this.qt.forEach((l,h)=>{let v=!0;h.forEachWhile(S=>{const k=this.Yt(S);return!k||2===k.purpose||(v=!1,!1)}),v&&(i=i.add(l))}),this.Lt.forEach((l,h)=>h.setReadTime(e));const a=new ed(e,t,this.Ut,this.Lt,i);return this.Lt=To(),this.qt=gT(),this.Ut=new br(sn),a}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const a=this.Wt(e);this.te(e,t)?a.Nt(t,1):a.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Fw,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new br(sn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||ot("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Fw),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function gT(){return new Hr(wt.comparator)}function mT(){return new Hr(wt.comparator)}const kb={asc:"ASCENDING",desc:"DESCENDING"},Lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_p={and:"AND",or:"OR"};class yT{constructor(e,t){this.databaseId=e,this.wt=t}}function nd(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dy(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Ch(n,e){return nd(n,e.toTimestamp())}function Ai(n){return Gt(!!n),jt.fromTimestamp(function(e){const t=Du(e);return new Sr(t.seconds,t.nanos)}(n))}function hy(n,e){return(t=n,new jn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Uw(n){const e=jn.fromString(n);return Gt(zw(e)),e}function Sh(n,e){return hy(n.databaseId,e.path)}function Xa(n,e){const t=Uw(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new wt(rd(t))}function wp(n,e){return hy(n.databaseId,e)}function Ah(n){return new jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rd(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Bw(n,e,t){return{name:Sh(n,e),fields:t.value.mapValue.fields}}function Ip(n,e){return{documents:[wp(n,e.path)]}}function py(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=wp(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wp(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(S){if(0!==S.length)return Gw(Wn.create(S,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(S){if(0!==S.length)return S.map(k=>{return{field:id((j=k).field),direction:wT(j.dir)};var j})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(k=e.limit,n.wt||Hc(k)?k:{value:k});var k,v,S;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(v=e.startAt).inclusive,values:v.position}),e.endAt&&(t.structuredQuery.endAt={before:!(S=e.endAt).inclusive,values:S.position}),t}function gy(n){let e=function Vw(n){const e=Uw(n);return 4===e.length?jn.emptyPath():rd(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Gt(1===i);const j=t.from[0];j.allDescendants?a=j.collectionId:e=e.child(j.collectionId)}let l=[];t.where&&(l=function(j){const Q=Hw(j);return Q instanceof Wn&&xa(Q)?Q.getFilters():[Q]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(j=>{return new Wl(Ql((Q=j).field),function(Ie){switch(Ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction));var Q}));let v=null;t.limit&&(v=function(j){let Q;return Q="object"==typeof j?j.value:j,Hc(Q)?null:Q}(t.limit));let S=null;var j;t.startAt&&(S=new ll((j=t.startAt).values||[],!!j.before));let k=null;return t.endAt&&(k=function(j){return new ll(j.values||[],!j.before)}(t.endAt)),function Dw(n,e,t,i,a,l,h,v){return new Su(n,e,t,i,a,l,h,v)}(e,a,h,l,v,"F",S,k)}function Hw(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ql(e.unaryFilter.field);return zn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Ql(e.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ql(e.unaryFilter.field);return zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ql(e.unaryFilter.field);return zn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(n):void 0!==n.fieldFilter?zn.create(Ql((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Wn.create(e.compositeFilter.filters.map(t=>Hw(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(n):Ft();var e}function wT(n){return kb[n]}function ET(n){return Lw[n]}function my(n){return _p[n]}function id(n){return{fieldPath:n.canonicalString()}}function Ql(n){return Or.fromServerFormat(n.fieldPath)}function Gw(n){return n instanceof zn?function(e){if("=="===e.op){if(Gm(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NAN"}};if(gw(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gm(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NOT_NAN"}};if(gw(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(e.field),op:ET(e.op),value:e.value}}}(n):n instanceof Wn?function(e){const t=e.getFilters().map(i=>Gw(i));return 1===t.length?t[0]:{compositeFilter:{op:my(e.op),filters:t}}}(n):Ft()}function IT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Nh{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&dT(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=kw();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let v=this.applyToLocalView(h,l.mutatedFields);v=t.has(a.key)?null:v;const S=Yl(h,v);null!==S&&i.set(a.key,S),h.isValidDocument()||h.convertToNoDocument(jt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kn())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,i)=>ci(t,i))&&nl(this.baseMutations,e.baseMutations,(t,i)=>ci(t,i))}}class Iy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Gt(e.mutations.length===i.length);let a=Dh;const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,i[h].version);return new Iy(e,t,i,a)}}class Tp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tu{constructor(e,t,i,a,l=jt.min(),h=jt.min(),v=Ui.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=v}withSequenceNumber(e){return new tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ty{constructor(e){this.ie=e}}function tE(n){const e=gy({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dp(e,e.limit,"L"):e}class nc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Xr(e.integerValue));else if("doubleValue"in e){const i=Xr(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),Gc(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ol(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?zm(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ft()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const a of Object.keys(i))this.de(a,t),this.ce(i[a],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const a of i)this.ce(a,t)}me(e,t){this.he(t,37),wt.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}nc.Ie=new nc;class UT{constructor(){this.Je=new xy}addToCollectionParentIndex(e,t){return this.Je.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return xe.resolve()}deleteFieldIndex(e,t){return xe.resolve()}getDocumentsMatchingTarget(e,t){return xe.resolve(null)}getIndexType(e,t){return xe.resolve(0)}getFieldIndexes(e,t){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,t){return xe.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return xe.resolve(wo.min())}updateCollectionGroup(e,t,i){return xe.resolve()}updateIndexEntries(e,t){return xe.resolve()}}class xy{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new br(jn.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new br(jn.comparator)).toArray()}}new Uint8Array(0);class Do{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Do(e,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class ml{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ml(0)}static vn(){return new ml(-1)}}class pE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gE{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&hl(i.mutation,a,Io.empty(),Sr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,kn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=kn()){const a=Ra();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let h=Xc();return l.forEach((v,S)=>{h=h.insert(v,S.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Ra();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,kn()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,v)=>{t.set(h,v)})})}computeViews(e,t,i,a){let l=To();const h=Au(),v=Au();return t.forEach((S,k)=>{const j=i.get(k.key);a.has(k.key)&&(void 0===j||j.mutation instanceof Ja)?l=l.insert(k.key,k):void 0!==j&&(h.set(k.key,j.mutation.getFieldMask()),hl(j.mutation,k,j.mutation.getFieldMask(),Sr.now()))}),this.recalculateAndSaveOverlays(e,l).next(S=>(S.forEach((k,j)=>h.set(k,j)),t.forEach((k,j)=>{var Q;return v.set(k,new pE(j,null!==(Q=h.get(k))&&void 0!==Q?Q:null))}),v))}recalculateAndSaveOverlays(e,t){const i=Au();let a=new Hr((h,v)=>h-v),l=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const v of h)v.keys().forEach(S=>{const k=t.get(S);if(null===k)return;let j=i.get(S)||Io.empty();j=v.applyToLocalView(k,j),i.set(S,j);const Q=(a.get(v.batchId)||kn()).add(S);a=a.insert(v.batchId,Q)})}).next(()=>{const h=[],v=a.getReverseIterator();for(;v.hasNext();){const S=v.getNext(),k=S.key,j=S.value,Q=kw();j.forEach(Ie=>{if(!l.has(Ie)){const Ge=Yl(t.get(Ie),i.get(Ie));null!==Ge&&Q.set(Ie,Ge),l=l.add(Ie)}}),h.push(this.documentOverlayCache.saveOverlays(e,k,Q))}return xe.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return wt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Jm(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):xe.resolve(Ra());let v=-1,S=l;return h.next(k=>xe.forEach(k,(j,Q)=>(v<Q.largestBatchId&&(v=Q.largestBatchId),l.get(j)?xe.resolve():this.remoteDocumentCache.getEntry(e,j).next(Ie=>{S=S.insert(j,Ie)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,S,k,kn())).next(j=>({batchId:v,changes:ly(j)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next(i=>{let a=Xc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let l=Xc();return this.indexManager.getCollectionParents(e,a).next(h=>xe.forEach(h,v=>{const S=(k=t,j=v.child(a),new Su(j,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt));var k,j;return this.getDocumentsMatchingCollectionQuery(e,S,i).next(k=>{k.forEach((j,Q)=>{l=l.insert(j,Q)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(l=>(a=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(l=>{l.forEach((v,S)=>{const k=S.getKey();null===a.get(k)&&(a=a.insert(k,Fr.newInvalidDocument(k)))});let h=Xc();return a.forEach((v,S)=>{const k=l.get(v);void 0!==k&&hl(k.mutation,S,Io.empty(),Sr.now()),hp(t,S)&&(h=h.insert(v,S))}),h})}}class mE{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return xe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ai(i.createTime)}),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:tE(i.bundledQuery),readTime:Ai(i.readTime)}),xe.resolve();var i}}class yE{constructor(){this.overlays=new Hr(wt.comparator),this.es=new Map}getOverlay(e,t){return xe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ra();return xe.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.oe(e,t,l)}),xe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.es.get(i);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(i)),xe.resolve()}getOverlaysForCollection(e,t,i){const a=Ra(),l=t.length+1,h=new wt(t.child("")),v=this.overlays.getIteratorFrom(h);for(;v.hasNext();){const S=v.getNext().value,k=S.getKey();if(!t.isPrefixOf(k.path))break;k.path.length===l&&S.largestBatchId>i&&a.set(S.getKey(),S)}return xe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Hr((k,j)=>k-j);const h=this.overlays.getIterator();for(;h.hasNext();){const k=h.getNext().value;if(k.getKey().getCollectionGroup()===t&&k.largestBatchId>i){let j=l.get(k.largestBatchId);null===j&&(j=Ra(),l=l.insert(k.largestBatchId,j)),j.set(k.getKey(),k)}}const v=Ra(),S=l.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((k,j)=>v.set(k,j)),!(v.size()>=a)););return xe.resolve(v)}oe(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const h=this.es.get(a.largestBatchId).delete(i.key);this.es.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new Tp(t,i));let l=this.es.get(t);void 0===l&&(l=kn(),this.es.set(t,l)),this.es.set(t,l.add(i.key))}}class Vy{constructor(){this.ns=new br(Ki.ss),this.rs=new br(Ki.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Ki(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Ki(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new wt(new jn([])),i=new Ki(t,e),a=new Ki(t,e+1),l=[];return this.rs.forEachInRange([i,a],h=>{this.cs(h),l.push(h.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new wt(new jn([])),i=new Ki(t,e),a=new Ki(t,e+1);let l=kn();return this.rs.forEachInRange([i,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ki(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ki{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return wt.comparator(e.key,t.key)||sn(e._s,t._s)}static os(e,t){return sn(e._s,t._s)||wt.comparator(e.key,t.key)}}class HT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new br(Ki.ss)}checkEmpty(e){return xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const l=this.ws;this.ws++;const h=new Nh(l,t,i,a);this.mutationQueue.push(h);for(const v of a)this.gs=this.gs.add(new Ki(v.key,l)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast());return xe.resolve(h)}lookupMutationBatch(e,t){return xe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),l=a<0?0:a;return xe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ki(t,0),a=new Ki(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([i,a],h=>{const v=this.ys(h._s);l.push(v)}),xe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new br(sn);return t.forEach(a=>{const l=new Ki(a,0),h=new Ki(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,h],v=>{i=i.add(v._s)})}),xe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;wt.isDocumentKey(l)||(l=l.child(""));const h=new Ki(new wt(l),0);let v=new br(sn);return this.gs.forEachWhile(S=>{const k=S.key.path;return!!i.isPrefixOf(k)&&(k.length===a&&(v=v.add(S._s)),!0)},h),xe.resolve(this.Is(v))}Is(e){const t=[];return e.forEach(i=>{const a=this.ys(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Gt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return xe.forEach(t.mutations,a=>{const l=new Ki(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Ki(t,0),a=this.gs.firstAfterOrEqual(i);return xe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return xe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class so{constructor(e){this.Es=e,this.docs=new Hr(wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,h=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return xe.resolve(i?i.document.mutableCopy():Fr.newInvalidDocument(t))}getEntries(e,t){let i=To();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Fr.newInvalidDocument(a))}),xe.resolve(i)}getAllFromCollection(e,t,i){let a=To();const l=new wt(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:v,value:{document:S}}=h.getNext();if(!t.isPrefixOf(v.path))break;v.path.length>t.length+1||Fm(Om(S),i)<=0||(a=a.insert(S.key,S.mutableCopy()))}return xe.resolve(a)}getAllFromCollectionGroup(e,t,i,a){Ft()}As(e,t){return xe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cd(this)}getSize(e){return xe.resolve(this.size)}}class cd extends class BT{constructor(){this.changes=new fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?xe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(i)}),xe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class GT{constructor(e){this.persistence=e,this.Rs=new fl(t=>cl(t),Yc),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Vy,this.targetCount=0,this.vs=ml.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,a)=>t(a)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),xe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.Dn(t),xe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Rs.forEach((h,v)=>{v.sequenceNumber<=t&&null===i.get(v.targetId)&&(this.Rs.delete(h),l.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),xe.waitFor(l).next(()=>a)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return xe.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),xe.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),xe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),xe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return xe.resolve(i)}containsKey(e,t){return xe.resolve(this.Ps.containsKey(t))}}class vE{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Eo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new GT(this),this.indexManager=new UT,this.remoteDocumentCache=new so(i=>this.referenceDelegate.xs(i)),this.yt=new Ty(t),this.Ns=new mE(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new HT(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){ot("MemoryPersistence","Starting transaction:",e);const a=new Fb(this.Ss.next());return this.referenceDelegate.ks(),i(a).next(l=>this.referenceDelegate.Os(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ms(e,t){return xe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class Fb extends class cw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Fs=new Vy,this.$s=null}static Bs(e){return new By(e)}get Ls(){if(this.$s)return this.$s;throw Ft()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),xe.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ls.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Ls,i=>{const a=wt.fromPath(i);return this.qs(e,a).next(l=>{l||t.removeEntry(a,jt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return xe.or([()=>xe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Hy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=a}static Ci(e,t){let i=kn(),a=kn();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hy(e,t.fromCache,i,a)}}class wE{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.ki(e,t).next(l=>l||this.Oi(e,t,a,i)).next(l=>l||this.Mi(e,t))}ki(e,t){if(bw(t))return xe.resolve(null);let i=ro(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=dp(t,null,"F"),i=ro(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=kn(...l);return this.Ni.getDocuments(e,h).next(v=>this.indexManager.getMinOffset(e,i).next(S=>{const k=this.Fi(t,v);return this.$i(t,k,h,S.readTime)?this.ki(e,dp(t,null,"F")):this.Bi(e,k,t,S)}))})))}Oi(e,t,i,a){return bw(t)||a.isEqual(jt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(l=>{const h=this.Fi(t,l);return this.$i(t,h,i,a)?this.Mi(e,t):(Rm()<=Be.in.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ey(t)),this.Bi(e,h,t,function km(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=jt.fromTimestamp(1e9===i?new Sr(t+1,0):new Sr(t,i));return new wo(a,wt.empty(),e)}(a,-1)))})}Fi(e,t){let i=new br(ny(e));return t.forEach((a,l)=>{hp(e,l)&&(i=i.add(l))}),i}$i(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Mi(e,t){return Rm()<=Be.in.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ey(t)),this.Ni.getDocumentsMatchingQuery(e,t,wo.min())}Bi(e,t,i,a){return this.Ni.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class zT{constructor(e,t,i,a){this.persistence=e,this.Li=t,this.yt=a,this.qi=new Hr(sn),this.Ui=new fl(l=>cl(l),Yc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gE(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Gy(n,e){return Op.apply(this,arguments)}function Op(){return Op=(0,W.Z)(function*(n,e){const t=xt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],v=[];let S=kn();for(const k of a){h.push(k.batchId);for(const j of k.mutations)S=S.add(j.key)}for(const k of l){v.push(k.batchId);for(const j of k.mutations)S=S.add(j.key)}return t.localDocuments.getDocuments(i,S).next(k=>({ji:k,removedBatchIds:h,addedBatchIds:v}))})})}),Op.apply(this,arguments)}function Fp(n,e){const t=xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(h,v,S,k){const j=S.batch,Q=j.keys();let Ie=xe.resolve();return Q.forEach(Ge=>{Ie=Ie.next(()=>k.getEntry(v,Ge)).next(et=>{const Rt=S.docVersions.get(Ge);Gt(null!==Rt),et.version.compareTo(Rt)<0&&(j.applyToRemoteDocument(et,S),et.isValidDocument()&&(et.setReadTime(S.commitVersion),k.addEntry(et)))})}),Ie.next(()=>h.mutationQueue.removeMutationBatch(v,j))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let v=kn();for(let S=0;S<h.mutationResults.length;++S)h.mutationResults[S].transformResults.length>0&&(v=v.add(h.batch.mutations[S].key));return v}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function Lp(n){const e=xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Lb(n,e){const t=xt(n),i=e.snapshotVersion;let a=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.qi;const v=[];e.targetChanges.forEach((j,Q)=>{const Ie=a.get(Q);if(!Ie)return;v.push(t.Cs.removeMatchingKeys(l,j.removedDocuments,Q).next(()=>t.Cs.addMatchingKeys(l,j.addedDocuments,Q)));let Ge=Ie.withSequenceNumber(l.currentSequenceNumber);var et,Rt,Kt;e.targetMismatches.has(Q)?Ge=Ge.withResumeToken(Ui.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):j.resumeToken.approximateByteSize()>0&&(Ge=Ge.withResumeToken(j.resumeToken,i)),a=a.insert(Q,Ge),Rt=Ge,Kt=j,(0===(et=Ie).resumeToken.approximateByteSize()||Rt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=3e8||Kt.addedDocuments.size+Kt.modifiedDocuments.size+Kt.removedDocuments.size>0)&&v.push(t.Cs.updateTargetData(l,Ge))});let S=To(),k=kn();if(e.documentUpdates.forEach(j=>{e.resolvedLimboDocuments.has(j)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(l,j))}),v.push(function zy(n,e,t){let i=kn(),a=kn();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=To();return t.forEach((v,S)=>{const k=l.get(v);S.isFoundDocument()!==k.isFoundDocument()&&(a=a.add(v)),S.isNoDocument()&&S.version.isEqual(jt.min())?(e.removeEntry(v,S.readTime),h=h.insert(v,S)):!k.isValidDocument()||S.version.compareTo(k.version)>0||0===S.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(S),h=h.insert(v,S)):ot("LocalStore","Ignoring outdated watch update for ",v,". Current version:",k.version," Watch version:",S.version)}),{Wi:h,zi:a}})}(l,h,e.documentUpdates).next(j=>{S=j.Wi,k=j.zi})),!i.isEqual(jt.min())){const j=t.Cs.getLastRemoteSnapshotVersion(l).next(Q=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,i));v.push(j)}return xe.waitFor(v).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,S,k)).next(()=>S)}).then(l=>(t.qi=a,l))}function WT(n,e){const t=xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function lc(n,e){const t=xt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Cs.getTargetData(i,e).next(l=>l?(a=l,xe.resolve(a)):t.Cs.allocateTargetId(i).next(h=>(a=new tu(e,h,0,i.currentSequenceNumber),t.Cs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.qi.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function Na(n,e,t){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,W.Z)(function*(n,e,t){const i=xt(n),a=i.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!Za(h))throw h;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.qi=i.qi.remove(e),i.Ui.delete(a.target)}),Wy.apply(this,arguments)}function Bh(n,e,t){const i=xt(n);let a=jt.min(),l=kn();return i.persistence.runTransaction("Execute query","readonly",h=>function(v,S,k){const j=xt(v),Q=j.Ui.get(k);return void 0!==Q?xe.resolve(j.qi.get(Q)):j.Cs.getTargetData(S,k)}(i,h,ro(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(h,v.targetId).next(S=>{l=S})}).next(()=>i.Li.getDocumentsMatchingQuery(h,e,t?a:jt.min(),t?l:kn())).next(v=>(function EE(n,e,t){let i=n.Ki.get(e)||jt.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ki.set(e,i)}(i,function ty(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),v),{documents:v,Hi:l})))}class Bp{constructor(){this.activeTargetIds=bh()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ev{constructor(){this.Lr=new Bp,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Bp,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IE{Ur(e){}shutdown(){}}class tv{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YT{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ZT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,a,l){const h=this.ho(e,t);ot("RestConnection","Sending: ",h,i);const v={};return this.lo(v,a,l),this.fo(e,h,v,i).then(S=>(ot("RestConnection","Received: ",S),S),S=>{throw tl("RestConnection",`${e} failed with error: `,S,"url: ",h,"request:",i),S})}_o(e,t,i,a,l,h){return this.ao(e,t,i,a,l)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}ho(e,t){return`${this.oo}/v1/${t}:${TE[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,a){return new Promise((l,h)=>{const v=new Mb;v.setWithCredentials(!0),v.listenOnce(iw.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ch.NO_ERROR:const k=v.getResponseJson();ot("Connection","XHR received:",JSON.stringify(k)),l(k);break;case ch.TIMEOUT:ot("Connection",'RPC "'+e+'" timed out'),h(new tt(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const j=v.getStatus();if(ot("Connection",'RPC "'+e+'" failed with status:',j,"response text:",v.getResponseText()),j>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Ie=Q?.error;if(Ie&&Ie.status&&Ie.message){const Ge=function(et){const Rt=et.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(Rt)>=0?Rt:Oe.UNKNOWN}(Ie.status);h(new tt(Ge,Ie.message))}else h(new tt(Oe.UNKNOWN,"Server responded with status "+v.getStatus()))}else h(new tt(Oe.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{ot("Connection",'RPC "'+e+'" completed.')}});const S=JSON.stringify(a);v.send(t,"POST",S,i,15)})}wo(e,t,i){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lh(),h=YI(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new dh({})),this.lo(v.initMessageHeaders,t,i),v.encodeInitMessageHeaders=!0;const S=a.join("");ot("Connection","Creating WebChannel: "+S,v);const k=l.createWebChannel(S,v);let j=!1,Q=!1;const Ie=new YT({Hr:et=>{Q?ot("Connection","Not sending because WebChannel is closed:",et):(j||(ot("Connection","Opening WebChannel transport."),k.open(),j=!0),ot("Connection","WebChannel sending:",et),k.send(et))},Jr:()=>k.close()}),Ge=(et,Rt,Kt)=>{et.listen(Rt,Nr=>{try{Kt(Nr)}catch(ti){setTimeout(()=>{throw ti},0)}})};return Ge(k,Kf.EventType.OPEN,()=>{Q||ot("Connection","WebChannel transport opened.")}),Ge(k,Kf.EventType.CLOSE,()=>{Q||(Q=!0,ot("Connection","WebChannel transport closed"),Ie.io())}),Ge(k,Kf.EventType.ERROR,et=>{Q||(Q=!0,tl("Connection","WebChannel transport errored:",et),Ie.io(new tt(Oe.UNAVAILABLE,"The operation could not be completed")))}),Ge(k,Kf.EventType.MESSAGE,et=>{var Rt;if(!Q){const Kt=et.data[0];Gt(!!Kt);const Nr=Kt,ti=Nr.error||(null===(Rt=Nr[0])||void 0===Rt?void 0:Rt.error);if(ti){ot("Connection","WebChannel received error:",ti);const yr=ti.status;let Yi=function(cr){const ds=Vi[cr];if(void 0!==ds)return Jc(ds)}(yr),Ar=ti.message;void 0===Yi&&(Yi=Oe.INTERNAL,Ar="Unknown error status: "+yr+" with message "+ti.message),Q=!0,Ie.io(new tt(Yi,Ar)),k.close()}else ot("Connection","WebChannel received:",Kt),Ie.ro(Kt)}}),Ge(h,ZI.STAT_EVENT,et=>{et.stat===sw.PROXY?ot("Connection","Detected buffering proxy"):et.stat===sw.NOPROXY&&ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ie.so()},0),Ie}}function jh(){return typeof document<"u"?document:null}function $p(n){return new yT(n,!0)}class DE{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=a,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-i);a>0&&ot("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class JT{constructor(e,t,i,a,l,h,v,S){this.Hs=e,this.vo=i,this.Vo=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=v,this.listener=S,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new DE(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,W.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,W.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,W.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Oe.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===Oe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.So===t&&this.Go(i,a)},i=>{e(()=>{const a=new tt(Oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(a)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{i(()=>this.Qo(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,W.Z)(function*(){e.state=0,e.start()}))}Qo(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vb extends JT{constructor(e,t,i,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function $w(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(S=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:Ft(),a=e.targetChange.targetIds||[],l=function(S,k){return S.wt?(Gt(void 0===k||"string"==typeof k),Ui.fromBase64String(k||"")):(Gt(void 0===k||k instanceof Uint8Array),Ui.fromUint8Array(k||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,v=h&&function(S){const k=void 0===S.code?Oe.UNKNOWN:Jc(S.code);return new tt(k,S.message||"")}(h);t=new Ow(i,a,l,v||null)}else if("documentChange"in e){const i=e.documentChange,a=Xa(n,i.document.name),l=Ai(i.document.updateTime),h=i.document.createTime?Ai(i.document.createTime):jt.min(),v=new us({mapValue:{fields:i.document.fields}}),S=Fr.newFoundDocument(a,l,h,v);t=new vp(i.targetIds||[],i.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const i=e.documentDelete,a=Xa(n,i.document),l=i.readTime?Ai(i.readTime):jt.min(),h=Fr.newNoDocument(a,l);t=new vp([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,a=Xa(n,i.document);t=new vp([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ft();{const i=e.filter,l=new Nw(i.count||0);t=new cy(i.targetId,l)}}var S;return t}(this.yt,e),i=function(a){if(!("targetChange"in a))return jt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?jt.min():l.readTime?Ai(l.readTime):jt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Ah(this.yt),t.addTarget=function(a,l){let h;const v=l.target;return h=up(v)?{documents:Ip(a,v)}:{query:py(a,v)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=dy(a,l.resumeToken):l.snapshotVersion.compareTo(jt.min())>0&&(h.readTime=nd(a,l.snapshotVersion.toTimestamp())),h}(this.yt,e);const i=function jw(n,e){const t=function(i,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Ah(this.yt),t.removeTarget=e,this.Bo(t)}}class Bb extends JT{constructor(e,t,i,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.yt=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _T(n,e){return n&&n.length>0?(Gt(void 0!==e),n.map(t=>function(i,a){let l=Ai(i.updateTime?i.updateTime:a);return l.isEqual(jt.min())&&(l=Ai(a)),new pn(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ai(e.commitTime);return this.listener.Zo(i,t)}return Gt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ah(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Mh(n,e){let t;if(e instanceof Ih)t={update:Bw(n,e.key,e.value)};else if(e instanceof Zl)t={delete:Sh(n,e.key)};else if(e instanceof Ja)t={update:Bw(n,e.key,e.data),updateMask:IT(e.fieldMask)};else{if(!(e instanceof yp))return Ft();t={verify:Sh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const h=l.transform;if(h instanceof aa)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ua)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dl)return{fieldPath:l.field.canonicalString(),increment:h.gt};throw Ft()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Ch(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Ft()),t;var a}(this.yt,i))};this.Bo(t)}}class $b extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=a,this.nu=!1}su(){if(this.nu)throw new tt(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.ao(e,t,i,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Oe.UNKNOWN,a.toString())})}_o(e,t,i,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection._o(e,t,i,l,h,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new tt(Oe.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class jp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Si(t),this.ou=!1):ot("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Hb{constructor(e,t,i,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(v=>{i.enqueueAndForget((0,W.Z)(function*(){var S;xu(h)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,W.Z)(function*(k){const j=xt(k);j._u.add(4),yield cc(j),j.gu.set("Unknown"),j._u.delete(4),yield hd(j)}),function(k){return S.apply(this,arguments)})(h))}))}),this.gu=new jp(i,a)}}function hd(n){return fd.apply(this,arguments)}function fd(){return fd=(0,W.Z)(function*(n){if(xu(n))for(const e of n.wu)yield e(!0)}),fd.apply(this,arguments)}function cc(n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,W.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Hp.apply(this,arguments)}function nv(n,e){const t=xt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),SE(t)?zp(t):hc(t).ko()&&Gp(t,e))}function dc(n,e){const t=xt(n),i=hc(t);t.du.delete(e),i.ko()&&CE(t,e),0===t.du.size&&(i.ko()?i.Fo():xu(t)&&t.gu.set("Unknown"))}function Gp(n,e){n.yu.Ot(e.targetId),hc(n).zo(e)}function CE(n,e){n.yu.Ot(e),hc(n).Ho(e)}function zp(n){n.yu=new Pb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),hc(n).start(),n.gu.uu()}function SE(n){return xu(n)&&!hc(n).No()&&n.du.size>0}function xu(n){return 0===xt(n)._u.size}function AE(n){n.yu=void 0}function XT(n){return pd.apply(this,arguments)}function pd(){return pd=(0,W.Z)(function*(n){n.du.forEach((e,t)=>{Gp(n,e)})}),pd.apply(this,arguments)}function eD(n,e){return ME.apply(this,arguments)}function ME(){return ME=(0,W.Z)(function*(n,e){AE(n),SE(n)?(n.gu.hu(e),zp(n)):n.gu.set("Unknown")}),ME.apply(this,arguments)}function Gb(n,e,t){return xE.apply(this,arguments)}function xE(){return xE=(0,W.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Ow&&2===e.state&&e.cause)try{yield(i=(0,W.Z)(function*(a,l){const h=l.cause;for(const v of l.targetIds)a.du.has(v)&&(yield a.remoteSyncer.rejectListen(v,h),a.du.delete(v),a.yu.removeTarget(v))}),function(a,l){return i.apply(this,arguments)})(n,e)}catch(i){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Wp(n,i)}else if(e instanceof vp?n.yu.Kt(e):e instanceof cy?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(jt.min()))try{const i=yield Lp(n.localStore);t.compareTo(i)>=0&&(yield function(a,l){const h=a.yu.Zt(l);return h.targetChanges.forEach((v,S)=>{if(v.resumeToken.approximateByteSize()>0){const k=a.du.get(S);k&&a.du.set(S,k.withResumeToken(v.resumeToken,l))}}),h.targetMismatches.forEach(v=>{const S=a.du.get(v);if(!S)return;a.du.set(v,S.withResumeToken(Ui.EMPTY_BYTE_STRING,S.snapshotVersion)),CE(a,v);const k=new tu(S.target,v,1,S.sequenceNumber);Gp(a,k)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(i){ot("RemoteStore","Failed to raise snapshot:",i),yield Wp(n,i)}var i}),xE.apply(this,arguments)}function Wp(n,e,t){return rv.apply(this,arguments)}function rv(){return rv=(0,W.Z)(function*(n,e,t){if(!Za(e))throw e;n._u.add(1),yield cc(n),n.gu.set("Offline"),t||(t=()=>Lp(n.localStore)),n.asyncQueue.enqueueRetryable((0,W.Z)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield hd(n)}))}),rv.apply(this,arguments)}function RE(n,e){return e().catch(t=>Wp(n,t,e))}function Hh(n){return iv.apply(this,arguments)}function iv(){return iv=(0,W.Z)(function*(n){const e=xt(n),t=Ru(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;NE(e);)try{const a=yield WT(e.localStore,i);if(null===a){0===e.fu.length&&t.Fo();break}i=a.batchId,PE(e,a)}catch(a){yield Wp(e,a)}tD(e)&&la(e)}),iv.apply(this,arguments)}function NE(n){return xu(n)&&n.fu.length<10}function PE(n,e){n.fu.push(e);const t=Ru(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function tD(n){return xu(n)&&!Ru(n).No()&&n.fu.length>0}function la(n){Ru(n).start()}function nD(n){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,W.Z)(function*(n){Ru(n).eu()}),Gh.apply(this,arguments)}function rD(n){return bo.apply(this,arguments)}function bo(){return bo=(0,W.Z)(function*(n){const e=Ru(n);for(const t of n.fu)e.Xo(t.mutations)}),bo.apply(this,arguments)}function iD(n,e,t){return zh.apply(this,arguments)}function zh(){return zh=(0,W.Z)(function*(n,e,t){const i=n.fu.shift(),a=Iy.from(i,e,t);yield RE(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Hh(n)}),zh.apply(this,arguments)}function sD(n,e){return sv.apply(this,arguments)}function sv(){return sv=(0,W.Z)(function*(n,e){var t;e&&Ru(n).Yo&&(yield(t=(0,W.Z)(function*(i,a){if(Pw(l=a.code)&&l!==Oe.ABORTED){const h=i.fu.shift();Ru(i).Mo(),yield RE(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Hh(i)}var l}),function(i,a){return t.apply(this,arguments)})(n,e)),tD(n)&&la(n)}),sv.apply(this,arguments)}function qp(n,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,W.Z)(function*(n,e){const t=xt(n);t.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const i=xu(t);t._u.add(3),yield cc(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield hd(t)}),Kp.apply(this,arguments)}function ov(){return ov=(0,W.Z)(function*(n,e){const t=xt(n);e?(t._u.delete(2),yield hd(t)):e||(t._u.add(2),yield cc(t),t.gu.set("Unknown"))}),ov.apply(this,arguments)}function hc(n){return n.pu||(n.pu=function(e,t,i){const a=xt(e);return a.su(),new Vb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,i)}(n.datastore,n.asyncQueue,{Yr:XT.bind(null,n),Zr:eD.bind(null,n),Wo:Gb.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.pu.Mo(),SE(n)?zp(n):n.gu.set("Unknown")):(yield n.pu.stop(),AE(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ru(n){return n.Iu||(n.Iu=function(e,t,i){const a=xt(e);return a.su(),new Bb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,i)}(n.datastore,n.asyncQueue,{Yr:nD.bind(null,n),Zr:sD.bind(null,n),tu:rD.bind(null,n),Zo:iD.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.Iu.Mo(),yield Hh(n)):(yield n.Iu.stop(),n.fu.length>0&&(ot("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class av{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,i,a,l){const h=Date.now()+i,v=new av(e,t,h,a,l);return v.start(i),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fc(n,e){if(Si("AsyncQueue",`${e}: ${n}`),Za(n))return new tt(Oe.UNAVAILABLE,`${e}: ${n}`);throw n}class gd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||wt.comparator(t.key,i.key):(t,i)=>wt.comparator(t.key,i.key),this.keyedMap=Xc(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new gd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new gd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Zp{constructor(){this.Tu=new Hr(wt.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ft():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class jo{constructor(e,t,i,a,l,h,v,S,k){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=v,this.excludesMetadataChanges=S,this.hasCachedResults=k}static fromInitialDocuments(e,t,i,a,l){const h=[];return t.forEach(v=>{h.push({type:0,doc:v})}),new jo(e,t,gd.emptySet(t),h,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class kE{constructor(){this.Au=void 0,this.listeners=[]}}class uv{constructor(){this.queries=new fl(e=>Cw(e),wh),this.onlineState="Unknown",this.Ru=new Set}}function lv(){return lv=(0,W.Z)(function*(n,e){const t=xt(n),i=e.query;let a=!1,l=t.queries.get(i);if(l||(a=!0,l=new kE),a)try{l.Au=yield t.onListen(i)}catch(h){const v=fc(h,`Initialization of query '${ey(e.query)}' failed`);return void e.onError(v)}t.queries.set(i,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&dv(t)}),lv.apply(this,arguments)}function cv(){return cv=(0,W.Z)(function*(n,e){const t=xt(n),i=e.query;let a=!1;const l=t.queries.get(i);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),cv.apply(this,arguments)}function oD(n,e){const t=xt(n);let i=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const v of h.listeners)v.Pu(a)&&(i=!0);h.Au=a}}i&&dv(t)}function aD(n,e,t){const i=xt(n),a=i.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);i.queries.delete(e)}function dv(n){n.Ru.forEach(e=>{e.next()})}class Qp{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class lD{constructor(e){this.key=e}}class Jp{constructor(e){this.key=e}}class pv{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=kn(),this.mutatedKeys=kn(),this.Gu=ny(e),this.Qu=new gd(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new Zp,a=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,v=!1;const S="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,k="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((j,Q)=>{const Ie=a.get(j),Ge=hp(this.query,Q)?Q:null,et=!!Ie&&this.mutatedKeys.has(Ie.key),Rt=!!Ge&&(Ge.hasLocalMutations||this.mutatedKeys.has(Ge.key)&&Ge.hasCommittedMutations);let Kt=!1;Ie&&Ge?Ie.data.isEqual(Ge.data)?et!==Rt&&(i.track({type:3,doc:Ge}),Kt=!0):this.Hu(Ie,Ge)||(i.track({type:2,doc:Ge}),Kt=!0,(S&&this.Gu(Ge,S)>0||k&&this.Gu(Ge,k)<0)&&(v=!0)):!Ie&&Ge?(i.track({type:0,doc:Ge}),Kt=!0):Ie&&!Ge&&(i.track({type:1,doc:Ie}),Kt=!0,(S||k)&&(v=!0)),Kt&&(Ge?(h=h.add(Ge),l=Rt?l.add(j):l.delete(j)):(h=h.delete(j),l=l.delete(j)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const j="F"===this.query.limitType?h.last():h.first();h=h.delete(j.key),l=l.delete(j.key),i.track({type:1,doc:j})}return{Qu:h,zu:i,$i:v,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((k,j)=>function(Q,Ie){const Ge=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return Ge(Q)-Ge(Ie)}(k.type,j.type)||this.Gu(k.doc,j.doc)),this.Ju(i);const h=t?this.Yu():[],v=0===this.Ku.size&&this.current?1:0,S=v!==this.Uu;return this.Uu=v,0!==l.length||S?{snapshot:new jo(this.query,e.Qu,a,l,e.mutatedKeys,0===v,S,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:h}:{Xu:h}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Zp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=kn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Jp(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new lD(i))}),t}tc(e){this.qu=e.Hi,this.Ku=kn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return jo.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class FE{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LE{constructor(e){this.key=e,this.nc=!1}}class UE{constructor(e,t,i,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.sc={},this.ic=new fl(v=>Cw(v),wh),this.rc=new Map,this.oc=new Set,this.uc=new Hr(wt.comparator),this.cc=new Map,this.ac=new Vy,this.hc={},this.lc=new Map,this.fc=ml.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function VE(n,e){return md.apply(this,arguments)}function md(){return md=(0,W.Z)(function*(n,e){const t=ng(n);let i,a;const l=t.ic.get(e);if(l)i=l.targetId,t.sharedClientState.addLocalQueryTarget(i),a=l.view.ec();else{const h=yield lc(t.localStore,ro(e));t.isPrimaryClient&&nv(t.remoteStore,h);const v=t.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,a=yield yd(t,e,i,"current"===v,h.resumeToken)}return a}),md.apply(this,arguments)}function yd(n,e,t,i,a){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,W.Z)(function*(n,e,t,i,a){n._c=(Q,Ie,Ge)=>{return(et=(0,W.Z)(function*(Rt,Kt,Nr,ti){let yr=Kt.view.Wu(Nr);yr.$i&&(yr=yield Bh(Rt.localStore,Kt.query,!1).then(({documents:cr})=>Kt.view.Wu(cr,yr)));const Yi=ti&&ti.targetChanges.get(Kt.targetId),Ar=Kt.view.applyChanges(yr,Rt.isPrimaryClient,Yi);return vv(Rt,Kt.targetId,Ar.Xu),Ar.snapshot}),function(Rt,Kt,Nr,ti){return et.apply(this,arguments)})(n,Q,Ie,Ge);var et};const l=yield Bh(n.localStore,e,!0),h=new pv(e,l.Hi),v=h.Wu(l.documents),S=td.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),k=h.applyChanges(v,n.isPrimaryClient,S);vv(n,t,k.Xu);const j=new FE(e,t,h);return n.ic.set(e,j),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),k.snapshot}),Xp.apply(this,arguments)}function cD(n,e){return eg.apply(this,arguments)}function eg(){return eg=(0,W.Z)(function*(n,e){const t=xt(n),i=t.ic.get(e),a=t.rc.get(i.targetId);if(a.length>1)return t.rc.set(i.targetId,a.filter(l=>!wh(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Na(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),dc(t.remoteStore,i.targetId),Nu(t,i.targetId)}).catch(il))):(Nu(t,i.targetId),yield Na(t.localStore,i.targetId,!0))}),eg.apply(this,arguments)}function $E(){return $E=(0,W.Z)(function*(n,e,t){const i=qh(n);try{const a=yield function(l,h){const v=xt(l),S=Sr.now(),k=h.reduce((Ie,Ge)=>Ie.add(Ge.key),kn());let j,Q;return v.persistence.runTransaction("Locally write mutations","readwrite",Ie=>{let Ge=To(),et=kn();return v.Gi.getEntries(Ie,k).next(Rt=>{Ge=Rt,Ge.forEach((Kt,Nr)=>{Nr.isValidDocument()||(et=et.add(Kt))})}).next(()=>v.localDocuments.getOverlayedDocuments(Ie,Ge)).next(Rt=>{j=Rt;const Kt=[];for(const Nr of h){const ti=mp(Nr,j.get(Nr.key).overlayedDocument);null!=ti&&Kt.push(new Ja(Nr.key,ti,Zm(ti.value.mapValue),ei.exists(!0)))}return v.mutationQueue.addMutationBatch(Ie,S,Kt,h)}).next(Rt=>{Q=Rt;const Kt=Rt.applyToLocalDocumentSet(j,et);return v.documentOverlayCache.saveOverlays(Ie,Rt.batchId,Kt)})}).then(()=>({batchId:Q.batchId,changes:ly(j)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(l,h,v){let S=l.hc[l.currentUser.toKey()];S||(S=new Hr(sn)),S=S.insert(h,v),l.hc[l.currentUser.toKey()]=S}(i,a.batchId,t),yield nu(i,a.changes),yield Hh(i.remoteStore)}catch(a){const l=fc(a,"Failed to persist write");t.reject(l)}}),$E.apply(this,arguments)}function jE(n,e){return HE.apply(this,arguments)}function HE(){return HE=(0,W.Z)(function*(n,e){const t=xt(n);try{const i=yield Lb(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.cc.get(l);h&&(Gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.nc=!0:a.modifiedDocuments.size>0?Gt(h.nc):a.removedDocuments.size>0&&(Gt(h.nc),h.nc=!1))}),yield nu(t,i,e)}catch(i){yield il(i)}}),HE.apply(this,arguments)}function dD(n,e,t){const i=xt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.ic.forEach((l,h)=>{const v=h.view.bu(e);v.snapshot&&a.push(v.snapshot)}),function(l,h){const v=xt(l);v.onlineState=h;let S=!1;v.queries.forEach((k,j)=>{for(const Q of j.listeners)Q.bu(h)&&(S=!0)}),S&&dv(v)}(i.eventManager,e),a.length&&i.sc.Wo(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function GE(n,e,t){return gv.apply(this,arguments)}function gv(){return gv=(0,W.Z)(function*(n,e,t){const i=xt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.cc.get(e),l=a&&a.key;if(l){let h=new Hr(wt.comparator);h=h.insert(l,Fr.newNoDocument(l,jt.min()));const v=kn().add(l),S=new ed(jt.min(),new Map,new br(sn),h,v);yield jE(i,S),i.uc=i.uc.remove(l),i.cc.delete(e),Pu(i)}else yield Na(i.localStore,e,!1).then(()=>Nu(i,e,t)).catch(il)}),gv.apply(this,arguments)}function hD(n,e){return mv.apply(this,arguments)}function mv(){return mv=(0,W.Z)(function*(n,e){const t=xt(n),i=e.batch.batchId;try{const a=yield Fp(t.localStore,e);yv(t,i,null),qE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield nu(t,a)}catch(a){yield il(a)}}),mv.apply(this,arguments)}function Wb(n,e,t){return zE.apply(this,arguments)}function zE(){return zE=(0,W.Z)(function*(n,e,t){const i=xt(n);try{const a=yield function(l,h){const v=xt(l);return v.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let k;return v.mutationQueue.lookupMutationBatch(S,h).next(j=>(Gt(null!==j),k=j.keys(),v.mutationQueue.removeMutationBatch(S,j))).next(()=>v.mutationQueue.performConsistencyCheck(S)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(S,k,h)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(S,k)).next(()=>v.localDocuments.getDocuments(S,k))})}(i.localStore,e);yv(i,e,t),qE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield nu(i,a)}catch(a){yield il(a)}}),zE.apply(this,arguments)}function qE(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function yv(n,e,t){const i=xt(n);let a=i.hc[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.hc[i.currentUser.toKey()]=a}}function Nu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||KE(n,i)})}function KE(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(dc(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Pu(n))}function vv(n,e,t){for(const i of t)i instanceof lD?(n.ac.addReference(i.key,e),YE(n,i)):i instanceof Jp?(ot("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||KE(n,i.key)):Ft()}function YE(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(ot("SyncEngine","New document in limbo: "+t),n.oc.add(i),Pu(n))}function Pu(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new wt(jn.fromString(e)),i=n.fc.next();n.cc.set(i,new LE(t)),n.uc=n.uc.insert(t,i),nv(n.remoteStore,new tu(ro(Zc(t.path)),i,2,Eo.at))}}function nu(n,e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,W.Z)(function*(n,e,t){const i=xt(n),a=[],l=[],h=[];var v;i.ic.isEmpty()||(i.ic.forEach((v,S)=>{h.push(i._c(S,e,t).then(k=>{if((k||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(S.targetId,k?.fromCache?"not-current":"current"),k){a.push(k);const j=Hy.Ci(S.targetId,k);l.push(j)}}))}),yield Promise.all(h),i.sc.Wo(a),yield(v=(0,W.Z)(function*(S,k){const j=xt(S);try{yield j.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>xe.forEach(k,Ie=>xe.forEach(Ie.Si,Ge=>j.persistence.referenceDelegate.addReference(Q,Ie.targetId,Ge)).next(()=>xe.forEach(Ie.Di,Ge=>j.persistence.referenceDelegate.removeReference(Q,Ie.targetId,Ge)))))}catch(Q){if(!Za(Q))throw Q;ot("LocalStore","Failed to update sequence numbers: "+Q)}for(const Q of k){const Ie=Q.targetId;if(!Q.fromCache){const Ge=j.qi.get(Ie),Rt=Ge.withLastLimboFreeSnapshotVersion(Ge.snapshotVersion);j.qi=j.qi.insert(Ie,Rt)}}}),function(S,k){return v.apply(this,arguments)})(i.localStore,l))}),Wh.apply(this,arguments)}function _v(n,e){return wv.apply(this,arguments)}function wv(){return wv=(0,W.Z)(function*(n,e){const t=xt(n);if(!t.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const i=yield Gy(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(h=>{h.forEach(v=>{v.reject(new tt(Oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nu(t,i.ji)}var a}),wv.apply(this,arguments)}function Ev(n,e){const t=xt(n),i=t.cc.get(e);if(i&&i.nc)return kn().add(i.key);{let a=kn();const l=t.rc.get(e);if(!l)return a;for(const h of l){const v=t.ic.get(h);a=a.unionWith(v.view.ju)}return a}}function ng(n){const e=xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ev.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GE.bind(null,e),e.sc.Wo=oD.bind(null,e.eventManager),e.sc.wc=aD.bind(null,e.eventManager),e}function qh(n){const e=xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wb.bind(null,e),e}class r0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.yt=$p(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function kp(n,e,t,i){return new zT(n,e,t,i)}(this.persistence,new wE,e.initialUser,this.yt)}yc(e){return new vE(By.Bs,this.yt)}gc(e){return new ev}terminate(){var e=this;return(0,W.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sv{initialize(e,t){var i=this;return(0,W.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>dD(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=_v.bind(null,i.syncEngine),yield function Yp(n,e){return ov.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uv}createDatastore(e){const t=$p(e.databaseInfo.databaseId),i=new ZT(e.databaseInfo);return new $b(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,l=v=>dD(this.syncEngine,v,0),h=tv.C()?new tv:new IE,new Hb(t,i,a,l,h);var t,i,a,l,h}createSyncEngine(e,t){return function(i,a,l,h,v,S,k){const j=new UE(i,a,l,h,v,S);return k&&(j.dc=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,W.Z)(function*(t){const i=xt(t);ot("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield cc(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function s0(n,e,t){if(!t)throw new tt(Oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function o0(n){if(!wt.isDocumentKey(n))throw new tt(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a0(n){if(wt.isDocumentKey(n))throw new tt(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ft()}function nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rg(n);throw new tt(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const mD=new Map;class yD{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Qb(n,e,t,i){if(!0===e&&!0===i)throw new tt(Oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yD(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new hh;switch(t.type){case"gapi":return new tT(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tt(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mD.get(e);t&&(ot("ComponentProvider","Removing Datastore"),mD.delete(e),t.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class zs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class ku extends zs{constructor(e,t,i){super(e,t,Zc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new wt(e))}withConverter(e){return new ku(this.firestore,e,this._path)}}function Jb(n,e,...t){if(n=(0,Ce.m9)(n),s0("collection","path",e),n instanceof ig){const i=jn.fromString(e,...t);return a0(i),new ku(n,null,i)}{if(!(n instanceof Bi||n instanceof ku))throw new tt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jn.fromString(e,...t));return a0(i),new ku(n.firestore,null,i)}}function _D(n,e,...t){if(n=(0,Ce.m9)(n),1===arguments.length&&(e=ph.R()),s0("doc","path",e),n instanceof ig){const i=jn.fromString(e,...t);return o0(i),new Bi(n,null,new wt(i))}{if(!(n instanceof Bi||n instanceof ku))throw new tt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(jn.fromString(e,...t));return o0(i),new Bi(n.firestore,n instanceof ku?n.converter:null,new wt(i))}}class u{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class V{constructor(e,t,i,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Ms.UNAUTHENTICATED,this.clientId=ph.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,W.Z)(function*(v){ot("FirestoreClient","Received user=",v.uid),yield l.authCredentialListener(v),l.user=v});return function(v){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,h=>(ot("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,W.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=fc(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function z(n,e){return le.apply(this,arguments)}function le(){return le=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,W.Z)(function*(l){i.isEqual(l)||(yield Gy(e.localStore,l),i=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),le.apply(this,arguments)}function Ee(n,e){return He.apply(this,arguments)}function He(){return He=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield it(n);ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>qp(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>qp(e.remoteStore,l)),n.onlineComponents=e}),He.apply(this,arguments)}function it(n){return mt.apply(this,arguments)}function mt(){return mt=(0,W.Z)(function*(n){return n.offlineComponents||(ot("FirestoreClient","Using default OfflineComponentProvider"),yield z(n,new r0)),n.offlineComponents}),mt.apply(this,arguments)}function Pt(n){return zt.apply(this,arguments)}function zt(){return zt=(0,W.Z)(function*(n){return n.onlineComponents||(ot("FirestoreClient","Using default OnlineComponentProvider"),yield Ee(n,new Sv)),n.onlineComponents}),zt.apply(this,arguments)}function _l(n){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,W.Z)(function*(n){const e=yield Pt(n),t=e.eventManager;return t.onListen=VE.bind(null,e.syncEngine),t.onUnlisten=cD.bind(null,e.syncEngine),t}),Kh.apply(this,arguments)}class RC{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new DE(this,"async_queue_retry"),this.Wc=()=>{const t=jh();t&&ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=jh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new $r;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,W.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Za(t))throw t;ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,Si("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=av.createAndSchedule(this,e,t,i,l=>this.Yc(l));return this.Uc.push(a),a}zc(){this.Kc&&Ft()}verifyOperationInProgress(){}Xc(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function wD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(n)}class di extends ig{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new RC,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xb(this),this._firestoreClient.terminate()}}function PC(n,e){const t="object"==typeof n?n:(0,$e.Mq)(),i="string"==typeof n?n:e||"(default)",a=(0,$e.qX)(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=(0,Ce.P0)("firestore");l&&function vD(n,e,t,i={}){var a;const l=(n=nr(n,ig))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&tl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let h,v;if("string"==typeof i.mockUserToken)h=i.mockUserToken,v=Ms.MOCK_USER;else{h=(0,Ce.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new tt(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ms(S)}n._authCredentials=new XI(new JI(h,v))}}(a,...l)}return a}function cs(n){return n._firestoreClient||Xb(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Xb(n){var e;const t=n._freezeSettings(),i=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hw(n._databaseId,l,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var l,v;n._firestoreClient=new V(n._authCredentials,n._appCheckCredentials,n._queue,i)}class Yh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yh(Ui.fromBase64String(e))}catch(t){throw new tt(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yh(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ag{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ED{constructor(e){this._methodName=e}}class ID{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const kC=/^__.*__$/;class OC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ih(e,this.data,t,this.fieldTransforms)}}class nC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class u0{constructor(e,t,i,a,l,h){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=a,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new u0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:i,oa:!1});return a.ua(e),a}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:i,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return c0(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(rC(this.sa)&&kC.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class FC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||$p(e)}da(e,t,i,a=!1){return new u0({sa:e,methodName:t,fa:i,path:Or.emptyPath(),oa:!1,la:a},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ug(n){const e=n._freezeSettings(),t=$p(n._databaseId);return new FC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TD(n,e,t,i,a,l={}){const h=n.da(l.merge||l.mergeFields?2:0,e,t,a);bD("Data must be an object, but it was:",h,i);const v=uC(i,h);let S,k;if(l.merge)S=new Io(h.fieldMask),k=h.fieldTransforms;else if(l.mergeFields){const j=[];for(const Q of l.mergeFields){const Ie=CD(e,Q,t);if(!h.contains(Ie))throw new tt(Oe.INVALID_ARGUMENT,`Field '${Ie}' is specified in your field mask but missing from your input data.`);cC(j,Ie)||j.push(Ie)}S=new Io(j),k=h.fieldTransforms.filter(Q=>S.covers(Q.field))}else S=null,k=h.fieldTransforms;return new OC(new us(v),S,k)}class Pv extends ED{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pv}}function Zh(n,e){if(lC(n=(0,Ce.m9)(n)))return bD("Unsupported field value:",e,n),uC(n,e);if(n instanceof ED)return function(t,i){if(!rC(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const a=[];let l=0;for(const h of t){let v=Zh(h,i.aa(l));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,Ce.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sy(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Sr.fromDate(t);return{timestampValue:nd(i.yt,a)}}if(t instanceof Sr){const a=new Sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:nd(i.yt,a)}}if(t instanceof ID)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yh)return{bytesValue:dy(i.yt,t._byteString)};if(t instanceof Bi){const a=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw i.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hy(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${rg(t)}`)}(n,e)}function uC(n,e){const t={};return Bm(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gl(n,(i,a)=>{const l=Zh(a,e.ra(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function lC(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof ID||n instanceof Yh||n instanceof Bi||n instanceof ED)}function bD(n,e,t){if(!lC(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=rg(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function CD(n,e,t){if((e=(0,Ce.m9)(e))instanceof ag)return e._internalPath;if("string"==typeof e)return l0(n,e);throw c0("Field path arguments must be of type string or ",n,!1,void 0,t)}const BC=new RegExp("[~\\*/\\[\\]]");function l0(n,e,t){if(e.search(BC)>=0)throw c0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ag(...e.split("."))._internalPath}catch{throw c0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function c0(n,e,t,i,a){const l=i&&!i.isEmpty(),h=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let S="";return(l||h)&&(S+=" (found",l&&(S+=` in field ${i}`),h&&(S+=` in document ${a}`),S+=")"),new tt(Oe.INVALID_ARGUMENT,v+n+S)}function cC(n,e){return n.some(t=>t.isEqual(e))}class SD{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(d0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $C extends SD{data(){return super.data()}}function d0(n,e){return"string"==typeof e?l0(n,e):e instanceof ag?e._internalPath:e._delegate._internalPath}class Qh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cg extends SD{constructor(e,t,i,a,l,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new g0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(d0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class g0 extends cg{data(e={}){return super.data(e)}}class dg{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Qh(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new g0(this._firestore,this._userDataWriter,i.key,i,new Qh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new g0(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Qh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const v=new g0(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Qh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let S=-1,k=-1;return 0!==h.type&&(S=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),k=l.indexOf(h.doc.key)),{type:GC(h.type),doc:v,oldIndex:S,newIndex:k}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}class _d extends class HC{convertValue(e,t="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ft()}}convertObject(e,t){const i={};return Gl(e.fields,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new ID(Xr(e.latitude),Xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jm(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const t=Du(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=jn.fromString(e);Gt(zw(i));const a=new Tu(i.get(1),i.get(3)),l=new wt(i.popFirst(5));return a.isEqual(t)||Si(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}function zC(n,e,t,...i){n=nr(n,Bi);const a=nr(n.firestore,di),l=ug(a);let h;return h="string"==typeof(e=(0,Ce.m9)(e))||e instanceof ag?function oC(n,e,t,i,a,l){const h=n.da(1,e,t),v=[CD(e,i,t)],S=[a];if(l.length%2!=0)throw new tt(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ie=0;Ie<l.length;Ie+=2)v.push(CD(e,l[Ie])),S.push(l[Ie+1]);const k=[],j=us.empty();for(let Ie=v.length-1;Ie>=0;--Ie)if(!cC(k,v[Ie])){const Ge=v[Ie];let et=S[Ie];et=(0,Ce.m9)(et);const Rt=h.ca(Ge);if(et instanceof Pv)k.push(Ge);else{const Kt=Zh(et,Rt);null!=Kt&&(k.push(Ge),j.set(Ge,Kt))}}const Q=new Io(k);return new nC(j,Q,h.fieldTransforms)}(l,"updateDoc",n._key,e,t,i):function sC(n,e,t,i){const a=n.da(1,e,t);bD("Data must be an object, but it was:",a,i);const l=[],h=us.empty();Gl(i,(S,k)=>{const j=l0(e,S,t);k=(0,Ce.m9)(k);const Q=a.ca(j);if(k instanceof Pv)l.push(j);else{const Ie=Zh(k,Q);null!=Ie&&(l.push(j),h.set(j,Ie))}});const v=new Io(l);return new nC(h,v,a.fieldTransforms)}(l,"updateDoc",n._key,e),Ov(a,[h.toMutation(n._key,ei.exists(!0))])}function WC(n){return Ov(nr(n.firestore,di),[new Zl(n._key,ei.none())])}function qC(n,e){const t=nr(n.firestore,di),i=_D(n),a=function MD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e);return Ov(t,[TD(ug(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,ei.exists(!1))]).then(()=>i)}function Ov(n,e){return function(t,i){const a=new $r;return t.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function BE(n,e,t){return $E.apply(this,arguments)}(yield function Lr(n){return Pt(n).then(e=>e.syncEngine)}(t),i,a)})),a.promise}(cs(n),e)}!function(n,e=!0){Vc=$e.Jn,(0,$e.Xd)(new oe.wA("firestore",(t,{instanceIdentifier:i,options:a})=>{const l=t.getProvider("app").getImmediate(),h=new di(new eT(t.getProvider("auth-internal")),new fh(t.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new tt(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(v.options.projectId,S)}(l,i),l);return a=Object.assign({useFetchStreams:e},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),(0,$e.KN)(ow,"3.8.0",n),(0,$e.KN)(ow,"3.8.0","esm2017")}();var JC=H(9751),_C=H(4004),XC={includeMetadataChanges:!1};function RD(n,e){return void 0===e&&(e=XC),new JC.y(function(t){var i=function KC(n,...e){var t,i,a;n=(0,Ce.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||wD(e[h])||(l=e[h],h++);const v={includeMetadataChanges:l.includeMetadataChanges};if(wD(e[h])){const Q=e[h];e[h]=null===(t=Q.next)||void 0===t?void 0:t.bind(Q),e[h+1]=null===(i=Q.error)||void 0===i?void 0:i.bind(Q),e[h+2]=null===(a=Q.complete)||void 0===a?void 0:a.bind(Q)}let S,k,j;if(n instanceof Bi)k=nr(n.firestore,di),j=Zc(n._key.path),S={next:Q=>{e[h]&&e[h](function xD(n,e,t){const i=t.docs.get(e._key),a=new _d(n);return new cg(n,a,e._key,i,new Qh(t.hasPendingWrites,t.fromCache),e.converter)}(k,n,Q))},error:e[h+1],complete:e[h+2]};else{const Q=nr(n,zs);k=nr(Q.firestore,di),j=Q._query;const Ie=new _d(k);S={next:Ge=>{e[h]&&e[h](new dg(k,Ie,Q,Ge))},error:e[h+1],complete:e[h+2]},function dC(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(Q,Ie,Ge,et){const Rt=new u(et),Kt=new Qp(Ie,Rt,Ge);return Q.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function Pa(n,e){return lv.apply(this,arguments)}(yield _l(Q),Kt)})),()=>{Rt.bc(),Q.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function OE(n,e){return cv.apply(this,arguments)}(yield _l(Q),Kt)}))}}(cs(k),j,v,S)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function oS(n,e){return void 0===e&&(e={}),function sS(n){return RD(n,{includeMetadataChanges:!0}).pipe((0,_C.U)(function(e){return e.docs}))}(n).pipe((0,_C.U)(function(t){return t.map(function(i){return function wC(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(i,e)})}))}class y0{constructor(e){return e}}const DC="firestore",kD=new L.OlP("angularfire2.firestore-instances");function lS(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new y0(i)}}const cS={provide:class aS{constructor(){return(0,w.vb)(DC)}},deps:[[new L.FiY,kD]]},dS={provide:y0,useFactory:function uS(n,e){const t=(0,w.JM)(DC,n,e);return t&&new y0(t)},deps:[[new L.FiY,kD],te.Ot]};let hS=(()=>{class n{constructor(){(0,ve.KN)("angularfire",w.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=L.oAB({type:n}),n.\u0275inj=L.cJS({providers:[dS,cS]}),n})();function fS(n,...e){return{ngModule:hS,providers:[{provide:kD,useFactory:lS(n),multi:!0,deps:[L.R0b,L.zs3,w.HU,te.z6,[new L.FiY,Hs],[new L.FiY,v_],...e]}]}}const pS=(0,w.u3)(oS,!0),gS=(0,w.u3)(qC,!0),mS=(0,w.u3)(Jb,!0),yS=(0,w.u3)(WC,!0),vS=(0,w.u3)(_D,!0),_S=(0,w.u3)(PC,!0),wS=(0,w.u3)(zC,!0)},9883:(Bt,We,H)=>{H.d(We,{q4:()=>g,HU:()=>ra,vb:()=>rs,JM:()=>Li,u3:()=>pg});var w=H(8256),L=H(259),te=H(5861),ve=H(9681),W=H(2090),Ce=H(4859),$e=H(1877),Be=H(8766);const qe="@firebase/installations",Pe="w:0.6.0",nt="FIS_v2",on=new W.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(C){return C instanceof W.ZR&&C.code.includes("request-failed")}function Le({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function me(C){return{token:C.token,requestStatus:2,expiresIn:Y(C.expiresIn),creationTime:Date.now()}}function _e(C,x){return Je.apply(this,arguments)}function Je(){return(Je=(0,te.Z)(function*(C,x){const K=(yield x.json()).error;return on.create("request-failed",{requestName:C,serverCode:K.code,serverMessage:K.message,serverStatus:K.status})})).apply(this,arguments)}function Ze({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function we(C,{refreshToken:x}){const F=Ze(C);return F.append("Authorization",function ae(C){return`${nt} ${C}`}(x)),F}function Ke(C){return ie.apply(this,arguments)}function ie(){return(ie=(0,te.Z)(function*(C){const x=yield C();return x.status>=500&&x.status<600?C():x})).apply(this,arguments)}function Y(C){return Number(C.replace("s","000"))}function ce(C,x){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,te.Z)(function*({appConfig:C,heartbeatServiceProvider:x},{fid:F}){const K=Le(C),ye=Ze(C),De=x.getImmediate({optional:!0});if(De){const Jt=yield De.getHeartbeatsHeader();Jt&&ye.append("x-firebase-client",Jt)}const Nt={method:"POST",headers:ye,body:JSON.stringify({fid:F,authVersion:nt,appId:C.appId,sdkVersion:Pe})},Zt=yield Ke(()=>fetch(K,Nt));if(Zt.ok){const Jt=yield Zt.json();return{fid:Jt.fid||F,registrationStatus:2,refreshToken:Jt.refreshToken,authToken:me(Jt.authToken)}}throw yield _e("Create Installation",Zt)})).apply(this,arguments)}function Ne(C){return new Promise(x=>{setTimeout(x,C)})}const Xt=/^[cdef][\w-]{21}$/;function Vt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const F=function yn(C){return function bt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Xt.test(F)?F:""}catch{return""}}function Qn(C){return`${C.appName}!${C.appId}`}const Me=new Map;function rt(C,x){const F=Qn(C);st(F,x),function yt(C,x){const F=function Tn(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=C=>{st(C.data.key,C.data.fid)}),wn}();F&&F.postMessage({key:C,fid:x}),function Ur(){0===Me.size&&wn&&(wn.close(),wn=null)}()}(F,x)}function st(C,x){const F=Me.get(C);if(F)for(const K of F)K(x)}let wn=null;const Hn="firebase-installations-store";let Mr=null;function Mi(){return Mr||(Mr=(0,Be.X3)("firebase-installations-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Hn)}})),Mr}function ft(C,x){return qn.apply(this,arguments)}function qn(){return(qn=(0,te.Z)(function*(C,x){const F=Qn(C),ye=(yield Mi()).transaction(Hn,"readwrite"),De=ye.objectStore(Hn),Xe=yield De.get(F);return yield De.put(x,F),yield ye.done,(!Xe||Xe.fid!==x.fid)&&rt(C,x.fid),x})).apply(this,arguments)}function hs(C){return zr.apply(this,arguments)}function zr(){return(zr=(0,te.Z)(function*(C){const x=Qn(C),K=(yield Mi()).transaction(Hn,"readwrite");yield K.objectStore(Hn).delete(x),yield K.done})).apply(this,arguments)}function hi(C,x){return _i.apply(this,arguments)}function _i(){return(_i=(0,te.Z)(function*(C,x){const F=Qn(C),ye=(yield Mi()).transaction(Hn,"readwrite"),De=ye.objectStore(Hn),Xe=yield De.get(F),Nt=x(Xe);return void 0===Nt?yield De.delete(F):yield De.put(Nt,F),yield ye.done,Nt&&(!Xe||Xe.fid!==Nt.fid)&&rt(C,Nt.fid),Nt})).apply(this,arguments)}function rr(C){return ni.apply(this,arguments)}function ni(){return(ni=(0,te.Z)(function*(C){let x;const F=yield hi(C.appConfig,K=>{const ye=lt(K),De=Lt(C,ye);return x=De.registrationPromise,De.installationEntry});return""===F.fid?{installationEntry:yield x}:{installationEntry:F,registrationPromise:x}})).apply(this,arguments)}function lt(C){return xn(C||{fid:Vt(),registrationStatus:0})}function Lt(C,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(on.create("app-offline"))};const F={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},K=function an(C,x){return En.apply(this,arguments)}(C,F);return{installationEntry:F,registrationPromise:K}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:vr(C)}:{installationEntry:x}}function En(){return(En=(0,te.Z)(function*(C,x){try{const F=yield ce(C,x);return ft(C.appConfig,F)}catch(F){throw dt(F)&&409===F.customData.serverCode?yield hs(C.appConfig):yield ft(C.appConfig,{fid:x.fid,registrationStatus:0}),F}})).apply(this,arguments)}function vr(C){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,te.Z)(function*(C){let x=yield Pr(C.appConfig);for(;1===x.registrationStatus;)yield Ne(100),x=yield Pr(C.appConfig);if(0===x.registrationStatus){const{installationEntry:F,registrationPromise:K}=yield rr(C);return K||F}return x})).apply(this,arguments)}function Pr(C){return hi(C,x=>{if(!x)throw on.create("installation-not-found");return xn(x)})}function xn(C){return function $i(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Kn(C,x){return ri.apply(this,arguments)}function ri(){return(ri=(0,te.Z)(function*({appConfig:C,heartbeatServiceProvider:x},F){const K=Wt(C,F),ye=we(C,F),De=x.getImmediate({optional:!0});if(De){const Jt=yield De.getHeartbeatsHeader();Jt&&ye.append("x-firebase-client",Jt)}const Nt={method:"POST",headers:ye,body:JSON.stringify({installation:{sdkVersion:Pe,appId:C.appId}})},Zt=yield Ke(()=>fetch(K,Nt));if(Zt.ok)return me(yield Zt.json());throw yield _e("Generate Auth Token",Zt)})).apply(this,arguments)}function Wt(C,{fid:x}){return`${Le(C)}/${x}/authTokens:generate`}function xi(C){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,te.Z)(function*(C,x=!1){let F;const K=yield hi(C.appConfig,De=>{if(!dn(De))throw on.create("not-registered");const Xe=De.authToken;if(!x&&ne(Xe))return De;if(1===Xe.requestStatus)return F=Et(C,x),De;{if(!navigator.onLine)throw on.create("app-offline");const Nt=he(De);return F=ht(C,Nt),Nt}});return F?yield F:K.authToken})).apply(this,arguments)}function Et(C,x){return Se.apply(this,arguments)}function Se(){return(Se=(0,te.Z)(function*(C,x){let F=yield vt(C.appConfig);for(;1===F.authToken.requestStatus;)yield Ne(100),F=yield vt(C.appConfig);const K=F.authToken;return 0===K.requestStatus?xi(C,x):K})).apply(this,arguments)}function vt(C){return hi(C,x=>{if(!dn(x))throw on.create("not-registered");return function je(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function ht(C,x){return ln.apply(this,arguments)}function ln(){return(ln=(0,te.Z)(function*(C,x){try{const F=yield Kn(C,x),K=Object.assign(Object.assign({},x),{authToken:F});return yield ft(C.appConfig,K),F}catch(F){if(!dt(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const K=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield ft(C.appConfig,K)}else yield hs(C.appConfig);throw F}})).apply(this,arguments)}function dn(C){return void 0!==C&&2===C.registrationStatus}function ne(C){return 2===C.requestStatus&&!function J(C){const x=Date.now();return x<C.creationTime||C.creationTime+C.expiresIn<x+36e5}(C)}function he(C){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:x})}function St(){return(St=(0,te.Z)(function*(C){const x=C,{installationEntry:F,registrationPromise:K}=yield rr(x);return K?K.catch(console.error):xi(x).catch(console.error),F.fid})).apply(this,arguments)}function In(){return(In=(0,te.Z)(function*(C,x=!1){const F=C;return yield _r(F),(yield xi(F,x)).token})).apply(this,arguments)}function _r(C){return dr.apply(this,arguments)}function dr(){return(dr=(0,te.Z)(function*(C){const{registrationPromise:x}=yield rr(C);x&&(yield x)})).apply(this,arguments)}function at(C){return on.create("missing-app-config-values",{valueName:C})}const nn="installations",qr=C=>{const x=C.getProvider("app").getImmediate(),F=function Cn(C){if(!C||!C.options)throw at("App Configuration");if(!C.name)throw at("App Name");const x=["projectId","apiKey","appId"];for(const F of x)if(!C.options[F])throw at(F);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(x);return{app:x,appConfig:F,heartbeatServiceProvider:(0,ve.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Ws=C=>{const x=C.getProvider("app").getImmediate(),F=(0,ve.qX)(x,nn).getImmediate();return{getId:()=>function be(C){return St.apply(this,arguments)}(F),getToken:ye=>function $t(C){return In.apply(this,arguments)}(F,ye)}};(function Ln(){(0,ve.Xd)(new Ce.wA(nn,qr,"PUBLIC")),(0,ve.Xd)(new Ce.wA("installations-internal",Ws,"PRIVATE"))})(),(0,ve.KN)(qe,"0.6.0"),(0,ve.KN)(qe,"0.6.0","esm2017");const er="@firebase/remote-config",Vr=new W.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hr{constructor(x,F,K,ye){this.client=x,this.storage=F,this.storageCache=K,this.logger=ye}isCachedDataFresh(x,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const K=Date.now()-F,ye=K<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${K}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ye}.`),ye}fetch(x){var F=this;return(0,te.Z)(function*(){const[K,ye]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ye&&F.isCachedDataFresh(x.cacheMaxAgeMillis,K))return ye;x.eTag=ye&&ye.eTag;const De=yield F.client.fetch(x),Xe=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&Xe.push(F.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(Xe),De})()}}function Er(C=navigator){return C.languages&&C.languages[0]||C.language}class Ns{constructor(x,F,K,ye,De,Xe){this.firebaseInstallations=x,this.sdkVersion=F,this.namespace=K,this.projectId=ye,this.apiKey=De,this.appId=Xe}fetch(x){var F=this;return(0,te.Z)(function*(){const[K,ye]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,Nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Zt={sdk_version:F.sdkVersion,app_instance_id:K,app_instance_id_token:ye,app_id:F.appId,language_code:Er()},Jt={method:"POST",headers:Nt,body:JSON.stringify(Zt)},$n=fetch(Xe,Jt),mn=new Promise((ss,js)=>{x.signal.addEventListener(()=>{const ef=new Error("The operation was aborted.");ef.name="AbortError",js(ef)})});let is;try{yield Promise.race([$n,mn]),is=yield $n}catch(ss){let js="fetch-client-network";throw"AbortError"===ss?.name&&(js="fetch-timeout"),Vr.create(js,{originalErrorMessage:ss?.message})}let vi=is.status;const pu=is.headers.get("ETag")||void 0;let Id,Ml;if(200===is.status){let ss;try{ss=yield is.json()}catch(js){throw Vr.create("fetch-client-parse",{originalErrorMessage:js?.message})}Id=ss.entries,Ml=ss.state}if("INSTANCE_STATE_UNSPECIFIED"===Ml?vi=500:"NO_CHANGE"===Ml?vi=304:("NO_TEMPLATE"===Ml||"EMPTY_CONFIG"===Ml)&&(Id={}),304!==vi&&200!==vi)throw Vr.create("fetch-status",{httpStatus:vi});return{status:vi,eTag:pu,config:Id}})()}}class fi{constructor(x,F){this.client=x,this.storage=F}fetch(x){var F=this;return(0,te.Z)(function*(){const K=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(x,K)})()}attemptFetch(x,{throttleEndTimeMillis:F,backoffCount:K}){var ye=this;return(0,te.Z)(function*(){yield function fr(C,x){return new Promise((F,K)=>{const ye=Math.max(x-Date.now(),0),De=setTimeout(F,ye);C.addEventListener(()=>{clearTimeout(De),K(Vr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,F);try{const De=yield ye.client.fetch(x);return yield ye.storage.deleteThrottleMetadata(),De}catch(De){if(!function ps(C){if(!(C instanceof W.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(De))throw De;const Xe={throttleEndTimeMillis:Date.now()+(0,W.$s)(K),backoffCount:K+1};return yield ye.storage.setThrottleMetadata(Xe),ye.attemptFetch(x,Xe)}})()}}class iu{constructor(x,F,K,ye,De){this.app=x,this._client=F,this._storageCache=K,this._storage=ye,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ji(C,x){const F=C.target.error||void 0;return Vr.create(x,{originalErrorMessage:F&&F?.message})}const ao="app_namespace_store";class Ou{constructor(x,F,K,ye=function Mo(){return new Promise((C,x)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=K=>{x(Ji(K,"storage-open"))},F.onsuccess=K=>{C(K.target.result)},F.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(ao,{keyPath:"compositeKey"})}}catch(F){x(Vr.create("storage-open",{originalErrorMessage:F?.message}))}})}()){this.appId=x,this.appName=F,this.namespace=K,this.openDbPromise=ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var F=this;return(0,te.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ye,De)=>{const Nt=K.transaction([ao],"readonly").objectStore(ao),Zt=F.createCompositeKey(x);try{const Jt=Nt.get(Zt);Jt.onerror=$n=>{De(Ji($n,"storage-get"))},Jt.onsuccess=$n=>{const mn=$n.target.result;ye(mn?mn.value:void 0)}}catch(Jt){De(Vr.create("storage-get",{originalErrorMessage:Jt?.message}))}})})()}set(x,F){var K=this;return(0,te.Z)(function*(){const ye=yield K.openDbPromise;return new Promise((De,Xe)=>{const Zt=ye.transaction([ao],"readwrite").objectStore(ao),Jt=K.createCompositeKey(x);try{const $n=Zt.put({compositeKey:Jt,value:F});$n.onerror=mn=>{Xe(Ji(mn,"storage-set"))},$n.onsuccess=()=>{De()}}catch($n){Xe(Vr.create("storage-set",{originalErrorMessage:$n?.message}))}})})()}delete(x){var F=this;return(0,te.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ye,De)=>{const Nt=K.transaction([ao],"readwrite").objectStore(ao),Zt=F.createCompositeKey(x);try{const Jt=Nt.delete(Zt);Jt.onerror=$n=>{De(Ji($n,"storage-delete"))},Jt.onsuccess=()=>{ye()}}catch(Jt){De(Vr.create("storage-delete",{originalErrorMessage:Jt?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class ca{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,te.Z)(function*(){const F=x.storage.getLastFetchStatus(),K=x.storage.getLastSuccessfulFetchTimestampMillis(),ye=x.storage.getActiveConfig(),De=yield F;De&&(x.lastFetchStatus=De);const Xe=yield K;Xe&&(x.lastSuccessfulFetchTimestampMillis=Xe);const Nt=yield ye;Nt&&(x.activeConfig=Nt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Go(){return zo.apply(this,arguments)}function zo(){return(zo=(0,te.Z)(function*(){if(!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}!function Fu(){(0,ve.Xd)(new Ce.wA("remote-config",function C(x,{instanceIdentifier:F}){const K=x.getProvider("app").getImmediate(),ye=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vr.create("registration-window");if(!(0,W.hl)())throw Vr.create("indexed-db-unavailable");const{projectId:De,apiKey:Xe,appId:Nt}=K.options;if(!De)throw Vr.create("registration-project-id");if(!Xe)throw Vr.create("registration-api-key");if(!Nt)throw Vr.create("registration-app-id");const Zt=new Ou(Nt,K.name,F=F||"firebase"),Jt=new ca(Zt),$n=new $e.Yd(er);$n.logLevel=$e.in.ERROR;const mn=new Ns(ye,ve.Jn,F,De,Xe,Nt),is=new fi(mn,Zt),vi=new hr(is,Zt,Jt,$n),pu=new iu(K,vi,Jt,Zt,$n);return function Gn(C){const x=(0,W.m9)(C);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(pu),pu},"PUBLIC").setMultipleInstances(!0)),(0,ve.KN)(er,"0.4.0"),(0,ve.KN)(er,"0.4.0","esm2017")}();const da="/firebase-messaging-sw.js",Ni="/firebase-cloud-messaging-push-scope",qs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pi="google.c.a.c_id",La="google.c.a.c_l",ms="google.c.a.ts",El="google.c.a.e";var ys=(()=>{return(C=ys||(ys={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ys;var C})();function ki(C){const x=new Uint8Array(C);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vs(C){const F=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),K=atob(F),ye=new Uint8Array(K.length);for(let De=0;De<K.length;++De)ye[De]=K.charCodeAt(De);return ye}const Wo="fcm_token_details_db",Ko="fcm_token_object_Store";function Ua(C){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,te.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(Wo))return null;let x=null;return(yield(0,Be.X3)(Wo,5,{upgrade:(K=(0,te.Z)(function*(ye,De,Xe,Nt){var Zt;if(De<2||!ye.objectStoreNames.contains(Ko))return;const Jt=Nt.objectStore(Ko),$n=yield Jt.index("fcmSenderId").get(C);if(yield Jt.clear(),$n)if(2===De){const mn=$n;if(!mn.auth||!mn.p256dh||!mn.endpoint)return;x={token:mn.fcmToken,createTime:null!==(Zt=mn.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:mn.auth,p256dh:mn.p256dh,endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:"string"==typeof mn.vapidKey?mn.vapidKey:ki(mn.vapidKey)}}}else if(3===De){const mn=$n;x={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:ki(mn.auth),p256dh:ki(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:ki(mn.vapidKey)}}}else if(4===De){const mn=$n;x={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:ki(mn.auth),p256dh:ki(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:ki(mn.vapidKey)}}}}),function(De,Xe,Nt,Zt){return K.apply(this,arguments)})})).close(),yield(0,Be.Lj)(Wo),yield(0,Be.Lj)("fcm_vapid_details_db"),yield(0,Be.Lj)("undefined"),Ei(x)?x:null;var K}),Xi.apply(this,arguments)}function Ei(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:x}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Ti="firebase-messaging-store";let Ps=null;function lo(){return Ps||(Ps=(0,Be.X3)("firebase-messaging-database",1,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Ti)}})),Ps}function oi(C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,te.Z)(function*(C){const x=xr(C),K=yield(yield lo()).transaction(Ti).objectStore(Ti).get(x);if(K)return K;{const ye=yield Ua(C.appConfig.senderId);if(ye)return yield un(C,ye),ye}})).apply(this,arguments)}function un(C,x){return _s.apply(this,arguments)}function _s(){return(_s=(0,te.Z)(function*(C,x){const F=xr(C),ye=(yield lo()).transaction(Ti,"readwrite");return yield ye.objectStore(Ti).put(x,F),yield ye.done,x})).apply(this,arguments)}function co(C){return ks.apply(this,arguments)}function ks(){return(ks=(0,te.Z)(function*(C){const x=xr(C),K=(yield lo()).transaction(Ti,"readwrite");yield K.objectStore(Ti).delete(x),yield K.done})).apply(this,arguments)}function xr({appConfig:C}){return C.appId}const wr=new W.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Os(C,x){return ai.apply(this,arguments)}function ai(){return(ai=(0,te.Z)(function*(C,x){const F=yield Ks(C),K=Yr(x),ye={method:"POST",headers:F,body:JSON.stringify(K)};let De;try{De=yield(yield fetch(Oi(C.appConfig),ye)).json()}catch(Xe){throw wr.create("token-subscribe-failed",{errorInfo:Xe?.toString()})}if(De.error)throw wr.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw wr.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function $a(C,x){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,te.Z)(function*(C,x){const F=yield Ks(C),K=Yr(x.subscriptionOptions),ye={method:"PATCH",headers:F,body:JSON.stringify(K)};let De;try{De=yield(yield fetch(`${Oi(C.appConfig)}/${x.token}`,ye)).json()}catch(Xe){throw wr.create("token-update-failed",{errorInfo:Xe?.toString()})}if(De.error)throw wr.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw wr.create("token-update-no-token");return De.token})).apply(this,arguments)}function No(C,x){return pr.apply(this,arguments)}function pr(){return(pr=(0,te.Z)(function*(C,x){const K={method:"DELETE",headers:yield Ks(C)};try{const De=yield(yield fetch(`${Oi(C.appConfig)}/${x}`,K)).json();if(De.error)throw wr.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(ye){throw wr.create("token-unsubscribe-failed",{errorInfo:ye?.toString()})}})).apply(this,arguments)}function Oi({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Ks(C){return en.apply(this,arguments)}function en(){return(en=(0,te.Z)(function*({appConfig:C,installations:x}){const F=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Yr({p256dh:C,auth:x,endpoint:F,vapidKey:K}){const ye={web:{endpoint:F,auth:x,p256dh:C}};return K!==qs&&(ye.web.applicationPubKey=K),ye}const Lu=6048e5;function Ys(C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,te.Z)(function*(C){const x=yield es(C.swRegistration,C.vapidKey),F={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:x.endpoint,auth:ki(x.getKey("auth")),p256dh:ki(x.getKey("p256dh"))},K=yield oi(C.firebaseDependencies);if(K){if(Rr(K.subscriptionOptions,F))return Date.now()>=K.createTime+Lu?Zo(C,{token:K.token,createTime:Date.now(),subscriptionOptions:F}):K.token;try{yield No(C.firebaseDependencies,K.token)}catch(ye){console.warn(ye)}return Ye(C.firebaseDependencies,F)}return Ye(C.firebaseDependencies,F)})).apply(this,arguments)}function ha(C){return Us.apply(this,arguments)}function Us(){return(Us=(0,te.Z)(function*(C){const x=yield oi(C.firebaseDependencies);x&&(yield No(C.firebaseDependencies,x.token),yield co(C.firebaseDependencies));const F=yield C.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function Zo(C,x){return Po.apply(this,arguments)}function Po(){return(Po=(0,te.Z)(function*(C,x){try{const F=yield $a(C.firebaseDependencies,x),K=Object.assign(Object.assign({},x),{token:F,createTime:Date.now()});return yield un(C.firebaseDependencies,K),F}catch(F){throw yield ha(C),F}})).apply(this,arguments)}function Ye(C,x){return gn.apply(this,arguments)}function gn(){return(gn=(0,te.Z)(function*(C,x){const K={token:yield Os(C,x),createTime:Date.now(),subscriptionOptions:x};return yield un(C,K),K.token})).apply(this,arguments)}function es(C,x){return ho.apply(this,arguments)}function ho(){return(ho=(0,te.Z)(function*(C,x){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vs(x)})})).apply(this,arguments)}function Rr(C,x){return x.vapidKey===C.vapidKey&&x.endpoint===C.endpoint&&x.auth===C.auth&&x.p256dh===C.p256dh}function Gi(C){const x={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Di(C,x){if(!x.notification)return;C.notification={};const F=x.notification.title;F&&(C.notification.title=F);const K=x.notification.body;K&&(C.notification.body=K);const ye=x.notification.image;ye&&(C.notification.image=ye);const De=x.notification.icon;De&&(C.notification.icon=De)}(x,C),function Zr(C,x){!x.data||(C.data=x.data)}(x,C),function Qo(C,x){var F,K,ye,De,Xe;if(!(x.fcmOptions||null!==(F=x.notification)&&void 0!==F&&F.click_action))return;C.fcmOptions={};const Nt=null!==(ye=null===(K=x.fcmOptions)||void 0===K?void 0:K.link)&&void 0!==ye?ye:null===(De=x.notification)||void 0===De?void 0:De.click_action;Nt&&(C.fcmOptions.link=Nt);const Zt=null===(Xe=x.fcmOptions)||void 0===Xe?void 0:Xe.analytics_label;Zt&&(C.fcmOptions.analyticsLabel=Zt)}(x,C),x}function Jo(C){return"object"==typeof C&&!!C&&Pi in C}function Uu(C,x){const F=[];for(let K=0;K<C.length;K++)F.push(C.charAt(K)),K<x.length&&F.push(x.charAt(K));return F.join("")}function fa(C){return wr.create("missing-app-config-values",{valueName:C})}Uu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Uu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tl{constructor(x,F,K){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ye=function Il(C){if(!C||!C.options)throw fa("App Configuration Object");if(!C.name)throw fa("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:F}=C;for(const K of x)if(!F[K])throw fa(K);return{appName:C.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ye,installations:F,analyticsProvider:K}}_delete(){return Promise.resolve()}}function pi(C){return gi.apply(this,arguments)}function gi(){return(gi=(0,te.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(da,{scope:Ni}),C.swRegistration.update().catch(()=>{})}catch(x){throw wr.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function ko(C,x){return ui.apply(this,arguments)}function ui(){return(ui=(0,te.Z)(function*(C,x){if(!x&&!C.swRegistration&&(yield pi(C)),x||!C.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw wr.create("invalid-sw-registration");C.swRegistration=x}})).apply(this,arguments)}function ts(C,x){return fo.apply(this,arguments)}function fo(){return(fo=(0,te.Z)(function*(C,x){x?C.vapidKey=x:C.vapidKey||(C.vapidKey=qs)})).apply(this,arguments)}function pa(){return(pa=(0,te.Z)(function*(C,x){if(!navigator)throw wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wr.create("permission-blocked");return yield ts(C,x?.vapidKey),yield ko(C,x?.serviceWorkerRegistration),Ys(C)})).apply(this,arguments)}function pc(C,x,F){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,te.Z)(function*(C,x,F){const K=ja(x);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(K,{message_id:F[Pi],message_name:F[La],message_time:F[ms],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ja(C){switch(C){case ys.NOTIFICATION_CLICKED:return"notification_open";case ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function O(){return(O=(0,te.Z)(function*(C,x){const F=x.data;if(!F.isFirebaseMessaging)return;C.onMessageHandler&&F.messageType===ys.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Gi(F)):C.onMessageHandler.next(Gi(F)));const K=F.data;Jo(K)&&"1"===K[El]&&(yield pc(C,F.messageType,K))})).apply(this,arguments)}const A="@firebase/messaging",B="0.12.0",se=C=>{const x=new Tl(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function b(C,x){return O.apply(this,arguments)}(x,F)),x},Re=C=>{const x=C.getProvider("messaging").getImmediate();return{getToken:K=>function su(C,x){return pa.apply(this,arguments)}(x,K)}};function pt(){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,te.Z)(function*(){try{yield(0,W.eu)()}catch{return!1}return typeof window<"u"&&(0,W.hl)()&&(0,W.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ze(){(0,ve.Xd)(new Ce.wA("messaging",se,"PUBLIC")),(0,ve.Xd)(new Ce.wA("messaging-internal",Re,"PRIVATE")),(0,ve.KN)(A,B),(0,ve.KN)(A,B,"esm2017")}();const Wi="analytics",qi="firebase_id",Lo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ha="https://www.googletagmanager.com/gtag/js",or=new $e.Yd("@firebase/analytics");function Jn(C){return Promise.all(C.map(x=>x.catch(F=>F)))}function Zs(C,x){const F=document.createElement("script");F.src=`${Ha}?l=${C}&id=${x}`,F.async=!0,document.head.appendChild(F)}function ws(C,x,F,K,ye,De){return po.apply(this,arguments)}function po(){return(po=(0,te.Z)(function*(C,x,F,K,ye,De){const Xe=K[ye];try{if(Xe)yield x[Xe];else{const Zt=(yield Jn(F)).find(Jt=>Jt.measurementId===ye);Zt&&(yield x[Zt.appId])}}catch(Nt){or.error(Nt)}C("config",ye,De)})).apply(this,arguments)}function ou(C,x,F,K,ye){return ma.apply(this,arguments)}function ma(){return(ma=(0,te.Z)(function*(C,x,F,K,ye){try{let De=[];if(ye&&ye.send_to){let Xe=ye.send_to;Array.isArray(Xe)||(Xe=[Xe]);const Nt=yield Jn(F);for(const Zt of Xe){const Jt=Nt.find(mn=>mn.measurementId===Zt),$n=Jt&&x[Jt.appId];if(!$n){De=[];break}De.push($n)}}0===De.length&&(De=Object.values(x)),yield Promise.all(De),C("event",K,ye||{})}catch(De){or.error(De)}})).apply(this,arguments)}function uu(C){const x=window.document.getElementsByTagName("script");for(const F of Object.values(x))if(F.src&&F.src.includes(Ha)&&F.src.includes(C))return F;return null}const Es=new W.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cu=new class Dl{constructor(x={},F=1e3){this.throttleMetadata=x,this.intervalMillis=F}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,F){this.throttleMetadata[x]=F}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Bu(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function $u(C){return ju.apply(this,arguments)}function ju(){return(ju=(0,te.Z)(function*(C){var x;const{appId:F,apiKey:K}=C,ye={method:"GET",headers:Bu(K)},De=Lo.replace("{app-id}",F),Xe=yield fetch(De,ye);if(200!==Xe.status&&304!==Xe.status){let Nt="";try{const Zt=yield Xe.json();null!==(x=Zt.error)&&void 0!==x&&x.message&&(Nt=Zt.error.message)}catch{}throw Es.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:Nt})}return Xe.json()})).apply(this,arguments)}function ya(C){return va.apply(this,arguments)}function va(){return(va=(0,te.Z)(function*(C,x=cu,F){const{appId:K,apiKey:ye,measurementId:De}=C.options;if(!K)throw Es.create("no-app-id");if(!ye){if(De)return{measurementId:De,appId:K};throw Es.create("no-api-key")}const Xe=x.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Nt=new Hu;return setTimeout((0,te.Z)(function*(){Nt.abort()}),void 0!==F?F:6e4),Uo({appId:K,apiKey:ye,measurementId:De},Xe,Nt,x)})).apply(this,arguments)}function Uo(C,x,F){return ar.apply(this,arguments)}function ar(){return(ar=(0,te.Z)(function*(C,{throttleEndTimeMillis:x,backoffCount:F},K,ye=cu){var De;const{appId:Xe,measurementId:Nt}=C;try{yield mo(K,x)}catch(Zt){if(Nt)return or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:Xe,measurementId:Nt};throw Zt}try{const Zt=yield $u(C);return ye.deleteThrottleMetadata(Xe),Zt}catch(Zt){const Jt=Zt;if(!du(Jt)){if(ye.deleteThrottleMetadata(Xe),Nt)return or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:Xe,measurementId:Nt};throw Zt}const $n=503===Number(null===(De=Jt?.customData)||void 0===De?void 0:De.httpStatus)?(0,W.$s)(F,ye.intervalMillis,30):(0,W.$s)(F,ye.intervalMillis),mn={throttleEndTimeMillis:Date.now()+$n,backoffCount:F+1};return ye.setThrottleMetadata(Xe,mn),or.debug(`Calling attemptFetch again in ${$n} millis`),Uo(C,mn,K,ye)}})).apply(this,arguments)}function mo(C,x){return new Promise((F,K)=>{const ye=Math.max(x-Date.now(),0),De=setTimeout(F,ye);C.addEventListener(()=>{clearTimeout(De),K(Es.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function du(C){if(!(C instanceof W.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Hu{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Vo,ea;function Vs(){return(Vs=(0,te.Z)(function*(C,x,F,K,ye){if(ye&&ye.global)C("event",F,K);else{const De=yield x;C("event",F,Object.assign(Object.assign({},K),{send_to:De}))}})).apply(this,arguments)}function R(C){ea=C}function f(C){Vo=C}function p(){return T.apply(this,arguments)}function T(){return(T=(0,te.Z)(function*(){if(!(0,W.hl)())return or.warn(Es.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,W.eu)()}catch(C){return or.warn(Es.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function $(){return($=(0,te.Z)(function*(C,x,F,K,ye,De,Xe){var Nt;const Zt=ya(C);Zt.then(vi=>{F[vi.measurementId]=vi.appId,C.options.measurementId&&vi.measurementId!==C.options.measurementId&&or.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${vi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vi=>or.error(vi)),x.push(Zt);const Jt=p().then(vi=>{if(vi)return K.getId()}),[$n,mn]=yield Promise.all([Zt,Jt]);uu(De)||Zs(De,$n.measurementId),ea&&(ye("consent","default",ea),R(void 0)),ye("js",new Date);const is=null!==(Nt=Xe?.config)&&void 0!==Nt?Nt:{};return is.origin="firebase",is.update=!0,null!=mn&&(is[qi]=mn),ye("config",$n.measurementId,is),Vo&&(ye("set",Vo),f(void 0)),$n.measurementId})).apply(this,arguments)}class Z{constructor(x){this.app=x}_delete(){return delete ee[this.app.options.appId],Promise.resolve()}}let ee={},de=[];const ke={};let rn,Tt,ct="dataLayer",It=!1;function tn(C,x,F){!function Mn(){const C=[];if((0,W.ru)()&&C.push("This is a browser extension environment."),(0,W.zI)()||C.push("Cookies are not available."),C.length>0){const x=C.map((K,ye)=>`(${ye+1}) ${K}`).join(" "),F=Es.create("invalid-analytics-context",{errorInfo:x});or.warn(F.message)}}();const K=C.options.appId;if(!K)throw Es.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Es.create("no-api-key");or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ee[K])throw Es.create("already-exists",{id:K});if(!It){!function Vu(C){let x=[];Array.isArray(window[C])?x=window[C]:window[C]=x}(ct);const{wrappedGtag:De,gtagCore:Xe}=function au(C,x,F,K,ye){let De=function(...Xe){window[K].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(De=window[ye]),window[ye]=function go(C,x,F,K){function De(){return(De=(0,te.Z)(function*(Xe,Nt,Zt){try{"event"===Xe?yield ou(C,x,F,Nt,Zt):"config"===Xe?yield ws(C,x,F,K,Nt,Zt):"consent"===Xe?C("consent","update",Zt):C("set",Nt)}catch(Jt){or.error(Jt)}})).apply(this,arguments)}return function ye(Xe,Nt,Zt){return De.apply(this,arguments)}}(De,C,x,F),{gtagCore:De,wrappedGtag:window[ye]}}(ee,de,ke,ct,"gtag");Tt=De,rn=Xe,It=!0}return ee[K]=function N(C,x,F,K,ye,De,Xe){return $.apply(this,arguments)}(C,de,ke,x,rn,ct,F),new Z(C)}function Tr(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,te.Z)(function*(){if((0,W.ru)()||!(0,W.zI)()||!(0,W.hl)())return!1;try{return yield(0,W.eu)()}catch{return!1}})).apply(this,arguments)}const na="@firebase/analytics";!function Js(){(0,ve.Xd)(new Ce.wA(Wi,(x,{options:F})=>tn(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,ve.Xd)(new Ce.wA("analytics-internal",function C(x){try{const F=x.getProvider(Wi).getImmediate();return{logEvent:(K,ye,De)=>function Ga(C,x,F,K){C=(0,W.m9)(C),function gc(C,x,F,K,ye){return Vs.apply(this,arguments)}(Tt,ee[C.app.options.appId],x,F,K).catch(ye=>or.error(ye))}(F,K,ye,De)}}catch(F){throw Es.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,ve.KN)(na,"0.9.0"),(0,ve.KN)(na,"0.9.0","esm2017")}();var Ot=H(727);class Yt extends Ot.w0{constructor(x,F){super()}schedule(x,F=0){return this}}const At={setInterval(C,x,...F){const{delegate:K}=At;return K?.setInterval?K.setInterval(C,x,...F):setInterval(C,x,...F)},clearInterval(C){const{delegate:x}=At;return(x?.clearInterval||clearInterval)(C)},delegate:void 0};var Pn=H(8737);class Dr extends Yt{constructor(x,F){super(x,F),this.scheduler=x,this.work=F,this.pending=!1}schedule(x,F=0){var K;if(this.closed)return this;this.state=x;const ye=this.id,De=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(De,ye,F)),this.pending=!0,this.delay=F,this.id=null!==(K=this.id)&&void 0!==K?K:this.requestAsyncId(De,this.id,F),this}requestAsyncId(x,F,K=0){return At.setInterval(x.flush.bind(x,this),K)}recycleAsyncId(x,F,K=0){if(null!=K&&this.delay===K&&!1===this.pending)return F;null!=F&&At.clearInterval(F)}execute(x,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const K=this._execute(x,F);if(K)return K;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,F){let ye,K=!1;try{this.work(x)}catch(De){K=!0,ye=De||new Error("Scheduled action threw falsy error")}if(K)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:x,scheduler:F}=this,{actions:K}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pn.P)(K,this),null!=x&&(this.id=this.recycleAsyncId(F,x,null)),this.delay=null,super.unsubscribe()}}}const mi={now:()=>(mi.delegate||Date).now(),delegate:void 0};class ur{constructor(x,F=ur.now){this.schedulerActionCtor=x,this.now=F}schedule(x,F=0,K){return new this.schedulerActionCtor(this,x).schedule(K,F)}}ur.now=mi.now;class Zn extends ur{constructor(x,F=ur.now){super(x,F),this.actions=[],this._active=!1}flush(x){const{actions:F}=this;if(this._active)return void F.push(x);let K;this._active=!0;do{if(K=x.execute(x.state,x.delay))break}while(x=F.shift());if(this._active=!1,K){for(;x=F.shift();)x.unsubscribe();throw K}}}const fu=new class wa extends Zn{}(class Ts extends Dr{constructor(x,F){super(x,F),this.scheduler=x,this.work=F}schedule(x,F=0){return F>0?super.schedule(x,F):(this.delay=F,this.state=x,this.scheduler.flush(this),this)}execute(x,F){return F>0||this.closed?super.execute(x,F):this._execute(x,F)}requestAsyncId(x,F,K=0){return null!=K&&K>0||null==K&&this.delay>0?super.requestAsyncId(x,F,K):(x.flush(this),0)}}),$s=new Zn(Dr);var Ea=H(9751),Cl=H(8505),y=H(9468),_=H(5363);const g=new w.GfV("7.5.0"),I="__angularfire_symbol__analyticsIsSupportedValue",M="__angularfire_symbol__analyticsIsSupported",U="__angularfire_symbol__remoteConfigIsSupportedValue",q="__angularfire_symbol__remoteConfigIsSupported",X="__angularfire_symbol__messagingIsSupportedValue",Ae="__angularfire_symbol__messagingIsSupported";function Li(C,x,F){if(x){if(1===x.length)return x[0];const De=x.filter(Xe=>Xe.app===F);if(1===De.length)return De[0]}return F.container.getProvider(C).getImmediate({optional:!0})}globalThis[M]||(globalThis[M]=Tr().then(C=>globalThis[I]=C).catch(()=>globalThis[I]=!1)),globalThis[Ae]||(globalThis[Ae]=pt().then(C=>globalThis[X]=C).catch(()=>globalThis[X]=!1)),globalThis[q]||(globalThis[q]=Go().then(C=>globalThis[U]=C).catch(()=>globalThis[U]=!1));const rs=(C,x)=>{const F=x?[x]:(0,L.C6)(),K=[];return F.forEach(ye=>{ye.container.getProvider(C).instances.forEach(Xe=>{K.includes(Xe)||K.push(Xe)})}),K};function Ds(){}class yi{constructor(x,F=fu){this.zone=x,this.delegate=F}now(){return this.delegate.now()}schedule(x,F,K){const ye=this.zone;return this.delegate.schedule(function(Xe){ye.runGuarded(()=>{x.apply(this,[Xe])})},F,K)}}class Sl{constructor(x){this.zone=x,this.task=null}call(x,F){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds)),F.pipe((0,Cl.b)({next:K,complete:K,error:K})).subscribe(x).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ra=(()=>{class C{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new yi(Zone.current)),this.insideAngular=F.run(()=>new yi(Zone.current,$s)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(F){return new(F||C)(w.LFG(w.R0b))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ia(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Xh(C){return ia().ngZone.runOutsideAngular(()=>C())}function Wu(C){return ia().ngZone.run(()=>C())}function Al(C){return ia(),function fg(C){return function(F){return(F=F.lift(new Sl(C.ngZone))).pipe((0,y.R)(C.outsideAngular),(0,_.Q)(C.insideAngular))}}(ia())(C)}const Qr=(C,x)=>function(){const K=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Wu(()=>C.apply(void 0,K))},pg=(C,x)=>function(){let F;const K=arguments;for(let De=0;De<arguments.length;De++)"function"==typeof K[De]&&(x&&(F||(F=Wu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds)))),K[De]=Qr(K[De],F));const ye=Xh(()=>C.apply(this,K));if(!x){if(ye instanceof Ea.y){const De=ia();return ye.pipe((0,y.R)(De.outsideAngular),(0,_.Q)(De.insideAngular))}return Wu(()=>ye)}return ye instanceof Ea.y?ye.pipe(Al):ye instanceof Promise?Wu(()=>new Promise((De,Xe)=>ye.then(Nt=>Wu(()=>De(Nt)),Nt=>Wu(()=>Xe(Nt))))):"function"==typeof ye&&F?function(){return setTimeout(()=>{F&&"scheduled"===F.state&&F.invoke()},10),ye.apply(this,arguments)}:Wu(()=>ye)}},2090:(Bt,We,H)=>{H.d(We,{$s:()=>vt,BH:()=>Un,L:()=>Be,LL:()=>Me,P0:()=>Ne,Pz:()=>Xt,Sg:()=>Vt,US:()=>Ce,ZR:()=>Qn,aH:()=>bt,b$:()=>Mt,eu:()=>Ze,hl:()=>Je,m9:()=>dn,ne:()=>ni,ru:()=>kt,tV:()=>qe,uI:()=>Ue,vZ:()=>ft,xO:()=>zr,z$:()=>nt,zI:()=>we});const ve=function(ne){const J=[];let he=0;for(let je=0;je<ne.length;je++){let be=ne.charCodeAt(je);be<128?J[he++]=be:be<2048?(J[he++]=be>>6|192,J[he++]=63&be|128):55296==(64512&be)&&je+1<ne.length&&56320==(64512&ne.charCodeAt(je+1))?(be=65536+((1023&be)<<10)+(1023&ne.charCodeAt(++je)),J[he++]=be>>18|240,J[he++]=be>>12&63|128,J[he++]=be>>6&63|128,J[he++]=63&be|128):(J[he++]=be>>12|224,J[he++]=be>>6&63|128,J[he++]=63&be|128)}return J},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ne,J){if(!Array.isArray(ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let be=0;be<ne.length;be+=3){const St=ne[be],$t=be+1<ne.length,In=$t?ne[be+1]:0,_r=be+2<ne.length,dr=_r?ne[be+2]:0;let G=(15&In)<<2|dr>>6,ge=63&dr;_r||(ge=64,$t||(G=64)),je.push(he[St>>2],he[(3&St)<<4|In>>4],he[G],he[ge])}return je.join("")},encodeString(ne,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(ne):this.encodeByteArray(ve(ne),J)},decodeString(ne,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(ne):function(ne){const J=[];let he=0,je=0;for(;he<ne.length;){const be=ne[he++];if(be<128)J[je++]=String.fromCharCode(be);else if(be>191&&be<224){const St=ne[he++];J[je++]=String.fromCharCode((31&be)<<6|63&St)}else if(be>239&&be<365){const _r=((7&be)<<18|(63&ne[he++])<<12|(63&ne[he++])<<6|63&ne[he++])-65536;J[je++]=String.fromCharCode(55296+(_r>>10)),J[je++]=String.fromCharCode(56320+(1023&_r))}else{const St=ne[he++],$t=ne[he++];J[je++]=String.fromCharCode((15&be)<<12|(63&St)<<6|63&$t)}}return J.join("")}(this.decodeStringToByteArray(ne,J))},decodeStringToByteArray(ne,J){this.init_();const he=J?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let be=0;be<ne.length;){const St=he[ne.charAt(be++)],In=be<ne.length?he[ne.charAt(be)]:0;++be;const dr=be<ne.length?he[ne.charAt(be)]:64;++be;const re=be<ne.length?he[ne.charAt(be)]:64;if(++be,null==St||null==In||null==dr||null==re)throw Error();je.push(St<<2|In>>4),64!==dr&&(je.push(In<<4&240|dr>>2),64!==re&&je.push(dr<<6&192|re))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ne=0;ne<this.ENCODED_VALS.length;ne++)this.byteToCharMap_[ne]=this.ENCODED_VALS.charAt(ne),this.charToByteMap_[this.byteToCharMap_[ne]]=ne,this.byteToCharMapWebSafe_[ne]=this.ENCODED_VALS_WEBSAFE.charAt(ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ne]]=ne,ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ne)]=ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ne)]=ne)}}},Be=function(ne){return function(ne){const J=ve(ne);return Ce.encodeByteArray(J,!0)}(ne).replace(/\./g,"")},qe=function(ne){try{return Ce.decodeString(ne,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function kt(){const ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ne&&void 0!==ne.id}function Mt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}function Ze(){return new Promise((ne,J)=>{try{let he=!0;const je="validate-browser-context-for-indexeddb-analytics-module",be=self.indexedDB.open(je);be.onsuccess=()=>{be.result.close(),he||self.indexedDB.deleteDatabase(je),ne(!0)},be.onupgradeneeded=()=>{he=!1},be.onerror=()=>{var St;J((null===(St=be.error)||void 0===St?void 0:St.message)||"")}}catch(he){J(he)}})}function we(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ne=process.env.__FIREBASE_DEFAULTS__;return ne?JSON.parse(ne):void 0})()||(()=>{if(typeof document>"u")return;let ne;try{ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=ne&&qe(ne[1]);return J&&JSON.parse(J)})()}catch(ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ne}`)}},Ne=ne=>{const J=(ne=>{var J,he;return null===(he=null===(J=ce())||void 0===J?void 0:J.emulatorHosts)||void 0===he?void 0:he[ne]})(ne);if(!J)return;const he=J.lastIndexOf(":");if(he<=0||he+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const je=parseInt(J.substring(he+1),10);return"["===J[0]?[J.substring(1,he-1),je]:[J.substring(0,he),je]},bt=()=>{var ne;return null===(ne=ce())||void 0===ne?void 0:ne.config},Xt=ne=>{var J;return null===(J=ce())||void 0===J?void 0:J[`_${ne}`]};class Un{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,he)=>{this.resolve=J,this.reject=he})}wrapCallback(J){return(he,je)=>{he?this.reject(he):this.resolve(je),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(he):J(he,je))}}}function Vt(ne,J){if(ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=J||"demo-project",be=ne.iat||0,St=ne.sub||ne.user_id;if(!St)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $t=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:be,exp:be+3600,auth_time:be,sub:St,user_id:St,firebase:{sign_in_provider:"custom",identities:{}}},ne);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify($t)),""].join(".")}class Qn extends Error{constructor(J,he,je){super(he),this.code=J,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(J,he,je){this.service=J,this.serviceName=he,this.errors=je}create(J,...he){const je=he[0]||{},be=`${this.service}/${J}`,St=this.errors[J],$t=St?function rt(ne,J){return ne.replace(fe,(he,je)=>{const be=J[je];return null!=be?String(be):`<${je}?>`})}(St,je):"Error";return new Qn(be,`${this.serviceName}: ${$t} (${be}).`,je)}}const fe=/\{\$([^}]+)}/g;function ft(ne,J){if(ne===J)return!0;const he=Object.keys(ne),je=Object.keys(J);for(const be of he){if(!je.includes(be))return!1;const St=ne[be],$t=J[be];if(qn(St)&&qn($t)){if(!ft(St,$t))return!1}else if(St!==$t)return!1}for(const be of je)if(!he.includes(be))return!1;return!0}function qn(ne){return null!==ne&&"object"==typeof ne}function zr(ne){const J=[];for(const[he,je]of Object.entries(ne))Array.isArray(je)?je.forEach(be=>{J.push(encodeURIComponent(he)+"="+encodeURIComponent(be))}):J.push(encodeURIComponent(he)+"="+encodeURIComponent(je));return J.length?"&"+J.join("&"):""}function ni(ne,J){const he=new lt(ne,J);return he.subscribe.bind(he)}class lt{constructor(J,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{J(this)}).catch(je=>{this.error(je)})}next(J){this.forEachObserver(he=>{he.next(J)})}error(J){this.forEachObserver(he=>{he.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,he,je){let be;if(void 0===J&&void 0===he&&void 0===je)throw new Error("Missing Observer.");be=function an(ne,J){if("object"!=typeof ne||null===ne)return!1;for(const he of J)if(he in ne&&"function"==typeof ne[he])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:he,complete:je},void 0===be.next&&(be.next=En),void 0===be.error&&(be.error=En),void 0===be.complete&&(be.complete=En);const St=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?be.error(this.finalError):be.complete()}catch{}}),this.observers.push(be),St}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,J)}sendOne(J,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{he(this.observers[J])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function En(){}function vt(ne,J=1e3,he=2){const je=J*Math.pow(he,ne),be=Math.round(.5*je*(Math.random()-.5)*2);return Math.min(144e5,je+be)}function dn(ne){return ne&&ne._delegate?ne._delegate:ne}},113:(Bt,We,H)=>{var w=H(1481),L=H(8256),te=H(5808);const ve=[{path:"login",loadChildren:()=>Promise.all([H.e(6),H.e(743)]).then(H.bind(H,5743)).then(R=>R.LoginModule)},{path:"admin",loadChildren:()=>Promise.all([H.e(6),H.e(176)]).then(H.bind(H,4176)).then(R=>R.AdminModule)},{path:"user",loadChildren:()=>H.e(347).then(H.bind(H,9347)).then(R=>R.UserModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}];let W=(()=>{class R{}return R.\u0275fac=function(p){return new(p||R)},R.\u0275mod=L.oAB({type:R}),R.\u0275inj=L.cJS({imports:[te.Bz.forRoot(ve),te.Bz]}),R})();var Ce=H(334);let $e=(()=>{class R{constructor(){this.title="FirebaseAngular"}}return R.\u0275fac=function(p){return new(p||R)},R.\u0275cmp=L.Xpm({type:R,selectors:[["app-root"]],decls:2,vars:0,consts:[["type","ball-scale-multiple"]],template:function(p,T){1&p&&L._UZ(0,"ngx-spinner",0)(1,"router-outlet")},dependencies:[te.lC,Ce.Ro]}),R})();var Be=H(7340);function oe(R){return new L.vHH(3e3,!1)}function Tn(){return typeof window<"u"&&typeof window.document<"u"}function Ur(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function On(R){switch(R.length){case 0:return new Be.ZN;case 1:return R[0];default:return new Be.ZE(R)}}function Gr(R,f,p,T,N=new Map,$=new Map){const Z=[],ee=[];let de=-1,ke=null;if(T.forEach(ct=>{const gt=ct.get("offset"),rn=gt==de,Tt=rn&&ke||new Map;ct.forEach((It,Ht)=>{let Mn=Ht,tn=It;if("offset"!==Ht)switch(Mn=f.normalizePropertyName(Mn,Z),tn){case Be.k1:tn=N.get(Ht);break;case Be.l3:tn=$.get(Ht);break;default:tn=f.normalizeStyleValue(Ht,Mn,tn,Z)}Tt.set(Mn,tn)}),rn||ee.push(Tt),ke=Tt,de=gt}),Z.length)throw function bt(R){return new L.vHH(3502,!1)}();return ee}function Hn(R,f,p,T){switch(f){case"start":R.onStart(()=>T(p&&Mr(p,"start",R)));break;case"done":R.onDone(()=>T(p&&Mr(p,"done",R)));break;case"destroy":R.onDestroy(()=>T(p&&Mr(p,"destroy",R)))}}function Mr(R,f,p){const $=Mi(R.element,R.triggerName,R.fromState,R.toState,f||R.phaseName,p.totalTime??R.totalTime,!!p.disabled),Z=R._data;return null!=Z&&($._data=Z),$}function Mi(R,f,p,T,N="",$=0,Z){return{element:R,triggerName:f,fromState:p,toState:T,phaseName:N,totalTime:$,disabled:!!Z}}function ft(R,f,p){let T=R.get(f);return T||R.set(f,T=p),T}function qn(R){const f=R.indexOf(":");return[R.substring(1,f),R.slice(f+1)]}let hs=(R,f)=>!1,zr=(R,f,p)=>[],hi=null;function _i(R){const f=R.parentNode||R.host;return f===hi?null:f}(Ur()||typeof Element<"u")&&(Tn()?(hi=(()=>document.documentElement)(),hs=(R,f)=>{for(;f;){if(f===R)return!0;f=_i(f)}return!1}):hs=(R,f)=>R.contains(f),zr=(R,f,p)=>{if(p)return Array.from(R.querySelectorAll(f));const T=R.querySelector(f);return T?[T]:[]});let lt=null,Lt=!1;const Fn=hs,Pr=zr;let $i=(()=>{class R{validateStyleProperty(p){return function an(R){lt||(lt=function vr(){return typeof document<"u"?document.body:null}()||{},Lt=!!lt.style&&"WebkitAppearance"in lt.style);let f=!0;return lt.style&&!function ni(R){return"ebkit"==R.substring(1,6)}(R)&&(f=R in lt.style,!f&&Lt&&(f="Webkit"+R.charAt(0).toUpperCase()+R.slice(1)in lt.style)),f}(p)}matchesElement(p,T){return!1}containsElement(p,T){return Fn(p,T)}getParentElement(p){return _i(p)}query(p,T,N){return Pr(p,T,N)}computeStyle(p,T,N){return N||""}animate(p,T,N,$,Z,ee=[],de){return new Be.ZN(N,$)}}return R.\u0275fac=function(p){return new(p||R)},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})(),Kn=(()=>{class R{}return R.NOOP=new $i,R})();const Wr="ng-enter",Et="ng-leave",Se="ng-trigger",vt=".ng-trigger",ht="ng-animating",ln=".ng-animating";function dn(R){if("number"==typeof R)return R;const f=R.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:ne(parseFloat(f[1]),f[2])}function ne(R,f){return"s"===f?1e3*R:R}function J(R,f,p){return R.hasOwnProperty("duration")?R:function he(R,f,p){let N,$=0,Z="";if("string"==typeof R){const ee=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ee)return f.push(oe()),{duration:0,delay:0,easing:""};N=ne(parseFloat(ee[1]),ee[2]);const de=ee[3];null!=de&&($=ne(parseFloat(de),ee[4]));const ke=ee[5];ke&&(Z=ke)}else N=R;if(!p){let ee=!1,de=f.length;N<0&&(f.push(function ue(){return new L.vHH(3100,!1)}()),ee=!0),$<0&&(f.push(function Pe(){return new L.vHH(3101,!1)}()),ee=!0),ee&&f.splice(de,0,oe())}return{duration:N,delay:$,easing:Z}}(R,f,p)}function je(R,f={}){return Object.keys(R).forEach(p=>{f[p]=R[p]}),f}function be(R){const f=new Map;return Object.keys(R).forEach(p=>{f.set(p,R[p])}),f}function In(R,f=new Map,p){if(p)for(let[T,N]of p)f.set(T,N);for(let[T,N]of R)f.set(T,N);return f}function _r(R,f,p){return p?f+":"+p+";":""}function dr(R){let f="";for(let p=0;p<R.style.length;p++){const T=R.style.item(p);f+=_r(0,T,R.style.getPropertyValue(T))}for(const p in R.style)R.style.hasOwnProperty(p)&&!p.startsWith("_")&&(f+=_r(0,Xn(p),R.style[p]));R.setAttribute("style",f)}function pe(R,f,p){R.style&&(f.forEach((T,N)=>{const $=nn(N);p&&!p.has(N)&&p.set(N,R.style[$]),R.style[$]=T}),Ur()&&dr(R))}function re(R,f){R.style&&(f.forEach((p,T)=>{const N=nn(T);R.style[N]=""}),Ur()&&dr(R))}function G(R){return Array.isArray(R)?1==R.length?R[0]:(0,Be.vP)(R):R}const Ve=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ut(R){let f=[];if("string"==typeof R){let p;for(;p=Ve.exec(R);)f.push(p[1]);Ve.lastIndex=0}return f}function Qt(R,f,p){const T=R.toString(),N=T.replace(Ve,($,Z)=>{let ee=f[Z];return null==ee&&(p.push(function Ue(R){return new L.vHH(3003,!1)}()),ee=""),ee.toString()});return N==T?R:N}function Cn(R){const f=[];let p=R.next();for(;!p.done;)f.push(p.value),p=R.next();return f}const at=/-+([a-z0-9])/g;function nn(R){return R.replace(at,(...f)=>f[1].toUpperCase())}function Xn(R){return R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ln(R,f,p){switch(f.type){case 7:return R.visitTrigger(f,p);case 0:return R.visitState(f,p);case 1:return R.visitTransition(f,p);case 2:return R.visitSequence(f,p);case 3:return R.visitGroup(f,p);case 4:return R.visitAnimate(f,p);case 5:return R.visitKeyframes(f,p);case 6:return R.visitStyle(f,p);case 8:return R.visitReference(f,p);case 9:return R.visitAnimateChild(f,p);case 10:return R.visitAnimateRef(f,p);case 11:return R.visitQuery(f,p);case 12:return R.visitStagger(f,p);default:throw function _t(R){return new L.vHH(3004,!1)}()}}function er(R,f){return window.getComputedStyle(R)[f]}function sr(R,f){const p=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(T=>function Ri(R,f,p){if(":"==R[0]){const de=function ji(R,f){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(p,T)=>parseFloat(T)>parseFloat(p);case":decrement":return(p,T)=>parseFloat(T)<parseFloat(p);default:return f.push(function ae(R){return new L.vHH(3016,!1)}()),"* => *"}}(R,p);if("function"==typeof de)return void f.push(de);R=de}const T=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return p.push(function Y(R){return new L.vHH(3015,!1)}()),f;const N=T[1],$=T[2],Z=T[3];f.push(Qi(N,Z));"<"==$[0]&&!("*"==N&&"*"==Z)&&f.push(Qi(Z,N))}(T,p,f)):p.push(R),p}const si=new Set(["true","1"]),wi=new Set(["false","0"]);function Qi(R,f){const p=si.has(R)||wi.has(R),T=si.has(f)||wi.has(f);return(N,$)=>{let Z="*"==R||R==N,ee="*"==f||f==$;return!Z&&p&&"boolean"==typeof N&&(Z=N?si.has(R):wi.has(R)),!ee&&T&&"boolean"==typeof $&&(ee=$?si.has(f):wi.has(f)),Z&&ee}}const Ho=new RegExp("s*:selfs*,?","g");function fs(R,f,p,T){return new xs(R).build(f,p,T)}class xs{constructor(f){this._driver=f}build(f,p,T){const N=new Hi(p);return this._resetContextStyleTimingState(N),Ln(this,G(f),N)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,p){let T=p.queryCount=0,N=p.depCount=0;const $=[],Z=[];return"@"==f.name.charAt(0)&&p.errors.push(function kt(){return new L.vHH(3006,!1)}()),f.definitions.forEach(ee=>{if(this._resetContextStyleTimingState(p),0==ee.type){const de=ee,ke=de.name;ke.toString().split(/\s*,\s*/).forEach(ct=>{de.name=ct,$.push(this.visitState(de,p))}),de.name=ke}else if(1==ee.type){const de=this.visitTransition(ee,p);T+=de.queryCount,N+=de.depCount,Z.push(de)}else p.errors.push(function Mt(){return new L.vHH(3007,!1)}())}),{type:7,name:f.name,states:$,transitions:Z,queryCount:T,depCount:N,options:null}}visitState(f,p){const T=this.visitStyle(f.styles,p),N=f.options&&f.options.params||null;if(T.containsDynamicStyles){const $=new Set,Z=N||{};T.styles.forEach(ee=>{ee instanceof Map&&ee.forEach(de=>{Ut(de).forEach(ke=>{Z.hasOwnProperty(ke)||$.add(ke)})})}),$.size&&(Cn($.values()),p.errors.push(function on(R,f){return new L.vHH(3008,!1)}()))}return{type:0,name:f.name,style:T,options:N?{params:N}:null}}visitTransition(f,p){p.queryCount=0,p.depCount=0;const T=Ln(this,G(f.animation),p);return{type:1,matchers:sr(f.expr,p.errors),animation:T,queryCount:p.queryCount,depCount:p.depCount,options:hr(f.options)}}visitSequence(f,p){return{type:2,steps:f.steps.map(T=>Ln(this,T,p)),options:hr(f.options)}}visitGroup(f,p){const T=p.currentTime;let N=0;const $=f.steps.map(Z=>{p.currentTime=T;const ee=Ln(this,Z,p);return N=Math.max(N,p.currentTime),ee});return p.currentTime=N,{type:3,steps:$,options:hr(f.options)}}visitAnimate(f,p){const T=function ka(R,f){if(R.hasOwnProperty("duration"))return R;if("number"==typeof R)return Er(J(R,f).duration,0,"");const p=R;if(p.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=Er(0,0,"");return $.dynamic=!0,$.strValue=p,$}const N=J(p,f);return Er(N.duration,N.delay,N.easing)}(f.timings,p.errors);p.currentAnimateTimings=T;let N,$=f.styles?f.styles:(0,Be.oB)({});if(5==$.type)N=this.visitKeyframes($,p);else{let Z=f.styles,ee=!1;if(!Z){ee=!0;const ke={};T.easing&&(ke.easing=T.easing),Z=(0,Be.oB)(ke)}p.currentTime+=T.duration+T.delay;const de=this.visitStyle(Z,p);de.isEmptyStep=ee,N=de}return p.currentAnimateTimings=null,{type:4,timings:T,style:N,options:null}}visitStyle(f,p){const T=this._makeStyleAst(f,p);return this._validateStyleAst(T,p),T}_makeStyleAst(f,p){const T=[],N=Array.isArray(f.styles)?f.styles:[f.styles];for(let ee of N)"string"==typeof ee?ee===Be.l3?T.push(ee):p.errors.push(new L.vHH(3002,!1)):T.push(be(ee));let $=!1,Z=null;return T.forEach(ee=>{if(ee instanceof Map&&(ee.has("easing")&&(Z=ee.get("easing"),ee.delete("easing")),!$))for(let de of ee.values())if(de.toString().indexOf("{{")>=0){$=!0;break}}),{type:6,styles:T,easing:Z,offset:f.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(f,p){const T=p.currentAnimateTimings;let N=p.currentTime,$=p.currentTime;T&&$>0&&($-=T.duration+T.delay),f.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((ee,de)=>{const ke=p.collectedStyles.get(p.currentQuerySelector),ct=ke.get(de);let gt=!0;ct&&($!=N&&$>=ct.startTime&&N<=ct.endTime&&(p.errors.push(function me(R,f,p,T,N){return new L.vHH(3010,!1)}()),gt=!1),$=ct.startTime),gt&&ke.set(de,{startTime:$,endTime:N}),p.options&&function ge(R,f,p){const T=f.params||{},N=Ut(R);N.length&&N.forEach($=>{T.hasOwnProperty($)||p.push(function nt(R){return new L.vHH(3001,!1)}())})}(ee,p.options,p.errors)})})}visitKeyframes(f,p){const T={type:5,styles:[],options:null};if(!p.currentAnimateTimings)return p.errors.push(function _e(){return new L.vHH(3011,!1)}()),T;let $=0;const Z=[];let ee=!1,de=!1,ke=0;const ct=f.steps.map(tn=>{const Ir=this._makeStyleAst(tn,p);let Cr=null!=Ir.offset?Ir.offset:function kr(R){if("string"==typeof R)return null;let f=null;if(Array.isArray(R))R.forEach(p=>{if(p instanceof Map&&p.has("offset")){const T=p;f=parseFloat(T.get("offset")),T.delete("offset")}});else if(R instanceof Map&&R.has("offset")){const p=R;f=parseFloat(p.get("offset")),p.delete("offset")}return f}(Ir.styles),Tr=0;return null!=Cr&&($++,Tr=Ir.offset=Cr),de=de||Tr<0||Tr>1,ee=ee||Tr<ke,ke=Tr,Z.push(Tr),Ir});de&&p.errors.push(function Je(){return new L.vHH(3012,!1)}()),ee&&p.errors.push(function Ze(){return new L.vHH(3200,!1)}());const gt=f.steps.length;let rn=0;$>0&&$<gt?p.errors.push(function we(){return new L.vHH(3202,!1)}()):0==$&&(rn=1/(gt-1));const Tt=gt-1,It=p.currentTime,Ht=p.currentAnimateTimings,Mn=Ht.duration;return ct.forEach((tn,Ir)=>{const Cr=rn>0?Ir==Tt?1:rn*Ir:Z[Ir],Tr=Cr*Mn;p.currentTime=It+Ht.delay+Tr,Ht.duration=Tr,this._validateStyleAst(tn,p),tn.offset=Cr,T.styles.push(tn)}),T}visitReference(f,p){return{type:8,animation:Ln(this,G(f.animation),p),options:hr(f.options)}}visitAnimateChild(f,p){return p.depCount++,{type:9,options:hr(f.options)}}visitAnimateRef(f,p){return{type:10,animation:this.visitReference(f.animation,p),options:hr(f.options)}}visitQuery(f,p){const T=p.currentQuerySelector,N=f.options||{};p.queryCount++,p.currentQuery=f;const[$,Z]=function Rs(R){const f=!!R.split(/\s*,\s*/).find(p=>":self"==p);return f&&(R=R.replace(Ho,"")),R=R.replace(/@\*/g,vt).replace(/@\w+/g,p=>vt+"-"+p.slice(1)).replace(/:animating/g,ln),[R,f]}(f.selector);p.currentQuerySelector=T.length?T+" "+$:$,ft(p.collectedStyles,p.currentQuerySelector,new Map);const ee=Ln(this,G(f.animation),p);return p.currentQuery=null,p.currentQuerySelector=T,{type:11,selector:$,limit:N.limit||0,optional:!!N.optional,includeSelf:Z,animation:ee,originalSelector:f.selector,options:hr(f.options)}}visitStagger(f,p){p.currentQuery||p.errors.push(function Ke(){return new L.vHH(3013,!1)}());const T="full"===f.timings?{duration:0,delay:0,easing:"full"}:J(f.timings,p.errors,!0);return{type:12,animation:Ln(this,G(f.animation),p),timings:T,options:null}}}class Hi{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hr(R){return R?(R=je(R)).params&&(R.params=function So(R){return R?je(R):null}(R.params)):R={},R}function Er(R,f,p){return{duration:R,delay:f,easing:p}}function Ns(R,f,p,T,N,$,Z=null,ee=!1){return{type:1,element:R,keyframes:f,preStyleProps:p,postStyleProps:T,duration:N,delay:$,totalTime:N+$,easing:Z,subTimeline:ee}}class fr{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,p){let T=this._map.get(f);T||this._map.set(f,T=[]),T.push(...p)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const gs=new RegExp(":enter","g"),iu=new RegExp(":leave","g");function Ji(R,f,p,T,N,$=new Map,Z=new Map,ee,de,ke=[]){return(new ao).buildKeyframes(R,f,p,T,N,$,Z,ee,de,ke)}class ao{buildKeyframes(f,p,T,N,$,Z,ee,de,ke,ct=[]){ke=ke||new fr;const gt=new Fa(f,p,ke,N,$,ct,[]);gt.options=de;const rn=de.delay?dn(de.delay):0;gt.currentTimeline.delayNextStep(rn),gt.currentTimeline.setStyles([Z],null,gt.errors,de),Ln(this,T,gt);const Tt=gt.timelines.filter(It=>It.containsAnimation());if(Tt.length&&ee.size){let It;for(let Ht=Tt.length-1;Ht>=0;Ht--){const Mn=Tt[Ht];if(Mn.element===p){It=Mn;break}}It&&!It.allowOnlyTimelineStyles()&&It.setStyles([ee],null,gt.errors,de)}return Tt.length?Tt.map(It=>It.buildKeyframes()):[Ns(p,[],[],[],0,rn,"",!1)]}visitTrigger(f,p){}visitState(f,p){}visitTransition(f,p){}visitAnimateChild(f,p){const T=p.subInstructions.get(p.element);if(T){const N=p.createSubContext(f.options),$=p.currentTimeline.currentTime,Z=this._visitSubInstructions(T,N,N.options);$!=Z&&p.transformIntoNewTimeline(Z)}p.previousNode=f}visitAnimateRef(f,p){const T=p.createSubContext(f.options);T.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],p,T),this.visitReference(f.animation,T),p.transformIntoNewTimeline(T.currentTimeline.currentTime),p.previousNode=f}_applyAnimationRefDelays(f,p,T){for(const N of f){const $=N?.delay;if($){const Z="number"==typeof $?$:dn(Qt($,N?.params??{},p.errors));T.delayNextStep(Z)}}}_visitSubInstructions(f,p,T){let $=p.currentTimeline.currentTime;const Z=null!=T.duration?dn(T.duration):null,ee=null!=T.delay?dn(T.delay):null;return 0!==Z&&f.forEach(de=>{const ke=p.appendInstructionToTimeline(de,Z,ee);$=Math.max($,ke.duration+ke.delay)}),$}visitReference(f,p){p.updateOptions(f.options,!0),Ln(this,f.animation,p),p.previousNode=f}visitSequence(f,p){const T=p.subContextCount;let N=p;const $=f.options;if($&&($.params||$.delay)&&(N=p.createSubContext($),N.transformIntoNewTimeline(),null!=$.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Ao);const Z=dn($.delay);N.delayNextStep(Z)}f.steps.length&&(f.steps.forEach(Z=>Ln(this,Z,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>T&&N.transformIntoNewTimeline()),p.previousNode=f}visitGroup(f,p){const T=[];let N=p.currentTimeline.currentTime;const $=f.options&&f.options.delay?dn(f.options.delay):0;f.steps.forEach(Z=>{const ee=p.createSubContext(f.options);$&&ee.delayNextStep($),Ln(this,Z,ee),N=Math.max(N,ee.currentTimeline.currentTime),T.push(ee.currentTimeline)}),T.forEach(Z=>p.currentTimeline.mergeTimelineCollectedStyles(Z)),p.transformIntoNewTimeline(N),p.previousNode=f}_visitTiming(f,p){if(f.dynamic){const T=f.strValue;return J(p.params?Qt(T,p.params,p.errors):T,p.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,p){const T=p.currentAnimateTimings=this._visitTiming(f.timings,p),N=p.currentTimeline;T.delay&&(p.incrementTime(T.delay),N.snapshotCurrentStyles());const $=f.style;5==$.type?this.visitKeyframes($,p):(p.incrementTime(T.duration),this.visitStyle($,p),N.applyStylesToKeyframe()),p.currentAnimateTimings=null,p.previousNode=f}visitStyle(f,p){const T=p.currentTimeline,N=p.currentAnimateTimings;!N&&T.hasCurrentStyleProperties()&&T.forwardFrame();const $=N&&N.easing||f.easing;f.isEmptyStep?T.applyEmptyStep($):T.setStyles(f.styles,$,p.errors,p.options),p.previousNode=f}visitKeyframes(f,p){const T=p.currentAnimateTimings,N=p.currentTimeline.duration,$=T.duration,ee=p.createSubContext().currentTimeline;ee.easing=T.easing,f.styles.forEach(de=>{ee.forwardTime((de.offset||0)*$),ee.setStyles(de.styles,de.easing,p.errors,p.options),ee.applyStylesToKeyframe()}),p.currentTimeline.mergeTimelineCollectedStyles(ee),p.transformIntoNewTimeline(N+$),p.previousNode=f}visitQuery(f,p){const T=p.currentTimeline.currentTime,N=f.options||{},$=N.delay?dn(N.delay):0;$&&(6===p.previousNode.type||0==T&&p.currentTimeline.hasCurrentStyleProperties())&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=Ao);let Z=T;const ee=p.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!N.optional,p.errors);p.currentQueryTotal=ee.length;let de=null;ee.forEach((ke,ct)=>{p.currentQueryIndex=ct;const gt=p.createSubContext(f.options,ke);$&&gt.delayNextStep($),ke===p.element&&(de=gt.currentTimeline),Ln(this,f.animation,gt),gt.currentTimeline.applyStylesToKeyframe(),Z=Math.max(Z,gt.currentTimeline.currentTime)}),p.currentQueryIndex=0,p.currentQueryTotal=0,p.transformIntoNewTimeline(Z),de&&(p.currentTimeline.mergeTimelineCollectedStyles(de),p.currentTimeline.snapshotCurrentStyles()),p.previousNode=f}visitStagger(f,p){const T=p.parentContext,N=p.currentTimeline,$=f.timings,Z=Math.abs($.duration),ee=Z*(p.currentQueryTotal-1);let de=Z*p.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":de=ee-de;break;case"full":de=T.currentStaggerTime}const ct=p.currentTimeline;de&&ct.delayNextStep(de);const gt=ct.currentTime;Ln(this,f.animation,p),p.previousNode=f,T.currentStaggerTime=N.currentTime-gt+(N.startTime-T.currentTimeline.startTime)}}const Ao={};class Fa{constructor(f,p,T,N,$,Z,ee,de){this._driver=f,this.element=p,this.subInstructions=T,this._enterClassName=N,this._leaveClassName=$,this.errors=Z,this.timelines=ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ao,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=de||new Mo(this._driver,p,0),ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,p){if(!f)return;const T=f;let N=this.options;null!=T.duration&&(N.duration=dn(T.duration)),null!=T.delay&&(N.delay=dn(T.delay));const $=T.params;if($){let Z=N.params;Z||(Z=this.options.params={}),Object.keys($).forEach(ee=>{(!p||!Z.hasOwnProperty(ee))&&(Z[ee]=Qt($[ee],Z,this.errors))})}}_copyOptions(){const f={};if(this.options){const p=this.options.params;if(p){const T=f.params={};Object.keys(p).forEach(N=>{T[N]=p[N]})}}return f}createSubContext(f=null,p,T){const N=p||this.element,$=new Fa(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,T||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(f),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(f){return this.previousNode=Ao,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,p,T){const N={duration:p??f.duration,delay:this.currentTimeline.currentTime+(T??0)+f.delay,easing:""},$=new Ou(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,N,f.stretchStartingKeyframe);return this.timelines.push($),N}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,p,T,N,$,Z){let ee=[];if(N&&ee.push(this.element),f.length>0){f=(f=f.replace(gs,"."+this._enterClassName)).replace(iu,"."+this._leaveClassName);let ke=this._driver.query(this.element,f,1!=T);0!==T&&(ke=T<0?ke.slice(ke.length+T,ke.length):ke.slice(0,T)),ee.push(...ke)}return!$&&0==ee.length&&Z.push(function ie(R){return new L.vHH(3014,!1)}()),ee}}class Mo{constructor(f,p,T,N){this._driver=f,this.element=p,this.startTime=T,this._elementTimelineStylesLookup=N,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(p),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(p,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const p=1===this._keyframes.size&&this._pendingStyles.size;this.duration||p?(this.forwardTime(this.currentTime+f),p&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,p){return this.applyStylesToKeyframe(),new Mo(this._driver,f,p||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,p){this._localTimelineStyles.set(f,p),this._globalTimelineStyles.set(f,p),this._styleSummary.set(f,{time:this.currentTime,value:p})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[p,T]of this._globalTimelineStyles)this._backFill.set(p,T||Be.l3),this._currentKeyframe.set(p,Be.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,p,T,N){p&&this._previousKeyframe.set("easing",p);const $=N&&N.params||{},Z=function Fu(R,f){const p=new Map;let T;return R.forEach(N=>{if("*"===N){T=T||f.keys();for(let $ of T)p.set($,Be.l3)}else In(N,p)}),p}(f,this._globalTimelineStyles);for(let[ee,de]of Z){const ke=Qt(de,$,T);this._pendingStyles.set(ee,ke),this._localTimelineStyles.has(ee)||this._backFill.set(ee,this._globalTimelineStyles.get(ee)??Be.l3),this._updateStyle(ee,ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,p)=>{this._currentKeyframe.set(p,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,p)=>{this._currentKeyframe.has(p)||this._currentKeyframe.set(p,f)}))}snapshotCurrentStyles(){for(let[f,p]of this._localTimelineStyles)this._pendingStyles.set(f,p),this._updateStyle(f,p)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let p in this._currentKeyframe)f.push(p);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((p,T)=>{const N=this._styleSummary.get(T);(!N||p.time>N.time)&&this._updateStyle(T,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,p=new Set,T=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((ee,de)=>{const ke=In(ee,new Map,this._backFill);ke.forEach((ct,gt)=>{ct===Be.k1?f.add(gt):ct===Be.l3&&p.add(gt)}),T||ke.set("offset",de/this.duration),N.push(ke)});const $=f.size?Cn(f.values()):[],Z=p.size?Cn(p.values()):[];if(T){const ee=N[0],de=new Map(ee);ee.set("offset",0),de.set("offset",1),N=[ee,de]}return Ns(this.element,N,$,Z,this.duration,this.startTime,this.easing,!1)}}class Ou extends Mo{constructor(f,p,T,N,$,Z,ee=!1){super(f,p,Z.delay),this.keyframes=T,this.preStyleProps=N,this.postStyleProps=$,this._stretchStartingKeyframe=ee,this.timings={duration:Z.duration,delay:Z.delay,easing:Z.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:p,duration:T,easing:N}=this.timings;if(this._stretchStartingKeyframe&&p){const $=[],Z=T+p,ee=p/Z,de=In(f[0]);de.set("offset",0),$.push(de);const ke=In(f[0]);ke.set("offset",ca(ee)),$.push(ke);const ct=f.length-1;for(let gt=1;gt<=ct;gt++){let rn=In(f[gt]);const Tt=rn.get("offset");rn.set("offset",ca((p+Tt*T)/Z)),$.push(rn)}T=Z,p=0,N="",f=$}return Ns(this.element,f,this.preStyleProps,this.postStyleProps,T,p,N,!0)}}function ca(R,f=3){const p=Math.pow(10,f-1);return Math.round(R*p)/p}class uo{}const zo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class da extends uo{normalizePropertyName(f,p){return nn(f)}normalizeStyleValue(f,p,T,N){let $="";const Z=T.toString().trim();if(zo.has(p)&&0!==T&&"0"!==T)if("number"==typeof T)$="px";else{const ee=T.match(/^[+-]?[\d\.]+([a-z]*)$/);ee&&0==ee[1].length&&N.push(function Ct(R,f){return new L.vHH(3005,!1)}())}return Z+$}}function Ni(R,f,p,T,N,$,Z,ee,de,ke,ct,gt,rn){return{type:0,element:R,triggerName:f,isRemovalTransition:N,fromState:p,fromStyles:$,toState:T,toStyles:Z,timelines:ee,queriedElements:de,preStyleProps:ke,postStyleProps:ct,totalTime:gt,errors:rn}}const qs={};class xo{constructor(f,p,T){this._triggerName=f,this.ast=p,this._stateStyles=T}match(f,p,T,N){return function La(R,f,p,T,N){return R.some($=>$(f,p,T,N))}(this.ast.matchers,f,p,T,N)}buildStyles(f,p,T){let N=this._stateStyles.get("*");return void 0!==f&&(N=this._stateStyles.get(f?.toString())||N),N?N.buildStyles(p,T):new Map}build(f,p,T,N,$,Z,ee,de,ke,ct){const gt=[],rn=this.ast.options&&this.ast.options.params||qs,It=this.buildStyles(T,ee&&ee.params||qs,gt),Ht=de&&de.params||qs,Mn=this.buildStyles(N,Ht,gt),tn=new Set,Ir=new Map,Cr=new Map,Tr="void"===N,Bs={params:ms(Ht,rn),delay:this.ast.options?.delay},Fi=ct?[]:Ji(f,p,this.ast.animation,$,Z,It,Mn,Bs,ke,gt);let _n=0;if(Fi.forEach(vo=>{_n=Math.max(vo.duration+vo.delay,_n)}),gt.length)return Ni(p,this._triggerName,T,N,Tr,It,Mn,[],[],Ir,Cr,_n,gt);Fi.forEach(vo=>{const _o=vo.element,Ga=ft(Ir,_o,new Set);vo.preStyleProps.forEach(na=>Ga.add(na));const hu=ft(Cr,_o,new Set);vo.postStyleProps.forEach(na=>hu.add(na)),_o!==p&&tn.add(_o)});const ta=Cn(tn.values());return Ni(p,this._triggerName,T,N,Tr,It,Mn,Fi,ta,Ir,Cr,_n)}}function ms(R,f){const p=je(f);for(const T in R)R.hasOwnProperty(T)&&null!=R[T]&&(p[T]=R[T]);return p}class El{constructor(f,p,T){this.styles=f,this.defaultParams=p,this.normalizer=T}buildStyles(f,p){const T=new Map,N=je(this.defaultParams);return Object.keys(f).forEach($=>{const Z=f[$];null!==Z&&(N[$]=Z)}),this.styles.styles.forEach($=>{"string"!=typeof $&&$.forEach((Z,ee)=>{Z&&(Z=Qt(Z,N,p));const de=this.normalizer.normalizePropertyName(ee,p);Z=this.normalizer.normalizeStyleValue(ee,de,Z,p),T.set(de,Z)})}),T}}class ys{constructor(f,p,T){this.name=f,this.ast=p,this._normalizer=T,this.transitionFactories=[],this.states=new Map,p.states.forEach(N=>{this.states.set(N.name,new El(N.style,N.options&&N.options.params||{},T))}),vs(this.states,"true","1"),vs(this.states,"false","0"),p.transitions.forEach(N=>{this.transitionFactories.push(new xo(f,N,this.states))}),this.fallbackTransition=function ki(R,f,p){return new xo(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Z,ee)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,p,T,N){return this.transitionFactories.find(Z=>Z.match(f,p,T,N))||null}matchStyles(f,p,T){return this.fallbackTransition.buildStyles(f,p,T)}}function vs(R,f,p){R.has(f)?R.has(p)||R.set(p,R.get(f)):R.has(p)&&R.set(f,R.get(p))}const Wo=new fr;class qo{constructor(f,p,T){this.bodyNode=f,this._driver=p,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,p){const T=[],$=fs(this._driver,p,T,[]);if(T.length)throw function Xt(R){return new L.vHH(3503,!1)}();this._animations.set(f,$)}_buildPlayer(f,p,T){const N=f.element,$=Gr(0,this._normalizer,0,f.keyframes,p,T);return this._driver.animate(N,$,f.duration,f.delay,f.easing,[],!0)}create(f,p,T={}){const N=[],$=this._animations.get(f);let Z;const ee=new Map;if($?(Z=Ji(this._driver,p,$,Wr,Et,new Map,new Map,T,Wo,N),Z.forEach(ct=>{const gt=ft(ee,ct.element,new Map);ct.postStyleProps.forEach(rn=>gt.set(rn,null))})):(N.push(function Un(){return new L.vHH(3300,!1)}()),Z=[]),N.length)throw function Vt(R){return new L.vHH(3504,!1)}();ee.forEach((ct,gt)=>{ct.forEach((rn,Tt)=>{ct.set(Tt,this._driver.computeStyle(gt,Tt,Be.l3))})});const ke=On(Z.map(ct=>{const gt=ee.get(ct.element);return this._buildPlayer(ct,new Map,gt)}));return this._playersById.set(f,ke),ke.onDestroy(()=>this.destroy(f)),this.players.push(ke),ke}destroy(f){const p=this._getPlayer(f);p.destroy(),this._playersById.delete(f);const T=this.players.indexOf(p);T>=0&&this.players.splice(T,1)}_getPlayer(f){const p=this._playersById.get(f);if(!p)throw function yn(R){return new L.vHH(3301,!1)}();return p}listen(f,p,T,N){const $=Mi(p,"","","");return Hn(this._getPlayer(f),T,$,N),()=>{}}command(f,p,T,N){if("register"==T)return void this.register(f,N[0]);if("create"==T)return void this.create(f,p,N[0]||{});const $=this._getPlayer(f);switch(T){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(f)}}}const Ko="ng-animate-queued",Xi="ng-animate-disabled",Ti=[],Ps={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oi="__ng_removed";class Ba{constructor(f,p=""){this.namespaceId=p;const T=f&&f.hasOwnProperty("value");if(this.value=function wr(R){return R??null}(T?f.value:f),T){const $=je(f);delete $.value,this.options=$}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(f){const p=f.params;if(p){const T=this.options.params;Object.keys(p).forEach(N=>{null==T[N]&&(T[N]=p[N])})}}}const un="void",_s=new Ba(un);class co{constructor(f,p,T){this.id=f,this.hostElement=p,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,pr(p,this._hostClassName)}listen(f,p,T,N){if(!this._triggers.has(p))throw function Qn(R,f){return new L.vHH(3302,!1)}();if(null==T||0==T.length)throw function Me(R){return new L.vHH(3303,!1)}();if(!function ai(R){return"start"==R||"done"==R}(T))throw function rt(R,f){return new L.vHH(3400,!1)}();const $=ft(this._elementListeners,f,[]),Z={name:p,phase:T,callback:N};$.push(Z);const ee=ft(this._engine.statesByElement,f,new Map);return ee.has(p)||(pr(f,Se),pr(f,Se+"-"+p),ee.set(p,_s)),()=>{this._engine.afterFlush(()=>{const de=$.indexOf(Z);de>=0&&$.splice(de,1),this._triggers.has(p)||ee.delete(p)})}}register(f,p){return!this._triggers.has(f)&&(this._triggers.set(f,p),!0)}_getTrigger(f){const p=this._triggers.get(f);if(!p)throw function fe(R){return new L.vHH(3401,!1)}();return p}trigger(f,p,T,N=!0){const $=this._getTrigger(p),Z=new xr(this.id,p,f);let ee=this._engine.statesByElement.get(f);ee||(pr(f,Se),pr(f,Se+"-"+p),this._engine.statesByElement.set(f,ee=new Map));let de=ee.get(p);const ke=new Ba(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&de&&ke.absorbOptions(de.options),ee.set(p,ke),de||(de=_s),ke.value!==un&&de.value===ke.value){if(!function Lu(R,f){const p=Object.keys(R),T=Object.keys(f);if(p.length!=T.length)return!1;for(let N=0;N<p.length;N++){const $=p[N];if(!f.hasOwnProperty($)||R[$]!==f[$])return!1}return!0}(de.params,ke.params)){const Ht=[],Mn=$.matchStyles(de.value,de.params,Ht),tn=$.matchStyles(ke.value,ke.params,Ht);Ht.length?this._engine.reportError(Ht):this._engine.afterFlush(()=>{re(f,Mn),pe(f,tn)})}return}const rn=ft(this._engine.playersByElement,f,[]);rn.forEach(Ht=>{Ht.namespaceId==this.id&&Ht.triggerName==p&&Ht.queued&&Ht.destroy()});let Tt=$.matchTransition(de.value,ke.value,f,ke.params),It=!1;if(!Tt){if(!N)return;Tt=$.fallbackTransition,It=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:p,transition:Tt,fromState:de,toState:ke,player:Z,isFallbackTransition:It}),It||(pr(f,Ko),Z.onStart(()=>{Oi(f,Ko)})),Z.onDone(()=>{let Ht=this.players.indexOf(Z);Ht>=0&&this.players.splice(Ht,1);const Mn=this._engine.playersByElement.get(f);if(Mn){let tn=Mn.indexOf(Z);tn>=0&&Mn.splice(tn,1)}}),this.players.push(Z),rn.push(Z),Z}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(p=>p.delete(f)),this._elementListeners.forEach((p,T)=>{this._elementListeners.set(T,p.filter(N=>N.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const p=this._engine.playersByElement.get(f);p&&(p.forEach(T=>T.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,p){const T=this._engine.driver.query(f,vt,!0);T.forEach(N=>{if(N[oi])return;const $=this._engine.fetchNamespacesByElement(N);$.size?$.forEach(Z=>Z.triggerLeaveAnimation(N,p,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(f,p,T,N){const $=this._engine.statesByElement.get(f),Z=new Map;if($){const ee=[];if($.forEach((de,ke)=>{if(Z.set(ke,de.value),this._triggers.has(ke)){const ct=this.trigger(f,ke,un,N);ct&&ee.push(ct)}}),ee.length)return this._engine.markElementAsRemoved(this.id,f,!0,p,Z),T&&On(ee).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const p=this._elementListeners.get(f),T=this._engine.statesByElement.get(f);if(p&&T){const N=new Set;p.forEach($=>{const Z=$.name;if(N.has(Z))return;N.add(Z);const de=this._triggers.get(Z).fallbackTransition,ke=T.get(Z)||_s,ct=new Ba(un),gt=new xr(this.id,Z,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:Z,transition:de,fromState:ke,toState:ct,player:gt,isFallbackTransition:!0})})}}removeNode(f,p){const T=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,p),this.triggerLeaveAnimation(f,p,!0))return;let N=!1;if(T.totalAnimations){const $=T.players.length?T.playersByQueriedElement.get(f):[];if($&&$.length)N=!0;else{let Z=f;for(;Z=Z.parentNode;)if(T.statesByElement.get(Z)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(f),N)T.markElementAsRemoved(this.id,f,!1,p);else{const $=f[oi];(!$||$===Ps)&&(T.afterFlush(()=>this.clearElementCache(f)),T.destroyInnerAnimations(f),T._onRemovalComplete(f,p))}}insertNode(f,p){pr(f,this._hostClassName)}drainQueuedTransitions(f){const p=[];return this._queue.forEach(T=>{const N=T.player;if(N.destroyed)return;const $=T.element,Z=this._elementListeners.get($);Z&&Z.forEach(ee=>{if(ee.name==T.triggerName){const de=Mi($,T.triggerName,T.fromState.value,T.toState.value);de._data=f,Hn(T.player,ee.phase,de,ee.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):p.push(T)}),this._queue=[],p.sort((T,N)=>{const $=T.transition.ast.depCount,Z=N.transition.ast.depCount;return 0==$||0==Z?$-Z:this._engine.driver.containsElement(T.element,N.element)?1:-1})}destroy(f){this.players.forEach(p=>p.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}elementContainsData(f){let p=!1;return this._elementListeners.has(f)&&(p=!0),p=!!this._queue.find(T=>T.element===f)||p,p}}class ks{constructor(f,p,T){this.bodyNode=f,this.driver=p,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,$)=>{}}_onRemovalComplete(f,p){this.onRemovalComplete(f,p)}get queuedPlayers(){const f=[];return this._namespaceList.forEach(p=>{p.players.forEach(T=>{T.queued&&f.push(T)})}),f}createNamespace(f,p){const T=new co(f,p,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,p)?this._balanceNamespaceList(T,p):(this.newHostElements.set(p,T),this.collectEnterElement(p)),this._namespaceLookup[f]=T}_balanceNamespaceList(f,p){const T=this._namespaceList,N=this.namespacesByHostElement;if(T.length-1>=0){let Z=!1,ee=this.driver.getParentElement(p);for(;ee;){const de=N.get(ee);if(de){const ke=T.indexOf(de);T.splice(ke+1,0,f),Z=!0;break}ee=this.driver.getParentElement(ee)}Z||T.unshift(f)}else T.push(f);return N.set(p,f),f}register(f,p){let T=this._namespaceLookup[f];return T||(T=this.createNamespace(f,p)),T}registerTrigger(f,p,T){let N=this._namespaceLookup[f];N&&N.register(p,T)&&this.totalAnimations++}destroy(f,p){if(!f)return;const T=this._fetchNamespace(f);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[f];const N=this._namespaceList.indexOf(T);N>=0&&this._namespaceList.splice(N,1)}),this.afterFlushAnimationsDone(()=>T.destroy(p))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const p=new Set,T=this.statesByElement.get(f);if(T)for(let N of T.values())if(N.namespaceId){const $=this._fetchNamespace(N.namespaceId);$&&p.add($)}return p}trigger(f,p,T,N){if(Os(p)){const $=this._fetchNamespace(f);if($)return $.trigger(p,T,N),!0}return!1}insertNode(f,p,T,N){if(!Os(p))return;const $=p[oi];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const Z=this.collectedLeaveElements.indexOf(p);Z>=0&&this.collectedLeaveElements.splice(Z,1)}if(f){const Z=this._fetchNamespace(f);Z&&Z.insertNode(p,T)}N&&this.collectEnterElement(p)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,p){p?this.disabledNodes.has(f)||(this.disabledNodes.add(f),pr(f,Xi)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),Oi(f,Xi))}removeNode(f,p,T,N){if(Os(p)){const $=f?this._fetchNamespace(f):null;if($?$.removeNode(p,N):this.markElementAsRemoved(f,p,!1,N),T){const Z=this.namespacesByHostElement.get(p);Z&&Z.id!==f&&Z.removeNode(p,N)}}else this._onRemovalComplete(p,N)}markElementAsRemoved(f,p,T,N,$){this.collectedLeaveElements.push(p),p[oi]={namespaceId:f,setForRemoval:N,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:$}}listen(f,p,T,N,$){return Os(p)?this._fetchNamespace(f).listen(p,T,N,$):()=>{}}_buildInstruction(f,p,T,N,$){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,T,N,f.fromState.options,f.toState.options,p,$)}destroyInnerAnimations(f){let p=this.driver.query(f,vt,!0);p.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(p=this.driver.query(f,ln,!0),p.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(f){const p=this.playersByElement.get(f);p&&p.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(f){const p=this.playersByQueriedElement.get(f);p&&p.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return On(this.players).onDone(()=>f());f()})}processLeaveNode(f){const p=f[oi];if(p&&p.setForRemoval){if(f[oi]=Ps,p.namespaceId){this.destroyInnerAnimations(f);const T=this._fetchNamespace(p.namespaceId);T&&T.clearElementCache(f)}this._onRemovalComplete(f,p.setForRemoval)}f.classList?.contains(Xi)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(f=-1){let p=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,N)=>this._balanceNamespaceList(T,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)pr(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{p=this._flushAnimations(T,f)}finally{for(let N=0;N<T.length;N++)T[N]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],p.length?On(p).onDone(()=>{T.forEach(N=>N())}):T.forEach(N=>N())}}reportError(f){throw function Te(R){return new L.vHH(3402,!1)}()}_flushAnimations(f,p){const T=new fr,N=[],$=new Map,Z=[],ee=new Map,de=new Map,ke=new Map,ct=new Set;this.disabledNodes.forEach(Ot=>{ct.add(Ot);const Yt=this.driver.query(Ot,".ng-animate-queued",!0);for(let At=0;At<Yt.length;At++)ct.add(Yt[At])});const gt=this.bodyNode,rn=Array.from(this.statesByElement.keys()),Tt=No(rn,this.collectedEnterElements),It=new Map;let Ht=0;Tt.forEach((Ot,Yt)=>{const At=Wr+Ht++;It.set(Yt,At),Ot.forEach(Pn=>pr(Pn,At))});const Mn=[],tn=new Set,Ir=new Set;for(let Ot=0;Ot<this.collectedLeaveElements.length;Ot++){const Yt=this.collectedLeaveElements[Ot],At=Yt[oi];At&&At.setForRemoval&&(Mn.push(Yt),tn.add(Yt),At.hasAnimation?this.driver.query(Yt,".ng-star-inserted",!0).forEach(Pn=>tn.add(Pn)):Ir.add(Yt))}const Cr=new Map,Tr=No(rn,Array.from(tn));Tr.forEach((Ot,Yt)=>{const At=Et+Ht++;Cr.set(Yt,At),Ot.forEach(Pn=>pr(Pn,At))}),f.push(()=>{Tt.forEach((Ot,Yt)=>{const At=It.get(Yt);Ot.forEach(Pn=>Oi(Pn,At))}),Tr.forEach((Ot,Yt)=>{const At=Cr.get(Yt);Ot.forEach(Pn=>Oi(Pn,At))}),Mn.forEach(Ot=>{this.processLeaveNode(Ot)})});const Bs=[],Fi=[];for(let Ot=this._namespaceList.length-1;Ot>=0;Ot--)this._namespaceList[Ot].drainQueuedTransitions(p).forEach(At=>{const Pn=At.player,Dr=At.element;if(Bs.push(Pn),this.collectedEnterElements.length){const gr=Dr[oi];if(gr&&gr.setForMove){if(gr.previousTriggersValues&&gr.previousTriggersValues.has(At.triggerName)){const $s=gr.previousTriggersValues.get(At.triggerName),ns=this.statesByElement.get(At.element);if(ns&&ns.has(At.triggerName)){const Ea=ns.get(At.triggerName);Ea.value=$s,ns.set(At.triggerName,Ea)}}return void Pn.destroy()}}const Ts=!gt||!this.driver.containsElement(gt,Dr),mi=Cr.get(Dr),ur=It.get(Dr),Zn=this._buildInstruction(At,T,ur,mi,Ts);if(Zn.errors&&Zn.errors.length)return void Fi.push(Zn);if(Ts)return Pn.onStart(()=>re(Dr,Zn.fromStyles)),Pn.onDestroy(()=>pe(Dr,Zn.toStyles)),void N.push(Pn);if(At.isFallbackTransition)return Pn.onStart(()=>re(Dr,Zn.fromStyles)),Pn.onDestroy(()=>pe(Dr,Zn.toStyles)),void N.push(Pn);const wa=[];Zn.timelines.forEach(gr=>{gr.stretchStartingKeyframe=!0,this.disabledNodes.has(gr.element)||wa.push(gr)}),Zn.timelines=wa,T.append(Dr,Zn.timelines),Z.push({instruction:Zn,player:Pn,element:Dr}),Zn.queriedElements.forEach(gr=>ft(ee,gr,[]).push(Pn)),Zn.preStyleProps.forEach((gr,$s)=>{if(gr.size){let ns=de.get($s);ns||de.set($s,ns=new Set),gr.forEach((Ea,Cl)=>ns.add(Cl))}}),Zn.postStyleProps.forEach((gr,$s)=>{let ns=ke.get($s);ns||ke.set($s,ns=new Set),gr.forEach((Ea,Cl)=>ns.add(Cl))})});if(Fi.length){const Ot=[];Fi.forEach(Yt=>{Ot.push(function yt(R,f){return new L.vHH(3505,!1)}())}),Bs.forEach(Yt=>Yt.destroy()),this.reportError(Ot)}const _n=new Map,ta=new Map;Z.forEach(Ot=>{const Yt=Ot.element;T.has(Yt)&&(ta.set(Yt,Yt),this._beforeAnimationBuild(Ot.player.namespaceId,Ot.instruction,_n))}),N.forEach(Ot=>{const Yt=Ot.element;this._getPreviousPlayers(Yt,!1,Ot.namespaceId,Ot.triggerName,null).forEach(Pn=>{ft(_n,Yt,[]).push(Pn),Pn.destroy()})});const vo=Mn.filter(Ot=>Ys(Ot,de,ke)),_o=new Map;Fs(_o,this.driver,Ir,ke,Be.l3).forEach(Ot=>{Ys(Ot,de,ke)&&vo.push(Ot)});const hu=new Map;Tt.forEach((Ot,Yt)=>{Fs(hu,this.driver,new Set(Ot),de,Be.k1)}),vo.forEach(Ot=>{const Yt=_o.get(Ot),At=hu.get(Ot);_o.set(Ot,new Map([...Array.from(Yt?.entries()??[]),...Array.from(At?.entries()??[])]))});const na=[],zu=[],Js={};Z.forEach(Ot=>{const{element:Yt,player:At,instruction:Pn}=Ot;if(T.has(Yt)){if(ct.has(Yt))return At.onDestroy(()=>pe(Yt,Pn.toStyles)),At.disabled=!0,At.overrideTotalTime(Pn.totalTime),void N.push(At);let Dr=Js;if(ta.size>1){let mi=Yt;const ur=[];for(;mi=mi.parentNode;){const Zn=ta.get(mi);if(Zn){Dr=Zn;break}ur.push(mi)}ur.forEach(Zn=>ta.set(Zn,Dr))}const Ts=this._buildAnimation(At.namespaceId,Pn,_n,$,hu,_o);if(At.setRealPlayer(Ts),Dr===Js)na.push(At);else{const mi=this.playersByElement.get(Dr);mi&&mi.length&&(At.parentPlayer=On(mi)),N.push(At)}}else re(Yt,Pn.fromStyles),At.onDestroy(()=>pe(Yt,Pn.toStyles)),zu.push(At),ct.has(Yt)&&N.push(At)}),zu.forEach(Ot=>{const Yt=$.get(Ot.element);if(Yt&&Yt.length){const At=On(Yt);Ot.setRealPlayer(At)}}),N.forEach(Ot=>{Ot.parentPlayer?Ot.syncPlayerEvents(Ot.parentPlayer):Ot.destroy()});for(let Ot=0;Ot<Mn.length;Ot++){const Yt=Mn[Ot],At=Yt[oi];if(Oi(Yt,Et),At&&At.hasAnimation)continue;let Pn=[];if(ee.size){let Ts=ee.get(Yt);Ts&&Ts.length&&Pn.push(...Ts);let mi=this.driver.query(Yt,ln,!0);for(let ur=0;ur<mi.length;ur++){let Zn=ee.get(mi[ur]);Zn&&Zn.length&&Pn.push(...Zn)}}const Dr=Pn.filter(Ts=>!Ts.destroyed);Dr.length?Ks(this,Yt,Dr):this.processLeaveNode(Yt)}return Mn.length=0,na.forEach(Ot=>{this.players.push(Ot),Ot.onDone(()=>{Ot.destroy();const Yt=this.players.indexOf(Ot);this.players.splice(Yt,1)}),Ot.play()}),na}elementContainsData(f,p){let T=!1;const N=p[oi];return N&&N.setForRemoval&&(T=!0),this.playersByElement.has(p)&&(T=!0),this.playersByQueriedElement.has(p)&&(T=!0),this.statesByElement.has(p)&&(T=!0),this._fetchNamespace(f).elementContainsData(p)||T}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,p,T,N,$){let Z=[];if(p){const ee=this.playersByQueriedElement.get(f);ee&&(Z=ee)}else{const ee=this.playersByElement.get(f);if(ee){const de=!$||$==un;ee.forEach(ke=>{ke.queued||!de&&ke.triggerName!=N||Z.push(ke)})}}return(T||N)&&(Z=Z.filter(ee=>!(T&&T!=ee.namespaceId||N&&N!=ee.triggerName))),Z}_beforeAnimationBuild(f,p,T){const $=p.element,Z=p.isRemovalTransition?void 0:f,ee=p.isRemovalTransition?void 0:p.triggerName;for(const de of p.timelines){const ke=de.element,ct=ke!==$,gt=ft(T,ke,[]);this._getPreviousPlayers(ke,ct,Z,ee,p.toState).forEach(Tt=>{const It=Tt.getRealPlayer();It.beforeDestroy&&It.beforeDestroy(),Tt.destroy(),gt.push(Tt)})}re($,p.fromStyles)}_buildAnimation(f,p,T,N,$,Z){const ee=p.triggerName,de=p.element,ke=[],ct=new Set,gt=new Set,rn=p.timelines.map(It=>{const Ht=It.element;ct.add(Ht);const Mn=Ht[oi];if(Mn&&Mn.removedBeforeQueried)return new Be.ZN(It.duration,It.delay);const tn=Ht!==de,Ir=function en(R){const f=[];return Yr(R,f),f}((T.get(Ht)||Ti).map(_n=>_n.getRealPlayer())).filter(_n=>!!_n.element&&_n.element===Ht),Cr=$.get(Ht),Tr=Z.get(Ht),Bs=Gr(0,this._normalizer,0,It.keyframes,Cr,Tr),Fi=this._buildPlayer(It,Bs,Ir);if(It.subTimeline&&N&&gt.add(Ht),tn){const _n=new xr(f,ee,Ht);_n.setRealPlayer(Fi),ke.push(_n)}return Fi});ke.forEach(It=>{ft(this.playersByQueriedElement,It.element,[]).push(It),It.onDone(()=>function Yo(R,f,p){let T=R.get(f);if(T){if(T.length){const N=T.indexOf(p);T.splice(N,1)}0==T.length&&R.delete(f)}return T}(this.playersByQueriedElement,It.element,It))}),ct.forEach(It=>pr(It,ht));const Tt=On(rn);return Tt.onDestroy(()=>{ct.forEach(It=>Oi(It,ht)),pe(de,p.toStyles)}),gt.forEach(It=>{ft(N,It,[]).push(Tt)}),Tt}_buildPlayer(f,p,T){return p.length>0?this.driver.animate(f.element,p,f.duration,f.delay,f.easing,T):new Be.ZN(f.duration,f.delay)}}class xr{constructor(f,p,T){this.namespaceId=f,this.triggerName=p,this.element=T,this._player=new Be.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((p,T)=>{p.forEach(N=>Hn(f,T,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const p=this._player;p.triggerCallback&&f.onStart(()=>p.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,p){ft(this._queuedCallbacks,f,[]).push(p)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const p=this._player;p.triggerCallback&&p.triggerCallback(f)}}function Os(R){return R&&1===R.nodeType}function $a(R,f){const p=R.style.display;return R.style.display=f??"none",p}function Fs(R,f,p,T,N){const $=[];p.forEach(de=>$.push($a(de)));const Z=[];T.forEach((de,ke)=>{const ct=new Map;de.forEach(gt=>{const rn=f.computeStyle(ke,gt,N);ct.set(gt,rn),(!rn||0==rn.length)&&(ke[oi]=lo,Z.push(ke))}),R.set(ke,ct)});let ee=0;return p.forEach(de=>$a(de,$[ee++])),Z}function No(R,f){const p=new Map;if(R.forEach(ee=>p.set(ee,[])),0==f.length)return p;const N=new Set(f),$=new Map;function Z(ee){if(!ee)return 1;let de=$.get(ee);if(de)return de;const ke=ee.parentNode;return de=p.has(ke)?ke:N.has(ke)?1:Z(ke),$.set(ee,de),de}return f.forEach(ee=>{const de=Z(ee);1!==de&&p.get(de).push(ee)}),p}function pr(R,f){R.classList?.add(f)}function Oi(R,f){R.classList?.remove(f)}function Ks(R,f,p){On(p).onDone(()=>R.processLeaveNode(f))}function Yr(R,f){for(let p=0;p<R.length;p++){const T=R[p];T instanceof Be.ZE?Yr(T.players,f):f.push(T)}}function Ys(R,f,p){const T=p.get(R);if(!T)return!1;let N=f.get(R);return N?T.forEach($=>N.add($)):f.set(R,T),p.delete(R),!0}class Ls{constructor(f,p,T){this.bodyNode=f,this._driver=p,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(N,$)=>{},this._transitionEngine=new ks(f,p,T),this._timelineEngine=new qo(f,p,T),this._transitionEngine.onRemovalComplete=(N,$)=>this.onRemovalComplete(N,$)}registerTrigger(f,p,T,N,$){const Z=f+"-"+N;let ee=this._triggerCache[Z];if(!ee){const de=[],ct=fs(this._driver,$,de,[]);if(de.length)throw function Ne(R,f){return new L.vHH(3404,!1)}();ee=function Ro(R,f,p){return new ys(R,f,p)}(N,ct,this._normalizer),this._triggerCache[Z]=ee}this._transitionEngine.registerTrigger(p,N,ee)}register(f,p){this._transitionEngine.register(f,p)}destroy(f,p){this._transitionEngine.destroy(f,p)}onInsert(f,p,T,N){this._transitionEngine.insertNode(f,p,T,N)}onRemove(f,p,T,N){this._transitionEngine.removeNode(f,p,N||!1,T)}disableAnimations(f,p){this._transitionEngine.markElementAsDisabled(f,p)}process(f,p,T,N){if("@"==T.charAt(0)){const[$,Z]=qn(T);this._timelineEngine.command($,p,Z,N)}else this._transitionEngine.trigger(f,p,T,N)}listen(f,p,T,N,$){if("@"==T.charAt(0)){const[Z,ee]=qn(T);return this._timelineEngine.listen(Z,p,ee,$)}return this._transitionEngine.listen(f,p,T,N,$)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Us=(()=>{class R{constructor(p,T,N){this._element=p,this._startStyles=T,this._endStyles=N,this._state=0;let $=R.initialStylesByElement.get(p);$||R.initialStylesByElement.set(p,$=new Map),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&pe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pe(this._element,this._initialStyles),this._endStyles&&(pe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(re(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(re(this._element,this._endStyles),this._endStyles=null),pe(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function Zo(R){let f=null;return R.forEach((p,T)=>{(function Po(R){return"display"===R||"position"===R})(T)&&(f=f||new Map,f.set(T,p))}),f}class Ye{constructor(f,p,T,N){this.element=f,this.keyframes=p,this.options=T,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const p=[];return f.forEach(T=>{p.push(Object.fromEntries(T))}),p}_triggerWebAnimation(f,p,T){return f.animate(this._convertKeyframesToObject(p),T)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,N)=>{"offset"!==N&&f.set(N,this._finished?T:er(this.element,N))}),this.currentSnapshot=f}triggerCallback(f){const p="start"===f?this._onStartFns:this._onDoneFns;p.forEach(T=>T()),p.length=0}}class gn{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,p){return!1}containsElement(f,p){return Fn(f,p)}getParentElement(f){return _i(f)}query(f,p,T){return Pr(f,p,T)}computeStyle(f,p,T){return window.getComputedStyle(f)[p]}animate(f,p,T,N,$,Z=[]){const de={duration:T,delay:N,fill:0==N?"both":"forwards"};$&&(de.easing=$);const ke=new Map,ct=Z.filter(Tt=>Tt instanceof Ye);(function qr(R,f){return 0===R||0===f})(T,N)&&ct.forEach(Tt=>{Tt.currentSnapshot.forEach((It,Ht)=>ke.set(Ht,It))});let gt=function St(R){return R.length?R[0]instanceof Map?R:R.map(f=>be(f)):[]}(p).map(Tt=>In(Tt));gt=function Ws(R,f,p){if(p.size&&f.length){let T=f[0],N=[];if(p.forEach(($,Z)=>{T.has(Z)||N.push(Z),T.set(Z,$)}),N.length)for(let $=1;$<f.length;$++){let Z=f[$];N.forEach(ee=>Z.set(ee,er(R,ee)))}}return f}(f,gt,ke);const rn=function ha(R,f){let p=null,T=null;return Array.isArray(f)&&f.length?(p=Zo(f[0]),f.length>1&&(T=Zo(f[f.length-1]))):f instanceof Map&&(p=Zo(f)),p||T?new Us(R,p,T):null}(f,gt);return new Ye(f,gt,de,rn)}}var es=H(6895);let ho=(()=>{class R extends Be._j{constructor(p,T){super(),this._nextAnimationId=0,this._renderer=p.createRenderer(T.body,{id:"0",encapsulation:L.ifc.None,styles:[],data:{animation:[]}})}build(p){const T=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(p)?(0,Be.vP)(p):p;return Di(this._renderer,null,T,"register",[N]),new Rr(T,this._renderer)}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(L.FYo),L.LFG(es.K0))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})();class Rr extends Be.LC{constructor(f,p){super(),this._id=f,this._renderer=p}create(f,p){return new Gi(this._id,f,p||{},this._renderer)}}class Gi{constructor(f,p,T,N){this.id=f,this.element=p,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(f,p){return this._renderer.listen(this.element,`@@${this.id}:${f}`,p)}_command(f,...p){return Di(this._renderer,this.element,this.id,f,p)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Di(R,f,p,T,N){return R.setProperty(f,`@@${p}:${T}`,N)}const Qo="@.disabled";let Jo=(()=>{class R{constructor(p,T,N){this.delegate=p,this.engine=T,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=($,Z)=>{const ee=Z?.parentNode($);ee&&Z.removeChild(ee,$)}}createRenderer(p,T){const $=this.delegate.createRenderer(p,T);if(!(p&&T&&T.data&&T.data.animation)){let ct=this._rendererCache.get($);return ct||(ct=new Uu("",$,this.engine,()=>this._rendererCache.delete($)),this._rendererCache.set($,ct)),ct}const Z=T.id,ee=T.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,p);const de=ct=>{Array.isArray(ct)?ct.forEach(de):this.engine.registerTrigger(Z,ee,p,ct.name,ct)};return T.data.animation.forEach(de),new Il(this,ee,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(p,T,N){p>=0&&p<this._microtaskId?this._zone.run(()=>T(N)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[Z,ee]=$;Z(ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(L.FYo),L.LFG(Ls),L.LFG(L.R0b))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})();class Uu{constructor(f,p,T,N){this.namespaceId=f,this.delegate=p,this.engine=T,this._onDestroy=N,this.destroyNode=this.delegate.destroyNode?$=>p.destroyNode($):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(f,p){return this.delegate.createElement(f,p)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,p){this.delegate.appendChild(f,p),this.engine.onInsert(this.namespaceId,p,f,!1)}insertBefore(f,p,T,N=!0){this.delegate.insertBefore(f,p,T),this.engine.onInsert(this.namespaceId,p,f,N)}removeChild(f,p,T){this.engine.onRemove(this.namespaceId,p,this.delegate,T)}selectRootElement(f,p){return this.delegate.selectRootElement(f,p)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,p,T,N){this.delegate.setAttribute(f,p,T,N)}removeAttribute(f,p,T){this.delegate.removeAttribute(f,p,T)}addClass(f,p){this.delegate.addClass(f,p)}removeClass(f,p){this.delegate.removeClass(f,p)}setStyle(f,p,T,N){this.delegate.setStyle(f,p,T,N)}removeStyle(f,p,T){this.delegate.removeStyle(f,p,T)}setProperty(f,p,T){"@"==p.charAt(0)&&p==Qo?this.disableAnimations(f,!!T):this.delegate.setProperty(f,p,T)}setValue(f,p){this.delegate.setValue(f,p)}listen(f,p,T){return this.delegate.listen(f,p,T)}disableAnimations(f,p){this.engine.disableAnimations(f,p)}}class Il extends Uu{constructor(f,p,T,N,$){super(p,T,N,$),this.factory=f,this.namespaceId=p}setProperty(f,p,T){"@"==p.charAt(0)?"."==p.charAt(1)&&p==Qo?this.disableAnimations(f,T=void 0===T||!!T):this.engine.process(this.namespaceId,f,p.slice(1),T):this.delegate.setProperty(f,p,T)}listen(f,p,T){if("@"==p.charAt(0)){const N=function fa(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(f);let $=p.slice(1),Z="";return"@"!=$.charAt(0)&&([$,Z]=function Tl(R){const f=R.indexOf(".");return[R.substring(0,f),R.slice(f+1)]}($)),this.engine.listen(this.namespaceId,N,$,Z,ee=>{this.factory.scheduleListenerCallback(ee._data||-1,T,ee)})}return this.delegate.listen(f,p,T)}}const ui=[{provide:Be._j,useClass:ho},{provide:uo,useFactory:function gi(){return new da}},{provide:Ls,useClass:(()=>{class R extends Ls{constructor(p,T,N,$){super(p.body,T,N)}ngOnDestroy(){this.flush()}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(es.K0),L.LFG(Kn),L.LFG(uo),L.LFG(L.z2F))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})()},{provide:L.FYo,useFactory:function ko(R,f,p){return new Jo(R,f,p)},deps:[w.se,Ls,L.R0b]}],ts=[{provide:Kn,useFactory:()=>new gn},{provide:L.QbO,useValue:"BrowserAnimations"},...ui],fo=[{provide:Kn,useClass:$i},{provide:L.QbO,useValue:"NoopAnimations"},...ui];let su=(()=>{class R{static withConfig(p){return{ngModule:R,providers:p.disableAnimations?fo:ts}}}return R.\u0275fac=function(p){return new(p||R)},R.\u0275mod=L.oAB({type:R}),R.\u0275inj=L.cJS({providers:ts,imports:[w.b2]}),R})();var ja=H(4383),b=H(9646),O=H(9751),A=H(4351),B=H(9300),se=H(4004);class Re{}class ze{}class pt{constructor(f){this.normalizedNames=new Map,this.lazyUpdate=null,f?this.lazyInit="string"==typeof f?()=>{this.headers=new Map,f.split("\n").forEach(p=>{const T=p.indexOf(":");if(T>0){const N=p.slice(0,T),$=N.toLowerCase(),Z=p.slice(T+1).trim();this.maybeSetNormalizedName(N,$),this.headers.has($)?this.headers.get($).push(Z):this.headers.set($,[Z])}})}:()=>{this.headers=new Map,Object.keys(f).forEach(p=>{let T=f[p];const N=p.toLowerCase();"string"==typeof T&&(T=[T]),T.length>0&&(this.headers.set(N,T),this.maybeSetNormalizedName(p,N))})}:this.headers=new Map}has(f){return this.init(),this.headers.has(f.toLowerCase())}get(f){this.init();const p=this.headers.get(f.toLowerCase());return p&&p.length>0?p[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(f){return this.init(),this.headers.get(f.toLowerCase())||null}append(f,p){return this.clone({name:f,value:p,op:"a"})}set(f,p){return this.clone({name:f,value:p,op:"s"})}delete(f,p){return this.clone({name:f,value:p,op:"d"})}maybeSetNormalizedName(f,p){this.normalizedNames.has(p)||this.normalizedNames.set(p,f)}init(){this.lazyInit&&(this.lazyInit instanceof pt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(f=>this.applyUpdate(f)),this.lazyUpdate=null))}copyFrom(f){f.init(),Array.from(f.headers.keys()).forEach(p=>{this.headers.set(p,f.headers.get(p)),this.normalizedNames.set(p,f.normalizedNames.get(p))})}clone(f){const p=new pt;return p.lazyInit=this.lazyInit&&this.lazyInit instanceof pt?this.lazyInit:this,p.lazyUpdate=(this.lazyUpdate||[]).concat([f]),p}applyUpdate(f){const p=f.name.toLowerCase();switch(f.op){case"a":case"s":let T=f.value;if("string"==typeof T&&(T=[T]),0===T.length)return;this.maybeSetNormalizedName(f.name,p);const N=("a"===f.op?this.headers.get(p):void 0)||[];N.push(...T),this.headers.set(p,N);break;case"d":const $=f.value;if($){let Z=this.headers.get(p);if(!Z)return;Z=Z.filter(ee=>-1===$.indexOf(ee)),0===Z.length?(this.headers.delete(p),this.normalizedNames.delete(p)):this.headers.set(p,Z)}else this.headers.delete(p),this.normalizedNames.delete(p)}}forEach(f){this.init(),Array.from(this.normalizedNames.keys()).forEach(p=>f(this.normalizedNames.get(p),this.headers.get(p)))}}class Vn{encodeKey(f){return Nn(f)}encodeValue(f){return Nn(f)}decodeKey(f){return decodeURIComponent(f)}decodeValue(f){return decodeURIComponent(f)}}const Sn=/%(\d[a-f0-9])/gi,An={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nn(R){return encodeURIComponent(R).replace(Sn,(f,p)=>An[p]??f)}function hn(R){return`${R}`}class li{constructor(f={}){if(this.updates=null,this.cloneFrom=null,this.encoder=f.encoder||new Vn,f.fromString){if(f.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Bn(R,f){const p=new Map;return R.length>0&&R.replace(/^\?/,"").split("&").forEach(N=>{const $=N.indexOf("="),[Z,ee]=-1==$?[f.decodeKey(N),""]:[f.decodeKey(N.slice(0,$)),f.decodeValue(N.slice($+1))],de=p.get(Z)||[];de.push(ee),p.set(Z,de)}),p}(f.fromString,this.encoder)}else f.fromObject?(this.map=new Map,Object.keys(f.fromObject).forEach(p=>{const T=f.fromObject[p],N=Array.isArray(T)?T.map(hn):[hn(T)];this.map.set(p,N)})):this.map=null}has(f){return this.init(),this.map.has(f)}get(f){this.init();const p=this.map.get(f);return p?p[0]:null}getAll(f){return this.init(),this.map.get(f)||null}keys(){return this.init(),Array.from(this.map.keys())}append(f,p){return this.clone({param:f,value:p,op:"a"})}appendAll(f){const p=[];return Object.keys(f).forEach(T=>{const N=f[T];Array.isArray(N)?N.forEach($=>{p.push({param:T,value:$,op:"a"})}):p.push({param:T,value:N,op:"a"})}),this.clone(p)}set(f,p){return this.clone({param:f,value:p,op:"s"})}delete(f,p){return this.clone({param:f,value:p,op:"d"})}toString(){return this.init(),this.keys().map(f=>{const p=this.encoder.encodeKey(f);return this.map.get(f).map(T=>p+"="+this.encoder.encodeValue(T)).join("&")}).filter(f=>""!==f).join("&")}clone(f){const p=new li({encoder:this.encoder});return p.cloneFrom=this.cloneFrom||this,p.updates=(this.updates||[]).concat(f),p}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(f=>this.map.set(f,this.cloneFrom.map.get(f))),this.updates.forEach(f=>{switch(f.op){case"a":case"s":const p=("a"===f.op?this.map.get(f.param):void 0)||[];p.push(hn(f.value)),this.map.set(f.param,p);break;case"d":if(void 0===f.value){this.map.delete(f.param);break}{let T=this.map.get(f.param)||[];const N=T.indexOf(hn(f.value));-1!==N&&T.splice(N,1),T.length>0?this.map.set(f.param,T):this.map.delete(f.param)}}}),this.cloneFrom=this.updates=null)}}class Wi{constructor(){this.map=new Map}set(f,p){return this.map.set(f,p),this}get(f){return this.map.has(f)||this.map.set(f,f.defaultValue()),this.map.get(f)}delete(f){return this.map.delete(f),this}has(f){return this.map.has(f)}keys(){return this.map.keys()}}function Fo(R){return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer}function ga(R){return typeof Blob<"u"&&R instanceof Blob}function Lo(R){return typeof FormData<"u"&&R instanceof FormData}class or{constructor(f,p,T,N){let $;if(this.url=p,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=f.toUpperCase(),function qi(R){switch(R){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||N?(this.body=void 0!==T?T:null,$=N):$=T,$&&(this.reportProgress=!!$.reportProgress,this.withCredentials=!!$.withCredentials,$.responseType&&(this.responseType=$.responseType),$.headers&&(this.headers=$.headers),$.context&&(this.context=$.context),$.params&&(this.params=$.params)),this.headers||(this.headers=new pt),this.context||(this.context=new Wi),this.params){const Z=this.params.toString();if(0===Z.length)this.urlWithParams=p;else{const ee=p.indexOf("?");this.urlWithParams=p+(-1===ee?"?":ee<p.length-1?"&":"")+Z}}else this.params=new li,this.urlWithParams=p}serializeBody(){return null===this.body?null:Fo(this.body)||ga(this.body)||Lo(this.body)||function Ha(R){return typeof URLSearchParams<"u"&&R instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof li?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lo(this.body)?null:ga(this.body)?this.body.type||null:Fo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof li?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(f={}){const p=f.method||this.method,T=f.url||this.url,N=f.responseType||this.responseType,$=void 0!==f.body?f.body:this.body,Z=void 0!==f.withCredentials?f.withCredentials:this.withCredentials,ee=void 0!==f.reportProgress?f.reportProgress:this.reportProgress;let de=f.headers||this.headers,ke=f.params||this.params;const ct=f.context??this.context;return void 0!==f.setHeaders&&(de=Object.keys(f.setHeaders).reduce((gt,rn)=>gt.set(rn,f.setHeaders[rn]),de)),f.setParams&&(ke=Object.keys(f.setParams).reduce((gt,rn)=>gt.set(rn,f.setParams[rn]),ke)),new or(p,T,$,{params:ke,headers:de,context:ct,reportProgress:ee,responseType:N,withCredentials:Z})}}var Jn=(()=>((Jn=Jn||{})[Jn.Sent=0]="Sent",Jn[Jn.UploadProgress=1]="UploadProgress",Jn[Jn.ResponseHeader=2]="ResponseHeader",Jn[Jn.DownloadProgress=3]="DownloadProgress",Jn[Jn.Response=4]="Response",Jn[Jn.User=5]="User",Jn))();class Zs{constructor(f,p=200,T="OK"){this.headers=f.headers||new pt,this.status=void 0!==f.status?f.status:p,this.statusText=f.statusText||T,this.url=f.url||null,this.ok=this.status>=200&&this.status<300}}class Vu extends Zs{constructor(f={}){super(f),this.type=Jn.ResponseHeader}clone(f={}){return new Vu({headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class ws extends Zs{constructor(f={}){super(f),this.type=Jn.Response,this.body=void 0!==f.body?f.body:null}clone(f={}){return new ws({body:void 0!==f.body?f.body:this.body,headers:f.headers||this.headers,status:void 0!==f.status?f.status:this.status,statusText:f.statusText||this.statusText,url:f.url||this.url||void 0})}}class po extends Zs{constructor(f){super(f,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${f.url||"(unknown url)"}`:`Http failure response for ${f.url||"(unknown url)"}: ${f.status} ${f.statusText}`,this.error=f.error||null}}function ou(R,f){return{body:f,headers:R.headers,context:R.context,observe:R.observe,params:R.params,reportProgress:R.reportProgress,responseType:R.responseType,withCredentials:R.withCredentials}}let ma=(()=>{class R{constructor(p){this.handler=p}request(p,T,N={}){let $;if(p instanceof or)$=p;else{let de,ke;de=N.headers instanceof pt?N.headers:new pt(N.headers),N.params&&(ke=N.params instanceof li?N.params:new li({fromObject:N.params})),$=new or(p,T,void 0!==N.body?N.body:null,{headers:de,context:N.context,params:ke,reportProgress:N.reportProgress,responseType:N.responseType||"json",withCredentials:N.withCredentials})}const Z=(0,b.of)($).pipe((0,A.b)(de=>this.handler.handle(de)));if(p instanceof or||"events"===N.observe)return Z;const ee=Z.pipe((0,B.h)(de=>de instanceof ws));switch(N.observe||"body"){case"body":switch($.responseType){case"arraybuffer":return ee.pipe((0,se.U)(de=>{if(null!==de.body&&!(de.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return de.body}));case"blob":return ee.pipe((0,se.U)(de=>{if(null!==de.body&&!(de.body instanceof Blob))throw new Error("Response is not a Blob.");return de.body}));case"text":return ee.pipe((0,se.U)(de=>{if(null!==de.body&&"string"!=typeof de.body)throw new Error("Response is not a string.");return de.body}));default:return ee.pipe((0,se.U)(de=>de.body))}case"response":return ee;default:throw new Error(`Unreachable: unhandled observe type ${N.observe}}`)}}delete(p,T={}){return this.request("DELETE",p,T)}get(p,T={}){return this.request("GET",p,T)}head(p,T={}){return this.request("HEAD",p,T)}jsonp(p,T){return this.request("JSONP",p,{params:(new li).append(T,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(p,T={}){return this.request("OPTIONS",p,T)}patch(p,T,N={}){return this.request("PATCH",p,ou(N,T))}post(p,T,N={}){return this.request("POST",p,ou(N,T))}put(p,T,N={}){return this.request("PUT",p,ou(N,T))}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(Re))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})();class go{constructor(f,p){this.next=f,this.interceptor=p}handle(f){return this.interceptor.intercept(f,this.next)}}const au=new L.OlP("HTTP_INTERCEPTORS");let uu=(()=>{class R{intercept(p,T){return T.handle(p)}}return R.\u0275fac=function(p){return new(p||R)},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})();const ya=/^\)\]\}',?\n/;let Uo=(()=>{class R{constructor(p){this.xhrFactory=p}handle(p){if("JSONP"===p.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new O.y(T=>{const N=this.xhrFactory.build();if(N.open(p.method,p.urlWithParams),p.withCredentials&&(N.withCredentials=!0),p.headers.forEach((Tt,It)=>N.setRequestHeader(Tt,It.join(","))),p.headers.has("Accept")||N.setRequestHeader("Accept","application/json, text/plain, */*"),!p.headers.has("Content-Type")){const Tt=p.detectContentTypeHeader();null!==Tt&&N.setRequestHeader("Content-Type",Tt)}if(p.responseType){const Tt=p.responseType.toLowerCase();N.responseType="json"!==Tt?Tt:"text"}const $=p.serializeBody();let Z=null;const ee=()=>{if(null!==Z)return Z;const Tt=N.statusText||"OK",It=new pt(N.getAllResponseHeaders()),Ht=function va(R){return"responseURL"in R&&R.responseURL?R.responseURL:/^X-Request-URL:/m.test(R.getAllResponseHeaders())?R.getResponseHeader("X-Request-URL"):null}(N)||p.url;return Z=new Vu({headers:It,status:N.status,statusText:Tt,url:Ht}),Z},de=()=>{let{headers:Tt,status:It,statusText:Ht,url:Mn}=ee(),tn=null;204!==It&&(tn=typeof N.response>"u"?N.responseText:N.response),0===It&&(It=tn?200:0);let Ir=It>=200&&It<300;if("json"===p.responseType&&"string"==typeof tn){const Cr=tn;tn=tn.replace(ya,"");try{tn=""!==tn?JSON.parse(tn):null}catch(Tr){tn=Cr,Ir&&(Ir=!1,tn={error:Tr,text:tn})}}Ir?(T.next(new ws({body:tn,headers:Tt,status:It,statusText:Ht,url:Mn||void 0})),T.complete()):T.error(new po({error:tn,headers:Tt,status:It,statusText:Ht,url:Mn||void 0}))},ke=Tt=>{const{url:It}=ee(),Ht=new po({error:Tt,status:N.status||0,statusText:N.statusText||"Unknown Error",url:It||void 0});T.error(Ht)};let ct=!1;const gt=Tt=>{ct||(T.next(ee()),ct=!0);let It={type:Jn.DownloadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(It.total=Tt.total),"text"===p.responseType&&!!N.responseText&&(It.partialText=N.responseText),T.next(It)},rn=Tt=>{let It={type:Jn.UploadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(It.total=Tt.total),T.next(It)};return N.addEventListener("load",de),N.addEventListener("error",ke),N.addEventListener("timeout",ke),N.addEventListener("abort",ke),p.reportProgress&&(N.addEventListener("progress",gt),null!==$&&N.upload&&N.upload.addEventListener("progress",rn)),N.send($),T.next({type:Jn.Sent}),()=>{N.removeEventListener("error",ke),N.removeEventListener("abort",ke),N.removeEventListener("load",de),N.removeEventListener("timeout",ke),p.reportProgress&&(N.removeEventListener("progress",gt),null!==$&&N.upload&&N.upload.removeEventListener("progress",rn)),N.readyState!==N.DONE&&N.abort()}})}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(es.JF))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})();const ar=new L.OlP("XSRF_COOKIE_NAME"),mo=new L.OlP("XSRF_HEADER_NAME");class du{}let Hu=(()=>{class R{constructor(p,T,N){this.doc=p,this.platform=T,this.cookieName=N,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const p=this.doc.cookie||"";return p!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,es.Mx)(p,this.cookieName),this.lastCookieString=p),this.lastToken}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(es.K0),L.LFG(L.Lbi),L.LFG(ar))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})(),Vo=(()=>{class R{constructor(p,T){this.tokenService=p,this.headerName=T}intercept(p,T){const N=p.url.toLowerCase();if("GET"===p.method||"HEAD"===p.method||N.startsWith("http://")||N.startsWith("https://"))return T.handle(p);const $=this.tokenService.getToken();return null!==$&&!p.headers.has(this.headerName)&&(p=p.clone({headers:p.headers.set(this.headerName,$)})),T.handle(p)}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(du),L.LFG(mo))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})(),gc=(()=>{class R{constructor(p,T){this.backend=p,this.injector=T,this.chain=null}handle(p){if(null===this.chain){const T=this.injector.get(au,[]);this.chain=T.reduceRight((N,$)=>new go(N,$),this.backend)}return this.chain.handle(p)}}return R.\u0275fac=function(p){return new(p||R)(L.LFG(ze),L.LFG(L.zs3))},R.\u0275prov=L.Yz7({token:R,factory:R.\u0275fac}),R})(),Bo=(()=>{class R{static disable(){return{ngModule:R,providers:[{provide:Vo,useClass:uu}]}}static withOptions(p={}){return{ngModule:R,providers:[p.cookieName?{provide:ar,useValue:p.cookieName}:[],p.headerName?{provide:mo,useValue:p.headerName}:[]]}}}return R.\u0275fac=function(p){return new(p||R)},R.\u0275mod=L.oAB({type:R}),R.\u0275inj=L.cJS({providers:[Vo,{provide:au,useExisting:Vo,multi:!0},{provide:du,useClass:Hu},{provide:ar,useValue:"XSRF-TOKEN"},{provide:mo,useValue:"X-XSRF-TOKEN"}]}),R})(),Qs=(()=>{class R{}return R.\u0275fac=function(p){return new(p||R)},R.\u0275mod=L.oAB({type:R}),R.\u0275inj=L.cJS({providers:[ma,{provide:Re,useClass:gc},Uo,{provide:ze,useExisting:Uo}],imports:[Bo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),R})();var Is=H(3692),Gu=H(156);const _a_firebaseConfig={apiKey:"AIzaSyDBD0fXS4mM-MCqpGs6kuYaKrckQtVExFs",authDomain:"fir-angular-b4d79.firebaseapp.com",projectId:"fir-angular-b4d79",storageBucket:"fir-angular-b4d79.appspot.com",messagingSenderId:"998571075682",appId:"1:998571075682:web:8297a07262e11bfac1493b"};let ea=(()=>{class R{}return R.\u0275fac=function(p){return new(p||R)},R.\u0275mod=L.oAB({type:R,bootstrap:[$e]}),R.\u0275inj=L.cJS({imports:[w.b2,W,su,ja.Rh.forRoot(),Qs,Ce.ef.forRoot({type:"ball-scale-multiple"}),(0,Is.hX)(()=>(0,Is.ZF)(_a_firebaseConfig)),(0,Gu.Cm)(()=>(0,Gu.ad)())]}),R})();(0,L.G48)(),w.q6().bootstrapModule(ea).catch(R=>console.error(R))},4383:(Bt,We,H)=>{H.d(We,{Rh:()=>Xt,_W:()=>Fe});var w=H(8256),L=H(7340),te=H(7579),ve=H(1481),W=H(6895);const Ce=["toast-component",""];function $e(Me,rt){if(1&Me){const fe=w.EpF();w.TgZ(0,"button",5),w.NdJ("click",function(){w.CHM(fe);const st=w.oxw();return w.KtG(st.remove())}),w.TgZ(1,"span",6),w._uU(2,"\xd7"),w.qZA()()}}function Be(Me,rt){if(1&Me&&(w.ynx(0),w._uU(1),w.BQk()),2&Me){const fe=w.oxw(2);w.xp6(1),w.hij("[",fe.duplicatesCount+1,"]")}}function qe(Me,rt){if(1&Me&&(w.TgZ(0,"div"),w._uU(1),w.YNc(2,Be,2,1,"ng-container",4),w.qZA()),2&Me){const fe=w.oxw();w.Tol(fe.options.titleClass),w.uIk("aria-label",fe.title),w.xp6(1),w.hij(" ",fe.title," "),w.xp6(1),w.Q6J("ngIf",fe.duplicatesCount)}}function oe(Me,rt){if(1&Me&&w._UZ(0,"div",7),2&Me){const fe=w.oxw();w.Tol(fe.options.messageClass),w.Q6J("innerHTML",fe.message,w.oJD)}}function ue(Me,rt){if(1&Me&&(w.TgZ(0,"div",8),w._uU(1),w.qZA()),2&Me){const fe=w.oxw();w.Tol(fe.options.messageClass),w.uIk("aria-label",fe.message),w.xp6(1),w.hij(" ",fe.message," ")}}function Pe(Me,rt){if(1&Me&&(w.TgZ(0,"div"),w._UZ(1,"div",9),w.qZA()),2&Me){const fe=w.oxw();w.xp6(1),w.Udp("width",fe.width+"%")}}function nt(Me,rt){if(1&Me){const fe=w.EpF();w.TgZ(0,"button",5),w.NdJ("click",function(){w.CHM(fe);const st=w.oxw();return w.KtG(st.remove())}),w.TgZ(1,"span",6),w._uU(2,"\xd7"),w.qZA()()}}function Ue(Me,rt){if(1&Me&&(w.ynx(0),w._uU(1),w.BQk()),2&Me){const fe=w.oxw(2);w.xp6(1),w.hij("[",fe.duplicatesCount+1,"]")}}function _t(Me,rt){if(1&Me&&(w.TgZ(0,"div"),w._uU(1),w.YNc(2,Ue,2,1,"ng-container",4),w.qZA()),2&Me){const fe=w.oxw();w.Tol(fe.options.titleClass),w.uIk("aria-label",fe.title),w.xp6(1),w.hij(" ",fe.title," "),w.xp6(1),w.Q6J("ngIf",fe.duplicatesCount)}}function Ct(Me,rt){if(1&Me&&w._UZ(0,"div",7),2&Me){const fe=w.oxw();w.Tol(fe.options.messageClass),w.Q6J("innerHTML",fe.message,w.oJD)}}function kt(Me,rt){if(1&Me&&(w.TgZ(0,"div",8),w._uU(1),w.qZA()),2&Me){const fe=w.oxw();w.Tol(fe.options.messageClass),w.uIk("aria-label",fe.message),w.xp6(1),w.hij(" ",fe.message," ")}}function Mt(Me,rt){if(1&Me&&(w.TgZ(0,"div"),w._UZ(1,"div",9),w.qZA()),2&Me){const fe=w.oxw();w.xp6(1),w.Udp("width",fe.width+"%")}}class Le{constructor(rt,fe,Te,st,yt,wn){this.toastId=rt,this.config=fe,this.message=Te,this.title=st,this.toastType=yt,this.toastRef=wn,this._onTap=new te.x,this._onAction=new te.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(rt){this._onAction.next(rt)}onAction(){return this._onAction.asObservable()}}const me={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},_e=new w.OlP("ToastConfig");class Je{constructor(rt,fe){this.component=rt,this.injector=fe}attach(rt,fe){return this._attachedHost=rt,rt.attach(this,fe)}detach(){const rt=this._attachedHost;if(rt)return this._attachedHost=void 0,rt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(rt){this._attachedHost=rt}}class we extends class Ze{attach(rt,fe){return this._attachedPortal=rt,this.attachComponentPortal(rt,fe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(rt){this._disposeFn=rt}}{constructor(rt,fe,Te){super(),this._hostDomElement=rt,this._componentFactoryResolver=fe,this._appRef=Te}attachComponentPortal(rt,fe){const Te=this._componentFactoryResolver.resolveComponentFactory(rt.component);let st;return st=Te.create(rt.injector),this._appRef.attachView(st.hostView),this.setDisposeFn(()=>{this._appRef.detachView(st.hostView),st.destroy()}),fe?this._hostDomElement.insertBefore(this._getComponentRootNode(st),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(st)),st}_getComponentRootNode(rt){return rt.hostView.rootNodes[0]}}let Ke=(()=>{class Me{constructor(fe){this._document=fe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const fe=this._document.createElement("div");fe.classList.add("overlay-container"),this._document.body.appendChild(fe),this._containerElement=fe}}return Me.\u0275fac=function(fe){return new(fe||Me)(w.LFG(W.K0))},Me.\u0275prov=(0,w.Yz7)({factory:function(){return new Me((0,w.LFG)(W.K0))},token:Me,providedIn:"root"}),Me})();class ie{constructor(rt){this._portalHost=rt}attach(rt,fe=!0){return this._portalHost.attach(rt,fe)}detach(){return this._portalHost.detach()}}let Y=(()=>{class Me{constructor(fe,Te,st,yt){this._overlayContainer=fe,this._componentFactoryResolver=Te,this._appRef=st,this._document=yt,this._paneElements=new Map}create(fe,Te){return this._createOverlayRef(this.getPaneElement(fe,Te))}getPaneElement(fe="",Te){return this._paneElements.get(Te)||this._paneElements.set(Te,{}),this._paneElements.get(Te)[fe]||(this._paneElements.get(Te)[fe]=this._createPaneElement(fe,Te)),this._paneElements.get(Te)[fe]}_createPaneElement(fe,Te){const st=this._document.createElement("div");return st.id="toast-container",st.classList.add(fe),st.classList.add("toast-container"),Te?Te.getContainerElement().appendChild(st):this._overlayContainer.getContainerElement().appendChild(st),st}_createPortalHost(fe){return new we(fe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(fe){return new ie(this._createPortalHost(fe))}}return Me.\u0275fac=function(fe){return new(fe||Me)(w.LFG(Ke),w.LFG(w._Vd),w.LFG(w.z2F),w.LFG(W.K0))},Me.\u0275prov=(0,w.Yz7)({factory:function(){return new Me((0,w.LFG)(Ke),(0,w.LFG)(w._Vd),(0,w.LFG)(w.z2F),(0,w.LFG)(W.K0))},token:Me,providedIn:"root"}),Me})();class ae{constructor(rt){this._overlayRef=rt,this.duplicatesCount=0,this._afterClosed=new te.x,this._activate=new te.x,this._manualClose=new te.x,this._resetTimeout=new te.x,this._countDuplicate=new te.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(rt,fe){rt&&this._resetTimeout.next(),fe&&this._countDuplicate.next(++this.duplicatesCount)}}class ce{constructor(rt,fe){this._toastPackage=rt,this._parentInjector=fe}get(rt,fe,Te){return rt===Le?this._toastPackage:this._parentInjector.get(rt,fe,Te)}}let Fe=(()=>{class Me{constructor(fe,Te,st,yt,wn){this.overlay=Te,this._injector=st,this.sanitizer=yt,this.ngZone=wn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},fe.default),fe.config),fe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},fe.default.iconClasses),fe.config.iconClasses))}show(fe,Te,st={},yt=""){return this._preBuildNotification(yt,fe,Te,this.applyConfig(st))}success(fe,Te,st={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",fe,Te,this.applyConfig(st))}error(fe,Te,st={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",fe,Te,this.applyConfig(st))}info(fe,Te,st={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",fe,Te,this.applyConfig(st))}warning(fe,Te,st={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",fe,Te,this.applyConfig(st))}clear(fe){for(const Te of this.toasts)if(void 0!==fe){if(Te.toastId===fe)return void Te.toastRef.manualClose()}else Te.toastRef.manualClose()}remove(fe){const Te=this._findToast(fe);if(!Te||(Te.activeToast.toastRef.close(),this.toasts.splice(Te.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const st=this.toasts[this.currentlyActive].toastRef;st.isInactive()||(this.currentlyActive=this.currentlyActive+1,st.activate())}return!0}findDuplicate(fe="",Te="",st,yt){const{includeTitleDuplicates:wn}=this.toastrConfig;for(const Tn of this.toasts){const Ur=wn&&Tn.title===fe;if((!wn||Ur)&&Tn.message===Te)return Tn.toastRef.onDuplicate(st,yt),Tn}return null}applyConfig(fe={}){return Object.assign(Object.assign({},this.toastrConfig),fe)}_findToast(fe){for(let Te=0;Te<this.toasts.length;Te++)if(this.toasts[Te].toastId===fe)return{index:Te,activeToast:this.toasts[Te]};return null}_preBuildNotification(fe,Te,st,yt){return yt.onActivateTick?this.ngZone.run(()=>this._buildNotification(fe,Te,st,yt)):this._buildNotification(fe,Te,st,yt)}_buildNotification(fe,Te,st,yt){if(!yt.toastComponent)throw new Error("toastComponent required");const wn=this.findDuplicate(st,Te,this.toastrConfig.resetTimeoutOnDuplicate&&yt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&st||Te)&&this.toastrConfig.preventDuplicates&&null!==wn)return wn;this.previousToastMessage=Te;let Tn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Ur=this.overlay.create(yt.positionClass,this.overlayContainer);this.index=this.index+1;let On=Te;Te&&yt.enableHtml&&(On=this.sanitizer.sanitize(w.q3G.HTML,Te));const Gr=new ae(Ur),Hn=new Le(this.index,yt,On,st,fe,Gr),Mr=new ce(Hn,this._injector),Mi=new Je(yt.toastComponent,Mr),ft=Ur.attach(Mi,this.toastrConfig.newestOnTop);Gr.componentInstance=ft.instance;const qn={toastId:this.index,title:st||"",message:Te||"",toastRef:Gr,onShown:Gr.afterActivate(),onHidden:Gr.afterClosed(),onTap:Hn.onTap(),onAction:Hn.onAction(),portal:ft};return Tn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{qn.toastRef.activate()})),this.toasts.push(qn),qn}}return Me.\u0275fac=function(fe){return new(fe||Me)(w.LFG(_e),w.LFG(Y),w.LFG(w.zs3),w.LFG(ve.H7),w.LFG(w.R0b))},Me.\u0275prov=(0,w.Yz7)({factory:function(){return new Me((0,w.LFG)(_e),(0,w.LFG)(Y),(0,w.LFG)(w.gxx),(0,w.LFG)(ve.H7),(0,w.LFG)(w.R0b))},token:Me,providedIn:"root"}),Me})(),Ne=(()=>{class Me{constructor(fe,Te,st){this.toastrService=fe,this.toastPackage=Te,this.ngZone=st,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Te.message,this.title=Te.title,this.options=Te.config,this.originalTimeout=Te.config.timeOut,this.toastClasses=`${Te.toastType} ${Te.config.toastClass}`,this.sub=Te.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Te.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Te.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Te.toastRef.countDuplicate().subscribe(yt=>{this.duplicatesCount=yt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const fe=(new Date).getTime();this.width=(this.hideTime-fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(fe,Te){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(fe),Te)):this.timeout=setTimeout(()=>fe(),Te)}outsideInterval(fe,Te){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(fe),Te)):this.intervalId=setInterval(()=>fe(),Te)}runInsideAngular(fe){this.ngZone?this.ngZone.run(()=>fe()):fe()}}return Me.\u0275fac=function(fe){return new(fe||Me)(w.Y36(Fe),w.Y36(Le),w.Y36(w.R0b))},Me.\u0275cmp=w.Xpm({type:Me,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(fe,Te){1&fe&&w.NdJ("click",function(){return Te.tapToast()})("mouseenter",function(){return Te.stickAround()})("mouseleave",function(){return Te.delayedHideToast()}),2&fe&&(w.d8E("@flyInOut",Te.state),w.Tol(Te.toastClasses),w.Udp("display",Te.displayStyle))},attrs:Ce,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(fe,Te){1&fe&&(w.YNc(0,$e,3,0,"button",0),w.YNc(1,qe,3,5,"div",1),w.YNc(2,oe,1,3,"div",2),w.YNc(3,ue,2,4,"div",3),w.YNc(4,Pe,2,2,"div",4)),2&fe&&(w.Q6J("ngIf",Te.options.closeButton),w.xp6(1),w.Q6J("ngIf",Te.title),w.xp6(1),w.Q6J("ngIf",Te.message&&Te.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Te.message&&!Te.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Te.options.progressBar))},dependencies:[W.O5],encapsulation:2,data:{animation:[(0,L.X$)("flyInOut",[(0,L.SB)("inactive",(0,L.oB)({opacity:0})),(0,L.SB)("active",(0,L.oB)({opacity:1})),(0,L.SB)("removed",(0,L.oB)({opacity:0})),(0,L.eR)("inactive => active",(0,L.jt)("{{ easeTime }}ms {{ easing }}")),(0,L.eR)("active => removed",(0,L.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Me})();const bt=Object.assign(Object.assign({},me),{toastComponent:Ne});let Xt=(()=>{class Me{static forRoot(fe={}){return{ngModule:Me,providers:[{provide:_e,useValue:{default:bt,config:fe}}]}}}return Me.\u0275fac=function(fe){return new(fe||Me)},Me.\u0275mod=w.oAB({type:Me}),Me.\u0275inj=w.cJS({imports:[W.ez]}),Me})(),Vt=(()=>{class Me{constructor(fe,Te,st){this.toastrService=fe,this.toastPackage=Te,this.appRef=st,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Te.message,this.title=Te.title,this.options=Te.config,this.originalTimeout=Te.config.timeOut,this.toastClasses=`${Te.toastType} ${Te.config.toastClass}`,this.sub=Te.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Te.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Te.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Te.toastRef.countDuplicate().subscribe(yt=>{this.duplicatesCount=yt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const fe=(new Date).getTime();this.width=(this.hideTime-fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return Me.\u0275fac=function(fe){return new(fe||Me)(w.Y36(Fe),w.Y36(Le),w.Y36(w.z2F))},Me.\u0275cmp=w.Xpm({type:Me,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(fe,Te){1&fe&&w.NdJ("click",function(){return Te.tapToast()})("mouseenter",function(){return Te.stickAround()})("mouseleave",function(){return Te.delayedHideToast()}),2&fe&&(w.Tol(Te.toastClasses),w.Udp("display",Te.displayStyle))},attrs:Ce,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(fe,Te){1&fe&&(w.YNc(0,nt,3,0,"button",0),w.YNc(1,_t,3,5,"div",1),w.YNc(2,Ct,1,3,"div",2),w.YNc(3,kt,2,4,"div",3),w.YNc(4,Mt,2,2,"div",4)),2&fe&&(w.Q6J("ngIf",Te.options.closeButton),w.xp6(1),w.Q6J("ngIf",Te.title),w.xp6(1),w.Q6J("ngIf",Te.message&&Te.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Te.message&&!Te.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Te.options.progressBar))},dependencies:[W.O5],encapsulation:2}),Me})();Object.assign(Object.assign({},me),{toastComponent:Vt})},1135:(Bt,We,H)=>{H.d(We,{X:()=>L});var w=H(7579);class L extends w.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const W=super._subscribe(ve);return!W.closed&&ve.next(this._value),W}getValue(){const{hasError:ve,thrownError:W,_value:Ce}=this;if(ve)throw W;return this._throwIfClosed(),Ce}next(ve){super.next(this._value=ve)}}},9751:(Bt,We,H)=>{H.d(We,{y:()=>Be});var w=H(930),L=H(727),te=H(8822),ve=H(9635),W=H(2416),Ce=H(576),$e=H(2806);let Be=(()=>{class Pe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const _t=new Pe;return _t.source=this,_t.operator=Ue,_t}subscribe(Ue,_t,Ct){const kt=function ue(Pe){return Pe&&Pe instanceof w.Lv||function oe(Pe){return Pe&&(0,Ce.m)(Pe.next)&&(0,Ce.m)(Pe.error)&&(0,Ce.m)(Pe.complete)}(Pe)&&(0,L.Nn)(Pe)}(Ue)?Ue:new w.Hp(Ue,_t,Ct);return(0,$e.x)(()=>{const{operator:Mt,source:on}=this;kt.add(Mt?Mt.call(kt,on):on?this._subscribe(kt):this._trySubscribe(kt))}),kt}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(_t){Ue.error(_t)}}forEach(Ue,_t){return new(_t=qe(_t))((Ct,kt)=>{const Mt=new w.Hp({next:on=>{try{Ue(on)}catch(dt){kt(dt),Mt.unsubscribe()}},error:kt,complete:Ct});this.subscribe(Mt)})}_subscribe(Ue){var _t;return null===(_t=this.source)||void 0===_t?void 0:_t.subscribe(Ue)}[te.L](){return this}pipe(...Ue){return(0,ve.U)(Ue)(this)}toPromise(Ue){return new(Ue=qe(Ue))((_t,Ct)=>{let kt;this.subscribe(Mt=>kt=Mt,Mt=>Ct(Mt),()=>_t(kt))})}}return Pe.create=nt=>new Pe(nt),Pe})();function qe(Pe){var nt;return null!==(nt=Pe??W.v.Promise)&&void 0!==nt?nt:Promise}},7579:(Bt,We,H)=>{H.d(We,{x:()=>$e});var w=H(9751),L=H(727);const ve=(0,H(3888).d)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=H(8737),Ce=H(2806);let $e=(()=>{class qe extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Pe=new Be(this,this);return Pe.operator=ue,Pe}_throwIfClosed(){if(this.closed)throw new ve}next(ue){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(ue)}})}error(ue){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(ue)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Pe,isStopped:nt,observers:Ue}=this;return Pe||nt?L.Lc:(this.currentObservers=null,Ue.push(ue),new L.w0(()=>{this.currentObservers=null,(0,W.P)(Ue,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Pe,thrownError:nt,isStopped:Ue}=this;Pe?ue.error(nt):Ue&&ue.complete()}asObservable(){const ue=new w.y;return ue.source=this,ue}}return qe.create=(oe,ue)=>new Be(oe,ue),qe})();class Be extends $e{constructor(oe,ue){super(),this.destination=oe,this.source=ue}next(oe){var ue,Pe;null===(Pe=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Pe||Pe.call(ue,oe)}error(oe){var ue,Pe;null===(Pe=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Pe||Pe.call(ue,oe)}complete(){var oe,ue;null===(ue=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===ue||ue.call(oe)}_subscribe(oe){var ue,Pe;return null!==(Pe=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(oe))&&void 0!==Pe?Pe:L.Lc}}},930:(Bt,We,H)=>{H.d(We,{Hp:()=>Ct,Lv:()=>Pe});var w=H(576),L=H(727),te=H(2416),ve=H(7849),W=H(5032);const Ce=qe("C",void 0,void 0);function qe(Le,me,_e){return{kind:Le,value:me,error:_e}}var oe=H(3410),ue=H(2806);class Pe extends L.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,L.Nn)(me)&&me.add(this)):this.destination=dt}static create(me,_e,Je){return new Ct(me,_e,Je)}next(me){this.isStopped?on(function Be(Le){return qe("N",Le,void 0)}(me),this):this._next(me)}error(me){this.isStopped?on(function $e(Le){return qe("E",void 0,Le)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?on(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Ue(Le,me){return nt.call(Le,me)}class _t{constructor(me){this.partialObserver=me}next(me){const{partialObserver:_e}=this;if(_e.next)try{_e.next(me)}catch(Je){kt(Je)}}error(me){const{partialObserver:_e}=this;if(_e.error)try{_e.error(me)}catch(Je){kt(Je)}else kt(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(_e){kt(_e)}}}class Ct extends Pe{constructor(me,_e,Je){let Ze;if(super(),(0,w.m)(me)||!me)Ze={next:me??void 0,error:_e??void 0,complete:Je??void 0};else{let we;this&&te.v.useDeprecatedNextContext?(we=Object.create(me),we.unsubscribe=()=>this.unsubscribe(),Ze={next:me.next&&Ue(me.next,we),error:me.error&&Ue(me.error,we),complete:me.complete&&Ue(me.complete,we)}):Ze=me}this.destination=new _t(Ze)}}function kt(Le){te.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(Le):(0,ve.h)(Le)}function on(Le,me){const{onStoppedNotification:_e}=te.v;_e&&oe.z.setTimeout(()=>_e(Le,me))}const dt={closed:!0,next:W.Z,error:function Mt(Le){throw Le},complete:W.Z}},727:(Bt,We,H)=>{H.d(We,{Lc:()=>Ce,w0:()=>W,Nn:()=>$e});var w=H(576);const te=(0,H(3888).d)(qe=>function(ue){qe(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Pe,nt)=>`${nt+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ve=H(8737);class W{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ue of ue)Ue.remove(this);else ue.remove(this);const{initialTeardown:Pe}=this;if((0,w.m)(Pe))try{Pe()}catch(Ue){oe=Ue instanceof te?Ue.errors:[Ue]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const Ue of nt)try{Be(Ue)}catch(_t){oe=oe??[],_t instanceof te?oe=[...oe,..._t.errors]:oe.push(_t)}}if(oe)throw new te(oe)}}add(oe){var ue;if(oe&&oe!==this)if(this.closed)Be(oe);else{if(oe instanceof W){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(oe)}}_hasParent(oe){const{_parentage:ue}=this;return ue===oe||Array.isArray(ue)&&ue.includes(oe)}_addParent(oe){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(oe),ue):ue?[ue,oe]:oe}_removeParent(oe){const{_parentage:ue}=this;ue===oe?this._parentage=null:Array.isArray(ue)&&(0,ve.P)(ue,oe)}remove(oe){const{_finalizers:ue}=this;ue&&(0,ve.P)(ue,oe),oe instanceof W&&oe._removeParent(this)}}W.EMPTY=(()=>{const qe=new W;return qe.closed=!0,qe})();const Ce=W.EMPTY;function $e(qe){return qe instanceof W||qe&&"closed"in qe&&(0,w.m)(qe.remove)&&(0,w.m)(qe.add)&&(0,w.m)(qe.unsubscribe)}function Be(qe){(0,w.m)(qe)?qe():qe.unsubscribe()}},2416:(Bt,We,H)=>{H.d(We,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Bt,We,H)=>{H.d(We,{E:()=>L});const L=new(H(9751).y)(W=>W.complete())},8996:(Bt,We,H)=>{H.d(We,{D:()=>me});var w=H(8421),L=H(5363),te=H(9468),Ce=H(9751),Be=H(2202),qe=H(576),oe=H(9672);function Pe(_e,Je){if(!_e)throw new Error("Iterable cannot be null");return new Ce.y(Ze=>{(0,oe.f)(Ze,Je,()=>{const we=_e[Symbol.asyncIterator]();(0,oe.f)(Ze,Je,()=>{we.next().then(Ke=>{Ke.done?Ze.complete():Ze.next(Ke.value)})},0,!0)})})}var nt=H(3670),Ue=H(8239),_t=H(1144),Ct=H(6495),kt=H(2206),Mt=H(4532),on=H(3260);function me(_e,Je){return Je?function Le(_e,Je){if(null!=_e){if((0,nt.c)(_e))return function ve(_e,Je){return(0,w.Xf)(_e).pipe((0,te.R)(Je),(0,L.Q)(Je))}(_e,Je);if((0,_t.z)(_e))return function $e(_e,Je){return new Ce.y(Ze=>{let we=0;return Je.schedule(function(){we===_e.length?Ze.complete():(Ze.next(_e[we++]),Ze.closed||this.schedule())})})}(_e,Je);if((0,Ue.t)(_e))return function W(_e,Je){return(0,w.Xf)(_e).pipe((0,te.R)(Je),(0,L.Q)(Je))}(_e,Je);if((0,kt.D)(_e))return Pe(_e,Je);if((0,Ct.T)(_e))return function ue(_e,Je){return new Ce.y(Ze=>{let we;return(0,oe.f)(Ze,Je,()=>{we=_e[Be.h](),(0,oe.f)(Ze,Je,()=>{let Ke,ie;try{({value:Ke,done:ie}=we.next())}catch(Y){return void Ze.error(Y)}ie?Ze.complete():Ze.next(Ke)},0,!0)}),()=>(0,qe.m)(we?.return)&&we.return()})}(_e,Je);if((0,on.L)(_e))return function dt(_e,Je){return Pe((0,on.Q)(_e),Je)}(_e,Je)}throw(0,Mt.z)(_e)}(_e,Je):(0,w.Xf)(_e)}},8421:(Bt,We,H)=>{H.d(We,{Xf:()=>nt});var w=H(655),L=H(1144),te=H(8239),ve=H(9751),W=H(3670),Ce=H(2206),$e=H(4532),Be=H(6495),qe=H(3260),oe=H(576),ue=H(7849),Pe=H(8822);function nt(Le){if(Le instanceof ve.y)return Le;if(null!=Le){if((0,W.c)(Le))return function Ue(Le){return new ve.y(me=>{const _e=Le[Pe.L]();if((0,oe.m)(_e.subscribe))return _e.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,L.z)(Le))return function _t(Le){return new ve.y(me=>{for(let _e=0;_e<Le.length&&!me.closed;_e++)me.next(Le[_e]);me.complete()})}(Le);if((0,te.t)(Le))return function Ct(Le){return new ve.y(me=>{Le.then(_e=>{me.closed||(me.next(_e),me.complete())},_e=>me.error(_e)).then(null,ue.h)})}(Le);if((0,Ce.D)(Le))return Mt(Le);if((0,Be.T)(Le))return function kt(Le){return new ve.y(me=>{for(const _e of Le)if(me.next(_e),me.closed)return;me.complete()})}(Le);if((0,qe.L)(Le))return function on(Le){return Mt((0,qe.Q)(Le))}(Le)}throw(0,$e.z)(Le)}function Mt(Le){return new ve.y(me=>{(function dt(Le,me){var _e,Je,Ze,we;return(0,w.mG)(this,void 0,void 0,function*(){try{for(_e=(0,w.KL)(Le);!(Je=yield _e.next()).done;)if(me.next(Je.value),me.closed)return}catch(Ke){Ze={error:Ke}}finally{try{Je&&!Je.done&&(we=_e.return)&&(yield we.call(_e))}finally{if(Ze)throw Ze.error}}me.complete()})})(Le,me).catch(_e=>me.error(_e))})}},9646:(Bt,We,H)=>{H.d(We,{of:()=>te});var w=H(7669),L=H(8996);function te(...ve){const W=(0,w.yG)(ve);return(0,L.D)(ve,W)}},5403:(Bt,We,H)=>{H.d(We,{x:()=>L});var w=H(930);function L(ve,W,Ce,$e,Be){return new te(ve,W,Ce,$e,Be)}class te extends w.Lv{constructor(W,Ce,$e,Be,qe,oe){super(W),this.onFinalize=qe,this.shouldUnsubscribe=oe,this._next=Ce?function(ue){try{Ce(ue)}catch(Pe){W.error(Pe)}}:super._next,this._error=Be?function(ue){try{Be(ue)}catch(Pe){W.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=$e?function(){try{$e()}catch(ue){W.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},4351:(Bt,We,H)=>{H.d(We,{b:()=>te});var w=H(5577),L=H(576);function te(ve,W){return(0,L.m)(W)?(0,w.z)(ve,W,1):(0,w.z)(ve,1)}},9300:(Bt,We,H)=>{H.d(We,{h:()=>te});var w=H(4482),L=H(5403);function te(ve,W){return(0,w.e)((Ce,$e)=>{let Be=0;Ce.subscribe((0,L.x)($e,qe=>ve.call(W,qe,Be++)&&$e.next(qe)))})}},4004:(Bt,We,H)=>{H.d(We,{U:()=>te});var w=H(4482),L=H(5403);function te(ve,W){return(0,w.e)((Ce,$e)=>{let Be=0;Ce.subscribe((0,L.x)($e,qe=>{$e.next(ve.call(W,qe,Be++))}))})}},8189:(Bt,We,H)=>{H.d(We,{J:()=>te});var w=H(5577),L=H(4671);function te(ve=1/0){return(0,w.z)(L.y,ve)}},5577:(Bt,We,H)=>{H.d(We,{z:()=>Be});var w=H(4004),L=H(8421),te=H(4482),ve=H(9672),W=H(5403),$e=H(576);function Be(qe,oe,ue=1/0){return(0,$e.m)(oe)?Be((Pe,nt)=>(0,w.U)((Ue,_t)=>oe(Pe,Ue,nt,_t))((0,L.Xf)(qe(Pe,nt))),ue):("number"==typeof oe&&(ue=oe),(0,te.e)((Pe,nt)=>function Ce(qe,oe,ue,Pe,nt,Ue,_t,Ct){const kt=[];let Mt=0,on=0,dt=!1;const Le=()=>{dt&&!kt.length&&!Mt&&oe.complete()},me=Je=>Mt<Pe?_e(Je):kt.push(Je),_e=Je=>{Ue&&oe.next(Je),Mt++;let Ze=!1;(0,L.Xf)(ue(Je,on++)).subscribe((0,W.x)(oe,we=>{nt?.(we),Ue?me(we):oe.next(we)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Mt--;kt.length&&Mt<Pe;){const we=kt.shift();_t?(0,ve.f)(oe,_t,()=>_e(we)):_e(we)}Le()}catch(we){oe.error(we)}}))};return qe.subscribe((0,W.x)(oe,me,()=>{dt=!0,Le()})),()=>{Ct?.()}}(Pe,nt,qe,ue)))}},5363:(Bt,We,H)=>{H.d(We,{Q:()=>ve});var w=H(9672),L=H(4482),te=H(5403);function ve(W,Ce=0){return(0,L.e)(($e,Be)=>{$e.subscribe((0,te.x)(Be,qe=>(0,w.f)(Be,W,()=>Be.next(qe),Ce),()=>(0,w.f)(Be,W,()=>Be.complete(),Ce),qe=>(0,w.f)(Be,W,()=>Be.error(qe),Ce)))})}},9468:(Bt,We,H)=>{H.d(We,{R:()=>L});var w=H(4482);function L(te,ve=0){return(0,w.e)((W,Ce)=>{Ce.add(te.schedule(()=>W.subscribe(Ce),ve))})}},8505:(Bt,We,H)=>{H.d(We,{b:()=>W});var w=H(576),L=H(4482),te=H(5403),ve=H(4671);function W(Ce,$e,Be){const qe=(0,w.m)(Ce)||$e||Be?{next:Ce,error:$e,complete:Be}:Ce;return qe?(0,L.e)((oe,ue)=>{var Pe;null===(Pe=qe.subscribe)||void 0===Pe||Pe.call(qe);let nt=!0;oe.subscribe((0,te.x)(ue,Ue=>{var _t;null===(_t=qe.next)||void 0===_t||_t.call(qe,Ue),ue.next(Ue)},()=>{var Ue;nt=!1,null===(Ue=qe.complete)||void 0===Ue||Ue.call(qe),ue.complete()},Ue=>{var _t;nt=!1,null===(_t=qe.error)||void 0===_t||_t.call(qe,Ue),ue.error(Ue)},()=>{var Ue,_t;nt&&(null===(Ue=qe.unsubscribe)||void 0===Ue||Ue.call(qe)),null===(_t=qe.finalize)||void 0===_t||_t.call(qe)}))}):ve.y}},3410:(Bt,We,H)=>{H.d(We,{z:()=>w});const w={setTimeout(L,te,...ve){const{delegate:W}=w;return W?.setTimeout?W.setTimeout(L,te,...ve):setTimeout(L,te,...ve)},clearTimeout(L){const{delegate:te}=w;return(te?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(Bt,We,H)=>{H.d(We,{h:()=>L});const L=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Bt,We,H)=>{H.d(We,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Bt,We,H)=>{H.d(We,{_6:()=>Ce,jO:()=>ve,yG:()=>W});var w=H(576);function te($e){return $e[$e.length-1]}function ve($e){return(0,w.m)(te($e))?$e.pop():void 0}function W($e){return function L($e){return $e&&(0,w.m)($e.schedule)}(te($e))?$e.pop():void 0}function Ce($e,Be){return"number"==typeof te($e)?$e.pop():Be}},4742:(Bt,We,H)=>{H.d(We,{D:()=>W});const{isArray:w}=Array,{getPrototypeOf:L,prototype:te,keys:ve}=Object;function W($e){if(1===$e.length){const Be=$e[0];if(w(Be))return{args:Be,keys:null};if(function Ce($e){return $e&&"object"==typeof $e&&L($e)===te}(Be)){const qe=ve(Be);return{args:qe.map(oe=>Be[oe]),keys:qe}}}return{args:$e,keys:null}}},8737:(Bt,We,H)=>{function w(L,te){if(L){const ve=L.indexOf(te);0<=ve&&L.splice(ve,1)}}H.d(We,{P:()=>w})},3888:(Bt,We,H)=>{function w(L){const ve=L(W=>{Error.call(W),W.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}H.d(We,{d:()=>w})},1810:(Bt,We,H)=>{function w(L,te){return L.reduce((ve,W,Ce)=>(ve[W]=te[Ce],ve),{})}H.d(We,{n:()=>w})},2806:(Bt,We,H)=>{H.d(We,{O:()=>ve,x:()=>te});var w=H(2416);let L=null;function te(W){if(w.v.useDeprecatedSynchronousErrorHandling){const Ce=!L;if(Ce&&(L={errorThrown:!1,error:null}),W(),Ce){const{errorThrown:$e,error:Be}=L;if(L=null,$e)throw Be}}else W()}function ve(W){w.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=W)}},9672:(Bt,We,H)=>{function w(L,te,ve,W=0,Ce=!1){const $e=te.schedule(function(){ve(),Ce?L.add(this.schedule(null,W)):this.unsubscribe()},W);if(L.add($e),!Ce)return $e}H.d(We,{f:()=>w})},4671:(Bt,We,H)=>{function w(L){return L}H.d(We,{y:()=>w})},1144:(Bt,We,H)=>{H.d(We,{z:()=>w});const w=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(Bt,We,H)=>{H.d(We,{D:()=>L});var w=H(576);function L(te){return Symbol.asyncIterator&&(0,w.m)(te?.[Symbol.asyncIterator])}},576:(Bt,We,H)=>{function w(L){return"function"==typeof L}H.d(We,{m:()=>w})},3670:(Bt,We,H)=>{H.d(We,{c:()=>te});var w=H(8822),L=H(576);function te(ve){return(0,L.m)(ve[w.L])}},6495:(Bt,We,H)=>{H.d(We,{T:()=>te});var w=H(2202),L=H(576);function te(ve){return(0,L.m)(ve?.[w.h])}},8239:(Bt,We,H)=>{H.d(We,{t:()=>L});var w=H(576);function L(te){return(0,w.m)(te?.then)}},3260:(Bt,We,H)=>{H.d(We,{L:()=>ve,Q:()=>te});var w=H(655),L=H(576);function te(W){return(0,w.FC)(this,arguments,function*(){const $e=W.getReader();try{for(;;){const{value:Be,done:qe}=yield(0,w.qq)($e.read());if(qe)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(Be)}}finally{$e.releaseLock()}})}function ve(W){return(0,L.m)(W?.getReader)}},4482:(Bt,We,H)=>{H.d(We,{A:()=>L,e:()=>te});var w=H(576);function L(ve){return(0,w.m)(ve?.lift)}function te(ve){return W=>{if(L(W))return W.lift(function(Ce){try{return ve(Ce,this)}catch($e){this.error($e)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Bt,We,H)=>{H.d(We,{Z:()=>ve});var w=H(4004);const{isArray:L}=Array;function ve(W){return(0,w.U)(Ce=>function te(W,Ce){return L(Ce)?W(...Ce):W(Ce)}(W,Ce))}},5032:(Bt,We,H)=>{function w(){}H.d(We,{Z:()=>w})},9635:(Bt,We,H)=>{H.d(We,{U:()=>te,z:()=>L});var w=H(4671);function L(...ve){return te(ve)}function te(ve){return 0===ve.length?w.y:1===ve.length?ve[0]:function(Ce){return ve.reduce(($e,Be)=>Be($e),Ce)}}},7849:(Bt,We,H)=>{H.d(We,{h:()=>te});var w=H(2416),L=H(3410);function te(ve){L.z.setTimeout(()=>{const{onUnhandledError:W}=w.v;if(!W)throw ve;W(ve)})}},4532:(Bt,We,H)=>{function w(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(We,{z:()=>w})},655:(Bt,We,H)=>{function ve(ie,Y){var ae={};for(var ce in ie)Object.prototype.hasOwnProperty.call(ie,ce)&&Y.indexOf(ce)<0&&(ae[ce]=ie[ce]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ce=Object.getOwnPropertySymbols(ie);Fe<ce.length;Fe++)Y.indexOf(ce[Fe])<0&&Object.prototype.propertyIsEnumerable.call(ie,ce[Fe])&&(ae[ce[Fe]]=ie[ce[Fe]])}return ae}function Be(ie,Y,ae,ce){return new(ae||(ae=Promise))(function(Ne,bt){function Xt(yn){try{Vt(ce.next(yn))}catch(Qn){bt(Qn)}}function Un(yn){try{Vt(ce.throw(yn))}catch(Qn){bt(Qn)}}function Vt(yn){yn.done?Ne(yn.value):function Fe(Ne){return Ne instanceof ae?Ne:new ae(function(bt){bt(Ne)})}(yn.value).then(Xt,Un)}Vt((ce=ce.apply(ie,Y||[])).next())})}function kt(ie){return this instanceof kt?(this.v=ie,this):new kt(ie)}function Mt(ie,Y,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ce=ae.apply(ie,Y||[]),Ne=[];return Fe={},bt("next"),bt("throw"),bt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function bt(Me){ce[Me]&&(Fe[Me]=function(rt){return new Promise(function(fe,Te){Ne.push([Me,rt,fe,Te])>1||Xt(Me,rt)})})}function Xt(Me,rt){try{!function Un(Me){Me.value instanceof kt?Promise.resolve(Me.value.v).then(Vt,yn):Qn(Ne[0][2],Me)}(ce[Me](rt))}catch(fe){Qn(Ne[0][3],fe)}}function Vt(Me){Xt("next",Me)}function yn(Me){Xt("throw",Me)}function Qn(Me,rt){Me(rt),Ne.shift(),Ne.length&&Xt(Ne[0][0],Ne[0][1])}}function dt(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,Y=ie[Symbol.asyncIterator];return Y?Y.call(ie):(ie=function Pe(ie){var Y="function"==typeof Symbol&&Symbol.iterator,ae=Y&&ie[Y],ce=0;if(ae)return ae.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ce>=ie.length&&(ie=void 0),{value:ie&&ie[ce++],done:!ie}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ae={},ce("next"),ce("throw"),ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ce(Ne){ae[Ne]=ie[Ne]&&function(bt){return new Promise(function(Xt,Un){!function Fe(Ne,bt,Xt,Un){Promise.resolve(Un).then(function(Vt){Ne({value:Vt,done:Xt})},bt)}(Xt,Un,(bt=ie[Ne](bt)).done,bt.value)})}}}H.d(We,{FC:()=>Mt,KL:()=>dt,_T:()=>ve,mG:()=>Be,qq:()=>kt})},7340:(Bt,We,H)=>{H.d(We,{LC:()=>L,SB:()=>qe,X$:()=>ve,ZE:()=>on,ZN:()=>Mt,_j:()=>w,eR:()=>ue,jt:()=>W,k1:()=>dt,l3:()=>te,oB:()=>Be,vP:()=>$e});class w{}class L{}const te="*";function ve(Le,me){return{type:7,name:Le,definitions:me,options:{}}}function W(Le,me=null){return{type:4,styles:me,timings:Le}}function $e(Le,me=null){return{type:2,steps:Le,options:me}}function Be(Le){return{type:6,styles:Le,offset:null}}function qe(Le,me,_e){return{type:0,name:Le,styles:me,options:_e}}function ue(Le,me,_e=null){return{type:1,expr:Le,animation:me,options:_e}}function kt(Le){Promise.resolve().then(Le)}class Mt{constructor(me=0,_e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=me+_e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}onStart(me){this._originalOnStartFns.push(me),this._onStartFns.push(me)}onDone(me){this._originalOnDoneFns.push(me),this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(me=>me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(me){this._position=this.totalTime?me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(me){const _e="start"==me?this._onStartFns:this._onDoneFns;_e.forEach(Je=>Je()),_e.length=0}}class on{constructor(me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=me;let _e=0,Je=0,Ze=0;const we=this.players.length;0==we?kt(()=>this._onFinish()):this.players.forEach(Ke=>{Ke.onDone(()=>{++_e==we&&this._onFinish()}),Ke.onDestroy(()=>{++Je==we&&this._onDestroy()}),Ke.onStart(()=>{++Ze==we&&this._onStart()})}),this.totalTime=this.players.reduce((Ke,ie)=>Math.max(Ke,ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}init(){this.players.forEach(me=>me.init())}onStart(me){this._onStartFns.push(me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(me=>me()),this._onStartFns=[])}onDone(me){this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(me=>me.play())}pause(){this.players.forEach(me=>me.pause())}restart(){this.players.forEach(me=>me.restart())}finish(){this._onFinish(),this.players.forEach(me=>me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(me=>me.destroy()),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this.players.forEach(me=>me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(me){const _e=me*this.totalTime;this.players.forEach(Je=>{const Ze=Je.totalTime?Math.min(1,_e/Je.totalTime):1;Je.setPosition(Ze)})}getPosition(){const me=this.players.reduce((_e,Je)=>null===_e||Je.totalTime>_e.totalTime?Je:_e,null);return null!=me?me.getPosition():0}beforeDestroy(){this.players.forEach(me=>{me.beforeDestroy&&me.beforeDestroy()})}triggerCallback(me){const _e="start"==me?this._onStartFns:this._onDoneFns;_e.forEach(Je=>Je()),_e.length=0}}const dt="!"},6895:(Bt,We,H)=>{H.d(We,{Do:()=>dt,EM:()=>Va,HT:()=>W,JF:()=>oi,K0:()=>$e,Mx:()=>Co,O5:()=>Gn,S$:()=>kt,V_:()=>oe,Ye:()=>Le,b0:()=>on,bD:()=>ys,ez:()=>Ro,q:()=>te,sg:()=>si,w_:()=>Ce});var w=H(8256);let L=null;function te(){return L}function W(b){L||(L=b)}class Ce{}const $e=new w.OlP("DocumentToken");let Be=(()=>{class b{historyGo(A){throw new Error("Not implemented")}}return b.\u0275fac=function(A){return new(A||b)},b.\u0275prov=w.Yz7({token:b,factory:function(){return function qe(){return(0,w.LFG)(ue)}()},providedIn:"platform"}),b})();const oe=new w.OlP("Location Initialized");let ue=(()=>{class b extends Be{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(A){const B=te().getGlobalEventTarget(this._doc,"window");return B.addEventListener("popstate",A,!1),()=>B.removeEventListener("popstate",A)}onHashChange(A){const B=te().getGlobalEventTarget(this._doc,"window");return B.addEventListener("hashchange",A,!1),()=>B.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,B,se){Pe()?this._history.pushState(A,B,se):this.location.hash=se}replaceState(A,B,se){Pe()?this._history.replaceState(A,B,se):this.location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return b.\u0275fac=function(A){return new(A||b)(w.LFG($e))},b.\u0275prov=w.Yz7({token:b,factory:function(){return function nt(){return new ue((0,w.LFG)($e))}()},providedIn:"platform"}),b})();function Pe(){return!!window.history.pushState}function Ue(b,O){if(0==b.length)return O;if(0==O.length)return b;let A=0;return b.endsWith("/")&&A++,O.startsWith("/")&&A++,2==A?b+O.substring(1):1==A?b+O:b+"/"+O}function _t(b){const O=b.match(/#|\?|$/),A=O&&O.index||b.length;return b.slice(0,A-("/"===b[A-1]?1:0))+b.slice(A)}function Ct(b){return b&&"?"!==b[0]?"?"+b:b}let kt=(()=>{class b{historyGo(A){throw new Error("Not implemented")}}return b.\u0275fac=function(A){return new(A||b)},b.\u0275prov=w.Yz7({token:b,factory:function(){return(0,w.f3M)(on)},providedIn:"root"}),b})();const Mt=new w.OlP("appBaseHref");let on=(()=>{class b extends kt{constructor(A,B){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=B??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return Ue(this._baseHref,A)}path(A=!1){const B=this._platformLocation.pathname+Ct(this._platformLocation.search),se=this._platformLocation.hash;return se&&A?`${B}${se}`:B}pushState(A,B,se,Re){const ze=this.prepareExternalUrl(se+Ct(Re));this._platformLocation.pushState(A,B,ze)}replaceState(A,B,se,Re){const ze=this.prepareExternalUrl(se+Ct(Re));this._platformLocation.replaceState(A,B,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return b.\u0275fac=function(A){return new(A||b)(w.LFG(Be),w.LFG(Mt,8))},b.\u0275prov=w.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),dt=(()=>{class b extends kt{constructor(A,B){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=B&&(this._baseHref=B)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let B=this._platformLocation.hash;return null==B&&(B="#"),B.length>0?B.substring(1):B}prepareExternalUrl(A){const B=Ue(this._baseHref,A);return B.length>0?"#"+B:B}pushState(A,B,se,Re){let ze=this.prepareExternalUrl(se+Ct(Re));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.pushState(A,B,ze)}replaceState(A,B,se,Re){let ze=this.prepareExternalUrl(se+Ct(Re));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.replaceState(A,B,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return b.\u0275fac=function(A){return new(A||b)(w.LFG(Be),w.LFG(Mt,8))},b.\u0275prov=w.Yz7({token:b,factory:b.\u0275fac}),b})(),Le=(()=>{class b{constructor(A){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const B=this._locationStrategy.getBaseHref();this._baseHref=_t(Je(B)),this._locationStrategy.onPopState(se=>{this._subject.emit({url:this.path(!0),pop:!0,state:se.state,type:se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,B=""){return this.path()==this.normalize(A+Ct(B))}normalize(A){return b.stripTrailingSlash(function _e(b,O){return b&&O.startsWith(b)?O.substring(b.length):O}(this._baseHref,Je(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,B="",se=null){this._locationStrategy.pushState(se,"",A,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ct(B)),se)}replaceState(A,B="",se=null){this._locationStrategy.replaceState(se,"",A,B),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ct(B)),se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(B=>{this._notifyUrlChangeListeners(B.url,B.state)})),()=>{const B=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(B,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",B){this._urlChangeListeners.forEach(se=>se(A,B))}subscribe(A,B,se){return this._subject.subscribe({next:A,error:B,complete:se})}}return b.normalizeQueryParams=Ct,b.joinWithSlash=Ue,b.stripTrailingSlash=_t,b.\u0275fac=function(A){return new(A||b)(w.LFG(kt))},b.\u0275prov=w.Yz7({token:b,factory:function(){return function me(){return new Le((0,w.LFG)(kt))}()},providedIn:"root"}),b})();function Je(b){return b.replace(/\/index.html$/,"")}function Co(b,O){O=encodeURIComponent(O);for(const A of b.split(";")){const B=A.indexOf("="),[se,Re]=-1==B?[A,""]:[A.slice(0,B),A.slice(B+1)];if(se.trim()===O)return decodeURIComponent(Re)}return null}class ji{constructor(O,A,B,se){this.$implicit=O,this.ngForOf=A,this.index=B,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let si=(()=>{class b{constructor(A,B,se){this._viewContainer=A,this._template=B,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const B=this._viewContainer;A.forEachOperation((se,Re,ze)=>{if(null==se.previousIndex)B.createEmbeddedView(this._template,new ji(se.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)B.remove(null===Re?void 0:Re);else if(null!==Re){const pt=B.get(Re);B.move(pt,ze),wi(pt,se)}});for(let se=0,Re=B.length;se<Re;se++){const pt=B.get(se).context;pt.index=se,pt.count=Re,pt.ngForOf=this._ngForOf}A.forEachIdentityChange(se=>{wi(B.get(se.currentIndex),se)})}static ngTemplateContextGuard(A,B){return!0}}return b.\u0275fac=function(A){return new(A||b)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},b.\u0275dir=w.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function wi(b,O){b.context.$implicit=O.item}let Gn=(()=>{class b{constructor(A,B){this._viewContainer=A,this._context=new Ho,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=B}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){fs("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){fs("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,B){return!0}}return b.\u0275fac=function(A){return new(A||b)(w.Y36(w.s_b),w.Y36(w.Rgc))},b.\u0275dir=w.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class Ho{constructor(){this.$implicit=null,this.ngIf=null}}function fs(b,O){if(O&&!O.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,w.AaK)(O)}'.`)}let Ro=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275mod=w.oAB({type:b}),b.\u0275inj=w.cJS({}),b})();const ys="browser";let Va=(()=>{class b{}return b.\u0275prov=(0,w.Yz7)({token:b,providedIn:"root",factory:()=>new Ii((0,w.LFG)($e),window)}),b})();class Ii{constructor(O,A){this.document=O,this.window=A,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const A=function Ps(b,O){const A=b.getElementById(O)||b.getElementsByName(O)[0];if(A)return A;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const B=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let se=B.currentNode;for(;se;){const Re=se.shadowRoot;if(Re){const ze=Re.getElementById(O)||Re.querySelector(`[name="${O}"]`);if(ze)return ze}se=B.nextNode()}}return null}(this.document,O);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=O)}}scrollToElement(O){const A=O.getBoundingClientRect(),B=A.left+this.window.pageXOffset,se=A.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(B-Re[0],se-Re[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=Ti(this.window.history)||Ti(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ti(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class oi{}},8256:(Bt,We,H)=>{H.d(We,{QbO:()=>xu,tb:()=>zp,AFp:()=>cc,ip1:()=>hd,CZH:()=>fd,hGG:()=>a0,z2F:()=>md,sBO:()=>gv,Sil:()=>rv,_Vd:()=>Od,EJc:()=>eD,Xts:()=>vf,SBq:()=>Fd,lqb:()=>kl,qLn:()=>Cc,vpe:()=>$o,gxx:()=>_f,XFs:()=>lt,OlP:()=>_n,zs3:()=>Jr,ZZ4:()=>qh,aQg:()=>Cv,soG:()=>pd,YKP:()=>Qw,h0i:()=>Jl,PXZ:()=>oD,R0b:()=>bo,FiY:()=>Nt,Lbi:()=>CE,g9A:()=>Gp,Qsj:()=>Cs,FYo:()=>Ld,JOm:()=>Ia,q3G:()=>bi,tp0:()=>Jt,Rgc:()=>od,dDg:()=>av,eoX:()=>fc,q4F:()=>If,GfV:()=>Gg,s_b:()=>Vh,ifc:()=>ri,MMx:()=>Nh,Lck:()=>Jw,eFA:()=>hv,G48:()=>jE,Gpc:()=>on,f3M:()=>C,_c5:()=>o0,c2e:()=>AE,zSh:()=>__,wAp:()=>pn,vHH:()=>_e,lri:()=>hc,rWj:()=>Ru,EiD:()=>f_,mCW:()=>_c,qzn:()=>vc,JVY:()=>sI,pB0:()=>o_,eBb:()=>s_,L6k:()=>oI,LAX:()=>xg,D6c:()=>rg,cg1:()=>dl,kL8:()=>oy,dqk:()=>Wt,Z0I:()=>Mi,sIi:()=>hh,CqO:()=>hw,QGY:()=>Um,QP$:()=>Ut,F4k:()=>Eo,RDi:()=>t_,AaK:()=>Ct,z3N:()=>za,qOj:()=>ot,TTD:()=>ki,_Bn:()=>Zw,jDz:()=>Tp,xp6:()=>Mf,uIk:()=>nl,Tol:()=>rp,ekj:()=>zn,Suo:()=>Uy,Xpm:()=>je,lG2:()=>pe,Yz7:()=>On,cJS:()=>Hn,oAB:()=>In,Yjl:()=>re,Y36:()=>yu,_UZ:()=>Za,BQk:()=>mh,ynx:()=>Qa,qZA:()=>sl,TgZ:()=>Zf,EpF:()=>dw,n5z:()=>ct,LFG:()=>Qr,$8M:()=>It,$Z:()=>sm,NdJ:()=>Tu,CRH:()=>pE,oxw:()=>$m,ALo:()=>Sy,lcZ:()=>My,Hsn:()=>fw,F$t:()=>Ui,Q6J:()=>xe,iGM:()=>ld,KtG:()=>ho,evT:()=>I_,CHM:()=>es,oJD:()=>p_,LSH:()=>Fg,kYT:()=>_r,Udp:()=>np,d8E:()=>fp,YNc:()=>cw,_uU:()=>br,Oqu:()=>op,hij:()=>Cu,Gf:()=>Ly});var w=H(7579),L=H(727),te=H(9751),ve=H(8189),W=H(8421),Ce=H(515),$e=H(7669),Be=H(8996),oe=H(930),ue=H(4482);function nt(r,s,...o){if(!0===s)return void r();if(!1===s)return;const u=new oe.Hp({next:()=>{u.unsubscribe(),r()}});return s(...o).subscribe(u)}function Ue(r){for(let s in r)if(r[s]===Ue)return s;throw Error("Could not find renamed property on target object.")}function _t(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function Ct(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ct).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function kt(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Mt=Ue({__forward_ref__:Ue});function on(r){return r.__forward_ref__=on,r.toString=function(){return Ct(this())},r}function dt(r){return Le(r)?r():r}function Le(r){return"function"==typeof r&&r.hasOwnProperty(Mt)&&r.__forward_ref__===on}class _e extends Error{constructor(s,o){super(function Je(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}(s,o)),this.code=s}}function Ze(r){return"string"==typeof r?r:null==r?"":String(r)}function ae(r,s){throw new _e(-201,!1)}function st(r,s){null==r&&function yt(r,s,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,r,null,"!=")}function On(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Hn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Mr(r){return ft(r,hi)||ft(r,rr)}function Mi(r){return null!==Mr(r)}function ft(r,s){return r.hasOwnProperty(s)?r[s]:null}function zr(r){return r&&(r.hasOwnProperty(_i)||r.hasOwnProperty(ni))?r[_i]:null}const hi=Ue({\u0275prov:Ue}),_i=Ue({\u0275inj:Ue}),rr=Ue({ngInjectableDef:Ue}),ni=Ue({ngInjectorDef:Ue});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Lt;function En(r){const s=Lt;return Lt=r,s}function vr(r,s,o){const u=Mr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&lt.Optional?null:void 0!==s?s:void ae(Ct(r))}function Pr(r){return{toString:r}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),ri=(()=>{return(r=ri||(ri={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ri;var r})();const Wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Et={},Se=[],vt=Ue({\u0275cmp:Ue}),ht=Ue({\u0275dir:Ue}),ln=Ue({\u0275pipe:Ue}),dn=Ue({\u0275mod:Ue}),ne=Ue({\u0275fac:Ue}),J=Ue({__NG_ELEMENT_ID__:Ue});let he=0;function je(r){return Pr(()=>{const o=!0===r.standalone,u={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||Se,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||ri.Emulated,id:"c"+he++,styles:r.styles||Se,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.dependencies,m=r.features;return c.inputs=dr(r.inputs,u),c.outputs=dr(r.outputs),m&&m.forEach(E=>E(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(St).filter($t):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(Ve).filter($t):null,c})}function St(r){return G(r)||ge(r)}function $t(r){return null!==r}function In(r){return Pr(()=>({type:r.type,bootstrap:r.bootstrap||Se,declarations:r.declarations||Se,imports:r.imports||Se,exports:r.exports||Se,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function _r(r,s){return Pr(()=>{const o=Qt(r,!0);o.declarations=s.declarations||Se,o.imports=s.imports||Se,o.exports=s.exports||Se})}function dr(r,s){if(null==r)return Et;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,s&&(s[c]=d)}return o}const pe=je;function re(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function G(r){return r[vt]||null}function ge(r){return r[ht]||null}function Ve(r){return r[ln]||null}function Ut(r){const s=G(r)||ge(r)||Ve(r);return null!==s&&s.standalone}function Qt(r,s){const o=r[dn]||null;if(!o&&!0===s)throw new Error(`Type ${Ct(r)} does not have '\u0275mod' property.`);return o}function hr(r){return Array.isArray(r)&&"object"==typeof r[1]}function Er(r){return Array.isArray(r)&&!0===r[1]}function Ns(r){return 0!=(8&r.flags)}function fr(r){return 2==(2&r.flags)}function ps(r){return 1==(1&r.flags)}function fi(r){return null!==r.template}function gs(r){return 0!=(256&r[2])}function Ro(r,s){return r.hasOwnProperty(ne)?r[ne]:null}class ys{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ki(){return vs}function vs(r){return r.type.prototype.ngOnChanges&&(r.setInput=qo),Wo}function Wo(){const r=Ua(this),s=r?.current;if(s){const o=r.previous;if(o===Et)r.previous=s;else for(let u in s)o[u]=s[u];r.current=null,this.ngOnChanges(s)}}function qo(r,s,o,u){const c=Ua(r)||function Xi(r,s){return r[Ko]=s}(r,{previous:Et,current:null}),d=c.current||(c.current={}),m=c.previous,E=this.declaredInputs[o],D=m[E];d[E]=new ys(D&&D.currentValue,s,m===Et),r[u]=s}ki.ngInherit=!0;const Ko="__ngSimpleChanges__";function Ua(r){return r[Ko]||null}function un(r){for(;Array.isArray(r);)r=r[0];return r}function ks(r,s){return un(s[r])}function xr(r,s){return un(s[r.index])}function wr(r,s){return r.data[s]}function ai(r,s){const o=s[r];return hr(o)?o:o[0]}function Fs(r){return 64==(64&r[2])}function pr(r,s){return null==s?null:r[s]}function Oi(r){r[18]=0}function Ks(r,s){r[5]+=s;let o=r,u=r[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const en={lFrame:ze(null),bindingsEnabled:!0};function Us(){return en.bindingsEnabled}function Ye(){return en.lFrame.lView}function gn(){return en.lFrame.tView}function es(r){return en.lFrame.contextLView=r,r[8]}function ho(r){return en.lFrame.contextLView=null,r}function Rr(){let r=Gi();for(;null!==r&&64===r.type;)r=r.parent;return r}function Gi(){return en.lFrame.currentTNode}function Zr(r,s){const o=en.lFrame;o.currentTNode=r,o.isParent=s}function Qo(){return en.lFrame.isParent}function Jo(){en.lFrame.isParent=!1}function ui(){return en.lFrame.bindingIndex++}function ts(r){const s=en.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function pa(r,s){const o=en.lFrame;o.bindingIndex=o.bindingRootIndex=r,Oo(s)}function Oo(r){en.lFrame.currentDirectiveIndex=r}function ja(r){const s=en.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}function b(){return en.lFrame.currentQueryIndex}function O(r){en.lFrame.currentQueryIndex=r}function A(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function B(r,s,o){if(o&lt.SkipSelf){let c=s,d=r;for(;!(c=c.parent,null!==c||o&lt.Host||(c=A(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;s=c,r=d}const u=en.lFrame=Re();return u.currentTNode=s,u.lView=r,!0}function se(r){const s=Re(),o=r[1];en.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Re(){const r=en.lFrame,s=null===r?null:r.child;return null===s?ze(r):s}function ze(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function pt(){const r=en.lFrame;return en.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Rn=pt;function Vn(){const r=pt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function An(){return en.lFrame.selectedIndex}function Nn(r){en.lFrame.selectedIndex=r}function hn(){const r=en.lFrame;return wr(r.tView,r.selectedIndex)}function Lo(r,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:P,ngOnDestroy:V}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),E&&((r.contentHooks||(r.contentHooks=[])).push(o,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,E)),D&&(r.viewHooks||(r.viewHooks=[])).push(-o,D),P&&((r.viewHooks||(r.viewHooks=[])).push(o,P),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,P)),null!=V&&(r.destroyHooks||(r.destroyHooks=[])).push(o,V)}}function Ha(r,s,o){Zs(r,s,3,o)}function or(r,s,o,u){(3&r[2])===o&&Zs(r,s,o,u)}function Jn(r,s){let o=r[2];(3&o)===s&&(o&=2047,o+=1,r[2]=o)}function Zs(r,s,o,u){const d=u??-1,m=s.length-1;let E=0;for(let D=void 0!==u?65535&r[18]:0;D<m;D++)if("number"==typeof s[D+1]){if(E=s[D],null!=u&&E>=u)break}else s[D]<0&&(r[18]+=65536),(E<d||-1==d)&&(Vu(r,o,s,D),r[18]=(4294901760&r[18])+D+2),D++}function Vu(r,s,o,u){const c=o[u]<0,d=o[u+1],E=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{d.call(E)}finally{}}}else try{d.call(E)}finally{}}class po{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function lu(r,s,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const d=o[u++],m=o[u++],E=o[u++];r.setAttribute(s,m,E,d)}else{const d=c,m=o[++u];cu(d)?r.setProperty(s,d,m):r.setAttribute(s,d,m),u++}}return u}function Dl(r){return 3===r||4===r||6===r}function cu(r){return 64===r.charCodeAt(0)}function Bu(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||$u(r,o,c,null,-1===o||2===o?s[++u]:null)}}return r}function $u(r,s,o,u,c){let d=0,m=r.length;if(-1===s)m=-1;else for(;d<r.length;){const E=r[d++];if("number"==typeof E){if(E===s){m=-1;break}if(E>s){m=d-1;break}}}for(;d<r.length;){const E=r[d];if("number"==typeof E)break;if(E===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(r.splice(m,0,s),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function ju(r){return-1!==r}function ya(r){return 32767&r}function Uo(r,s){let o=function va(r){return r>>16}(r),u=s;for(;o>0;)u=u[15],o--;return u}let ar=!0;function mo(r){const s=ar;return ar=r,s}let gc=0;const Vs={};function Bo(r,s){const o=Xo(r,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(r.injectorIndex=s.length,Qs(u.data,r),Qs(s,null),Qs(u.blueprint,null));const c=yo(r,s),d=r.injectorIndex;if(ju(c)){const m=ya(c),E=Uo(c,s),D=E[1].data;for(let P=0;P<8;P++)s[d+P]=E[m+P]|D[m+P]}return s[d+8]=c,d}function Qs(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Xo(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function yo(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){if(u=Tt(c),null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Is(r,s,o){!function bl(r,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(J)&&(u=o[J]),null==u&&(u=o[J]=gc++);const c=255&u;s.data[r+(c>>5)]|=1<<c}(r,s,o)}function _a(r,s,o){if(o&lt.Optional||void 0!==r)return r;ae()}function ea(r,s,o,u){if(o&lt.Optional&&void 0===u&&(u=null),0==(o&(lt.Self|lt.Host))){const c=r[9],d=En(void 0);try{return c?c.get(s,u,o&lt.Optional):vr(s,u,o&lt.Optional)}finally{En(d)}}return _a(u,0,o)}function R(r,s,o,u=lt.Default,c){if(null!==r){if(1024&s[2]){const m=function rn(r,s,o,u,c){let d=r,m=s;for(;null!==d&&null!==m&&1024&m[2]&&!(256&m[2]);){const E=f(d,m,o,u|lt.Self,Vs);if(E!==Vs)return E;let D=d.parent;if(!D){const P=m[21];if(P){const V=P.get(o,Vs,u);if(V!==Vs)return V}D=Tt(m),m=m[15]}d=D}return c}(r,s,o,u,Vs);if(m!==Vs)return m}const d=f(r,s,o,u,Vs);if(d!==Vs)return d}return ea(s,o,u,c)}function f(r,s,o,u,c){const d=function $(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(J)?r[J]:void 0;return"number"==typeof s?s>=0?255&s:ke:s}(o);if("function"==typeof d){if(!B(s,r,u))return u&lt.Host?_a(c,0,u):ea(s,o,u,c);try{const m=d(u);if(null!=m||u&lt.Optional)return m;ae()}finally{Rn()}}else if("number"==typeof d){let m=null,E=Xo(r,s),D=-1,P=u&lt.Host?s[16][6]:null;for((-1===E||u&lt.SkipSelf)&&(D=-1===E?yo(r,s):s[E+8],-1!==D&&ee(u,!1)?(m=s[1],E=ya(D),s=Uo(D,s)):E=-1);-1!==E;){const V=s[1];if(Z(d,E,V.data)){const z=p(E,s,o,m,u,P);if(z!==Vs)return z}D=s[E+8],-1!==D&&ee(u,s[1].data[E+8]===P)&&Z(d,E,s)?(m=V,E=ya(D),s=Uo(D,s)):E=-1}}return c}function p(r,s,o,u,c,d){const m=s[1],E=m.data[r+8],V=T(E,m,o,null==u?fr(E)&&ar:u!=m&&0!=(3&E.type),c&lt.Host&&d===E);return null!==V?N(s,m,V,E):Vs}function T(r,s,o,u,c){const d=r.providerIndexes,m=s.data,E=1048575&d,D=r.directiveStart,V=d>>20,le=c?E+V:r.directiveEnd;for(let Ee=u?E:E+V;Ee<le;Ee++){const He=m[Ee];if(Ee<D&&o===He||Ee>=D&&He.type===o)return Ee}if(c){const Ee=m[D];if(Ee&&fi(Ee)&&Ee.type===o)return D}return null}function N(r,s,o,u){let c=r[o];const d=s.data;if(function ou(r){return r instanceof po}(c)){const m=c;m.resolving&&function Ke(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new _e(-200,`Circular dependency in DI detected for ${r}${o}`)}(function we(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ze(r)}(d[o]));const E=mo(m.canSeeViewProviders);m.resolving=!0;const D=m.injectImpl?En(m.injectImpl):null;B(r,u,lt.Default);try{c=r[o]=m.factory(void 0,d,r,u),s.firstCreatePass&&o>=u.directiveStart&&function ga(r,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=s.type.prototype;if(u){const m=vs(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],s)}finally{null!==D&&En(D),mo(E),m.resolving=!1,Rn()}}return c}function Z(r,s,o){return!!(o[s+(r>>5)]&1<<r)}function ee(r,s){return!(r&lt.Self||r&lt.Host&&s)}class de{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return R(this._tNode,this._lView,s,u,o)}}function ke(){return new de(Rr(),Ye())}function ct(r){return Pr(()=>{const s=r.prototype.constructor,o=s[ne]||gt(s),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const d=c[ne]||gt(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function gt(r){return Le(r)?()=>{const s=gt(dt(r));return s&&s()}:Ro(r)}function Tt(r){const s=r[1],o=s.type;return 2===o?s.declTNode:1===o?r[6]:null}function It(r){return function Gu(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(Dl(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===s)return o[c+1];c+=2}}}return null}(Rr(),r)}const Mn="__parameters__";function Tr(r,s,o){return Pr(()=>{const u=function Cr(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return E.annotation=m,E;function E(D,P,V){const z=D.hasOwnProperty(Mn)?D[Mn]:Object.defineProperty(D,Mn,{value:[]})[Mn];for(;z.length<=V;)z.push(null);return(z[V]=z[V]||[]).push(m),D}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class _n{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=On({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ur(r,s){void 0===s&&(s=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(s===r&&(s=r.slice(0,o)),ur(u,s)):s!==r&&s.push(u)}return s}function Zn(r,s){r.forEach(o=>Array.isArray(o)?Zn(o,s):s(o))}function wa(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function fu(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function gr(r,s){const o=[];for(let u=0;u<r;u++)o.push(s);return o}function g(r,s,o){let u=M(r,s);return u>=0?r[1|u]=o:(u=~u,function Ea(r,s,o,u){let c=r.length;if(c==s)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>s;)r[c]=r[c-2],c--;r[s]=o,r[s+1]=u}}(r,u,s,o)),u}function I(r,s){const o=M(r,s);if(o>=0)return r[1|o]}function M(r,s){return function q(r,s,o){let u=0,c=r.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=r[d<<o];if(s===m)return d<<o;m>s?c=d:u=d+1}return~(c<<o)}(r,s,1)}const yi={},Sl="__NG_DI_FLAG__",ra="ngTempTokenPath",Xh=/\n/gm,hg="__source";let qu;function Al(r){const s=qu;return qu=r,s}function fg(r,s=lt.Default){if(void 0===qu)throw new _e(-203,!1);return null===qu?vr(r,void 0,s):qu.get(r,s&lt.Optional?null:void 0,s)}function Qr(r,s=lt.Default){return(function an(){return Lt}()||fg)(dt(r),s)}function C(r,s=lt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Qr(r,s)}function x(r){const s=[];for(let o=0;o<r.length;o++){const u=dt(r[o]);if(Array.isArray(u)){if(0===u.length)throw new _e(900,!1);let c,d=lt.Default;for(let m=0;m<u.length;m++){const E=u[m],D=K(E);"number"==typeof D?-1===D?c=E.token:d|=D:c=E}s.push(Qr(c,d))}else s.push(Qr(u))}return s}function F(r,s){return r[Sl]=s,r.prototype[Sl]=s,r}function K(r){return r[Sl]}const Nt=F(Tr("Optional"),8),Jt=F(Tr("SkipSelf"),4);var Ia=(()=>((Ia=Ia||{})[Ia.Important=1]="Important",Ia[Ia.DashCase=2]="DashCase",Ia))();const Ig=new Map;let N0=0;const Dg="__ngContext__";function Gs(r,s){hr(s)?(r[Dg]=s[20],function P0(r){Ig.set(r[20],r)}(s)):r[Dg]=s}function Gv(r,s){return undefined(r,s)}function af(r){const s=r[3];return Er(s)?s[3]:s}function zv(r){return $0(r[13])}function Wv(r){return $0(r[4])}function $0(r){for(;null!==r&&!Er(r);)r=r[4];return r}function Td(r,s,o,u,c){if(null!=u){let d,m=!1;Er(u)?d=u:hr(u)&&(m=!0,u=u[0]);const E=un(u);0===r&&null!==o?null==c?q0(s,o,E):mc(s,o,E,c||null,!0):1===r&&null!==o?mc(s,o,E,c||null,!0):2===r?function Dd(r,s,o){const u=bg(r,s);u&&function ub(r,s,o,u){r.removeChild(s,o,u)}(r,u,s,o)}(s,E,m):3===r&&s.destroyNode(E),null!=d&&function lf(r,s,o,u,c){const d=o[7];d!==un(o)&&Td(s,r,u,d,c);for(let E=10;E<o.length;E++){const D=o[E];bd(D[1],D,r,s,u,d)}}(s,r,d,o,c)}}function Kv(r,s,o){return r.createElement(s,o)}function H0(r,s){const o=r[9],u=o.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,Ks(c,-1)),o.splice(u,1)}function Yv(r,s){if(r.length<=10)return;const o=10+s,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&H0(c,u),s>0&&(r[o-1][4]=u[4]);const d=fu(r,10+s);!function eb(r,s){bd(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function G0(r,s){if(!(128&s[2])){const o=s[11];o.destroyNode&&bd(r,s,o,3,null,null),function rb(r){let s=r[13];if(!s)return Zv(r[1],r);for(;s;){let o=null;if(hr(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==r;)hr(s)&&Zv(s[1],s),s=s[3];null===s&&(s=r),hr(s)&&Zv(s[1],s),o=s&&s[4]}s=o}}(s)}}function Zv(r,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function ab(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof po)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const E=c[d[m]],D=d[m+1];try{D.call(E)}finally{}}else try{d.call(c)}finally{}}}}(r,s),function ob(r,s){const o=r.cleanup,u=s[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],E="function"==typeof m?m(s):un(s[m]),D=u[c=o[d+2]],P=o[d+3];"boolean"==typeof P?E.removeEventListener(o[d],D,P):P>=0?u[c=P]():u[c=-P].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)(0,u[d])();s[7]=null}}(r,s),1===s[1].type&&s[11].destroy();const o=s[17];if(null!==o&&Er(s[3])){o!==s[3]&&H0(o,s);const u=s[19];null!==u&&u.detachView(r)}!function $v(r){Ig.delete(r[20])}(s)}}function z0(r,s,o){return function W0(r,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===ri.None||c===ri.Emulated)return null}return xr(u,o)}(r,s.parent,o)}function mc(r,s,o,u,c){r.insertBefore(s,o,u,c)}function q0(r,s,o){r.appendChild(s,o)}function K0(r,s,o,u,c){null!==u?mc(r,s,o,u,c):q0(r,s,o)}function bg(r,s){return r.parentNode(s)}function Y0(r,s,o){return Q0(r,s,o)}let cf,yc,Rl,Q0=function Z0(r,s,o){return 40&r.type?xr(r,o):null};function Cg(r,s,o,u){const c=z0(r,u,s),d=s[11],E=Y0(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let D=0;D<o.length;D++)K0(d,c,o[D],E,!1);else K0(d,c,o,E,!1)}function Sg(r,s){if(null!==s){const o=s.type;if(3&o)return xr(s,r);if(4&o)return Jv(-1,r[s.index]);if(8&o){const u=s.child;if(null!==u)return Sg(r,u);{const c=r[s.index];return Er(c)?Jv(-1,c):un(c)}}if(32&o)return Gv(s,r)()||un(r[s.index]);{const u=X0(r,s);return null!==u?Array.isArray(u)?u[0]:Sg(af(r[16]),u):Sg(r,s.next)}}return null}function X0(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Jv(r,s){const o=10+r+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return Sg(u,c)}return s[7]}function uf(r,s,o,u,c,d,m){for(;null!=o;){const E=u[o.index],D=o.type;if(m&&0===s&&(E&&Gs(un(E),u),o.flags|=4),64!=(64&o.flags))if(8&D)uf(r,s,o.child,u,c,d,!1),Td(s,r,c,E,d);else if(32&D){const P=Gv(o,u);let V;for(;V=P();)Td(s,r,c,V,d);Td(s,r,c,E,d)}else 16&D?Xv(r,s,u,o,c,d):Td(s,r,c,E,d);o=m?o.projectionNext:o.next}}function bd(r,s,o,u,c,d){uf(o,u,r.firstChild,s,c,d,!1)}function Xv(r,s,o,u,c,d){const m=o[16],D=m[6].projection[u.projection];if(Array.isArray(D))for(let P=0;P<D.length;P++)Td(s,r,c,D[P],d);else uf(r,s,D,m[3],c,d,!0)}function e_(r,s,o){r.setAttribute(s,"style",o)}function Mg(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function xl(r){return function df(){if(void 0===cf&&(cf=null,Wt.trustedTypes))try{cf=Wt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return cf}()?.createHTML(r)||r}function t_(r){yc=r}function ff(r){return function Cd(){if(void 0===Rl&&(Rl=null,Wt.trustedTypes))try{Rl=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Rl}()?.createHTML(r)||r}class Nl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nI extends Nl{getTypeName(){return"HTML"}}class rI extends Nl{getTypeName(){return"Style"}}class Sd extends Nl{getTypeName(){return"Script"}}class i_ extends Nl{getTypeName(){return"URL"}}class pf extends Nl{getTypeName(){return"ResourceURL"}}function za(r){return r instanceof Nl?r.changingThisBreaksApplicationSecurity:r}function vc(r,s){const o=function iI(r){return r instanceof Nl&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function sI(r){return new nI(r)}function oI(r){return new rI(r)}function s_(r){return new Sd(r)}function xg(r){return new i_(r)}function o_(r){return new pf(r)}class a_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(xl(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class Ad{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=xl(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=xl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Rg=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _c(r){return(r=String(r)).match(Rg)?r:"unsafe:"+r}function gu(r){const s={};for(const o of r.split(","))s[o]=!0;return s}function Pl(...r){const s={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const Ng=gu("area,br,col,hr,img,wbr"),Pg=gu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mf=gu("rp,rt"),wc=Pl(Ng,Pl(Pg,gu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pl(mf,gu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pl(mf,Pg)),Md=gu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kg=Pl(Md,gu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uI=gu("script,style,template");class c_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!wc.hasOwnProperty(o))return this.sanitizedSomething=!0,!uI.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,E=m.toLowerCase();if(!kg.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=d.value;Md[E]&&(D=_c(D)),this.buf.push(" ",m,'="',h_(D),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();wc.hasOwnProperty(o)&&!Ng.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(h_(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Ec=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d_=/([^\#-~ |!])/g;function h_(r){return r.replace(/&/g,"&amp;").replace(Ec,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(d_,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yf;function f_(r,s){let o=null;try{yf=yf||function gf(r){const s=new Ad(r);return function aI(){try{return!!(new window.DOMParser).parseFromString(xl(""),"text/html")}catch{return!1}}()?new a_(s):s}(r);let u=s?String(s):"";o=yf.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=yf.getInertBodyElement(u)}while(u!==d);return xl((new c_).sanitizeChildren(Og(o)||o))}finally{if(o){const u=Og(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Og(r){return"content"in r&&function lI(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var bi=(()=>((bi=bi||{})[bi.NONE=0]="NONE",bi[bi.HTML=1]="HTML",bi[bi.STYLE=2]="STYLE",bi[bi.SCRIPT=3]="SCRIPT",bi[bi.URL=4]="URL",bi[bi.RESOURCE_URL=5]="RESOURCE_URL",bi))();function p_(r){const s=Ic();return s?ff(s.sanitize(bi.HTML,r)||""):vc(r,"HTML")?ff(za(r)):f_(function hf(){return void 0!==yc?yc:typeof document<"u"?document:void 0}(),Ze(r))}function Fg(r){const s=Ic();return s?s.sanitize(bi.URL,r)||"":vc(r,"URL")?za(r):_c(Ze(r))}function Ic(){const r=Ye();return r&&r[12]}const vf=new _n("ENVIRONMENT_INITIALIZER"),_f=new _n("INJECTOR",-1),Ug=new _n("INJECTOR_DEF_TYPES");class pI{get(s,o=yi){if(o===yi){const u=new Error(`NullInjectorError: No provider for ${Ct(s)}!`);throw u.name="NullInjectorError",u}return o}}function gI(...r){return{\u0275providers:mI(0,r)}}function mI(r,...s){const o=[],u=new Set;let c;return Zn(s,d=>{const m=d;Rd(m,o,[],u)&&(c||(c=[]),c.push(m))}),void 0!==c&&yI(c,o),o}function yI(r,s){for(let o=0;o<r.length;o++){const{providers:c}=r[o];Zn(c,d=>{s.push(d)})}}function Rd(r,s,o,u){if(!(r=dt(r)))return!1;let c=null,d=zr(r);const m=!d&&G(r);if(d||m){if(m&&!m.standalone)return!1;c=r}else{const D=r.ngModule;if(d=zr(D),!d)return!1;c=D}const E=u.has(c);if(m){if(E)return!1;if(u.add(c),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const P of D)Rd(P,s,o,u)}}else{if(!d)return!1;{if(null!=d.imports&&!E){let P;u.add(c);try{Zn(d.imports,V=>{Rd(V,s,o,u)&&(P||(P=[]),P.push(V))})}finally{}void 0!==P&&yI(P,s)}if(!E){const P=Ro(c)||(()=>new c);s.push({provide:c,useFactory:P,deps:Se},{provide:Ug,useValue:c,multi:!0},{provide:vf,useValue:()=>Qr(c),multi:!0})}const D=d.providers;null==D||E||Zn(D,V=>{s.push(V)})}}return c!==r&&void 0!==r.providers}const vI=Ue({provide:String,useValue:Ue});function wf(r){return null!==r&&"object"==typeof r&&vI in r}function mu(r){return"function"==typeof r}const __=new _n("Set Injector scope."),Tc={},gb={};let Bg;function $g(){return void 0===Bg&&(Bg=new pI),Bg}class kl{}class w_ extends kl{constructor(s,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ta(s,m=>this.processProvider(m)),this.records.set(_f,Nd(void 0,this)),c.has("environment")&&this.records.set(kl,Nd(void 0,this));const d=this.records.get(__);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ug.multi,Se,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Al(this),u=En(void 0);try{return s()}finally{Al(o),En(u)}}get(s,o=yi,u=lt.Default){this.assertNotDestroyed();const c=Al(this),d=En(void 0);try{if(!(u&lt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const D=function _b(r){return"function"==typeof r||"object"==typeof r&&r instanceof _n}(s)&&Mr(s);E=D&&this.injectableDefInScope(D)?Nd(E_(s),Tc):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&lt.Self?$g():this.parent).get(s,o=u&lt.Optional&&o===yi?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[ra]=m[ra]||[]).unshift(Ct(s)),c)throw m;return function ye(r,s,o,u){const c=r[ra];throw s[hg]&&c.unshift(s[hg]),r.message=function De(r,s,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let c=Ct(s);if(Array.isArray(s))c=s.map(Ct).join(" -> ");else if("object"==typeof s){let d=[];for(let m in s)if(s.hasOwnProperty(m)){let E=s[m];d.push(m+":"+("string"==typeof E?JSON.stringify(E):Ct(E)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Xh,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[ra]=null,r}(m,s,"R3InjectorError",this.source)}throw m}finally{En(d),Al(c)}}resolveInjectorInitializers(){const s=Al(this),o=En(void 0);try{const u=this.get(vf.multi,Se,lt.Self);for(const c of u)c()}finally{Al(s),En(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(Ct(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(s){let o=mu(s=dt(s))?s:dt(s&&s.provide);const u=function _I(r){return wf(r)?Nd(void 0,r.useValue):Nd(wI(r),Tc)}(s);if(mu(s)||!0!==s.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Nd(void 0,Tc,!0),c.factory=()=>x(c.multi),this.records.set(o,c)),o=s,c.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===Tc&&(o.value=gb,o.value=o.factory()),"object"==typeof o.value&&o.value&&function vb(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=dt(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function E_(r){const s=Mr(r),o=null!==s?s.factory:Ro(r);if(null!==o)return o;if(r instanceof _n)throw new _e(204,!1);if(r instanceof Function)return function mb(r){const s=r.length;if(s>0)throw gr(s,"?"),new _e(204,!1);const o=function qn(r){const s=r&&(r[hi]||r[rr]);if(s){const o=function hs(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new _e(204,!1)}function wI(r,s,o){let u;if(mu(r)){const c=dt(r);return Ro(c)||E_(c)}if(wf(r))u=()=>dt(r.useValue);else if(function Vg(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...x(r.deps||[]));else if(function y_(r){return!(!r||!r.useExisting)}(r))u=()=>Qr(dt(r.useExisting));else{const c=dt(r&&(r.useClass||r.provide));if(!function yb(r){return!!r.deps}(r))return Ro(c)||E_(c);u=()=>new c(...x(r.deps))}return u}function Nd(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function EI(r){return!!r.\u0275providers}function Ta(r,s){for(const o of r)Array.isArray(o)?Ta(o,s):EI(o)?Ta(o.\u0275providers,s):s(o)}class Ef{}class kd{resolveComponentFactory(s){throw function bn(r){const s=Error(`No component factory found for ${Ct(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let Od=(()=>{class r{}return r.NULL=new kd,r})();function Hg(){return Dc(Rr(),Ye())}function Dc(r,s){return new Fd(xr(r,s))}let Fd=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Hg,r})();function II(r){return r instanceof Fd?r.nativeElement:r}class Ld{}let Cs=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function Ku(){const r=Ye(),o=ai(Rr().index,r);return(hr(o)?o:r)[11]}(),r})(),TI=(()=>{class r{}return r.\u0275prov=On({token:r,providedIn:"root",factory:()=>null}),r})();class Gg{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const If=new Gg("14.2.12"),Tf={};function bc(r){return r.ngOriginalError}class Cc{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&bc(s);for(;o&&bc(o);)o=bc(o);return o||null}}function I_(r){return r.ownerDocument}function Da(r){return r instanceof Function?r():r}function Cf(r,s,o){let u=r.length;for(;;){const c=r.indexOf(s,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=s.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const b_="ng-template";function Kg(r,s,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Cf(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Yg(r){return 4===r.type&&r.value!==b_}function AI(r,s,o){return s===(4!==r.type||o?r.value:b_)}function Ud(r,s,o){let u=4;const c=r.attrs||[],d=function Sf(r){for(let s=0;s<r.length;s++)if(Dl(r[s]))return s;return r.length}(c);let m=!1;for(let E=0;E<s.length;E++){const D=s[E];if("number"!=typeof D){if(!m)if(4&u){if(u=2|1&u,""!==D&&!AI(r,D,o)||""===D&&1===s.length){if(ba(u))return!1;m=!0}}else{const P=8&u?D:s[++E];if(8&u&&null!==r.attrs){if(!Kg(r.attrs,P,o)){if(ba(u))return!1;m=!0}continue}const z=Vd(8&u?"class":D,c,Yg(r),o);if(-1===z){if(ba(u))return!1;m=!0;continue}if(""!==P){let le;le=z>d?"":c[z+1].toLowerCase();const Ee=8&u?le:null;if(Ee&&-1!==Cf(Ee,P,0)||2&u&&P!==le){if(ba(u))return!1;m=!0}}}}else{if(!m&&!ba(u)&&!ba(D))return!1;if(m&&ba(D))continue;m=!1,u=D|1&u}}return ba(u)||m}function ba(r){return 0==(1&r)}function Vd(r,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let d=!1;for(;c<s.length;){const m=s[c];if(m===r)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function Zg(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,r)}function C_(r,s,o=!1){for(let u=0;u<s.length;u++)if(Ud(r,s[u],o))return!0;return!1}function S_(r,s){e:for(let o=0;o<s.length;o++){const u=s[o];if(r.length===u.length){for(let c=0;c<r.length;c++)if(r[c]!==u[c])continue e;return!0}}return!1}function Qg(r,s){return r?":not("+s.trim()+")":s}function A_(r){let s=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const E=r[++o];c+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!ba(m)&&(s+=Qg(d,c),c=""),u=m,d=d||!ba(u);o++}return""!==c&&(s+=Qg(d,c)),s}const Dn={};function Mf(r){xf(gn(),Ye(),An()+r,!1)}function xf(r,s,o,u){if(!u)if(3==(3&s[2])){const d=r.preOrderCheckHooks;null!==d&&Ha(s,d,o)}else{const d=r.preOrderHooks;null!==d&&or(s,d,0,o)}Nn(o)}function Nf(r,s=null,o=null,u){const c=Pf(r,s,o,u);return c.resolveInjectorInitializers(),c}function Pf(r,s=null,o=null,u,c=new Set){const d=[o||Se,gI(r)];return u=u||("object"==typeof r?void 0:Ct(r)),new w_(d,s||$g(),u||null,c)}let Jr=(()=>{class r{static create(o,u){if(Array.isArray(o))return Nf({name:""},u,o,"");{const c=o.name??"";return Nf({name:c},o.parent,o.providers,c)}}}return r.THROW_IF_NOT_FOUND=yi,r.NULL=new pI,r.\u0275prov=On({token:r,providedIn:"any",factory:()=>Qr(_f)}),r.__NG_ELEMENT_ID__=-1,r})();function yu(r,s=lt.Default){const o=Ye();return null===o?Qr(r,s):R(Rr(),o,dt(r),s)}function sm(){throw new Error("invalid")}function jd(r,s){return r<<17|s<<2}function Br(r){return r>>17&32767}function xc(r){return 2|r}function qa(r){return(131068&r)>>2}function Gd(r,s){return-131069&r|s<<2}function Ff(r){return 1|r}function mm(r,s){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];O(c),m.contentQueries(2,s[d],d)}}}function vu(r,s,o,u,c,d,m,E,D,P,V){const z=s.blueprint.slice();return z[0]=c,z[2]=76|u,(null!==V||r&&1024&r[2])&&(z[2]|=1024),Oi(z),z[3]=z[15]=r,z[8]=o,z[10]=m||r&&r[10],z[11]=E||r&&r[11],z[12]=D||r&&r[12]||null,z[9]=P||r&&r[9]||null,z[6]=d,z[20]=function Bv(){return N0++}(),z[21]=V,z[16]=2==s.type?r[16]:z,z}function Fc(r,s,o,u,c){let d=r.data[s];if(null===d)d=function ym(r,s,o,u,c){const d=Gi(),m=Qo(),D=r.data[s]=function eh(r,s,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,s,u,c);return null===r.firstChild&&(r.firstChild=D),null!==d&&(m?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D)),D}(r,s,o,u,c),function fo(){return en.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function Di(){const r=en.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Zr(d,!0),d}function $l(r,s,o,u){if(0===o)return-1;const c=s.length;for(let d=0;d<o;d++)s.push(u),r.blueprint.push(u),r.data.push(null);return c}function vm(r,s,o){se(s);try{const u=r.viewQuery;null!==u&&wu(1,u,o);const c=r.template;null!==c&&_m(r,s,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&mm(r,s),r.staticViewQueries&&wu(2,r.viewQuery,o);const d=r.components;null!==d&&function q_(r,s){for(let o=0;o<s.length;o++)Cm(r,s[o])}(s,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{s[2]&=-5,Vn()}}function Zd(r,s,o,u){const c=s[2];if(128!=(128&c)){se(s);try{Oi(s),function ko(r){return en.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&_m(r,s,o,2,u);const m=3==(3&c);if(m){const P=r.preOrderCheckHooks;null!==P&&Ha(s,P,null)}else{const P=r.preOrderHooks;null!==P&&or(s,P,0,null),Jn(s,0)}if(function ih(r){for(let s=zv(r);null!==s;s=Wv(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(512&c[2])&&Ks(d,1),c[2]|=512}}}(s),function nw(r){for(let s=zv(r);null!==s;s=Wv(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];Fs(u)&&Zd(c,u,c.template,u[8])}}(s),null!==r.contentQueries&&mm(r,s),m){const P=r.contentCheckHooks;null!==P&&Ha(s,P)}else{const P=r.contentHooks;null!==P&&or(s,P,1),Jn(s,1)}!function Xu(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Nn(~c);else{const d=c,m=o[++u],E=o[++u];pa(m,d),E(2,s[d])}}}finally{Nn(-1)}}(r,s);const E=r.components;null!==E&&function W_(r,s){for(let o=0;o<s.length;o++)rw(r,s[o])}(s,E);const D=r.viewQuery;if(null!==D&&wu(2,D,u),m){const P=r.viewCheckHooks;null!==P&&Ha(s,P)}else{const P=r.viewHooks;null!==P&&or(s,P,2),Jn(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Ks(s[3],-1))}finally{Vn()}}}function _m(r,s,o,u,c){const d=An(),m=2&u;try{Nn(-1),m&&s.length>22&&xf(r,s,22,!1),o(u,c)}finally{Nn(d)}}function $f(r,s,o){if(Ns(s)){const c=s.directiveEnd;for(let d=s.directiveStart;d<c;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}function Qd(r,s,o){!Us()||(function Q_(r,s,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||Bo(o,s),Gs(u,s);const m=o.initialInputs;for(let E=c;E<d;E++){const D=r.data[E],P=fi(D);P&&nh(s,o,D);const V=N(s,r,E,o);Gs(V,s),null!==m&&Wf(0,E-c,V,D,0,m),P&&(ai(o.index,s)[8]=V)}}(r,s,o,xr(o,s)),128==(128&o.flags)&&function J_(r,s,o){const u=o.directiveStart,c=o.directiveEnd,d=o.index,m=function pc(){return en.lFrame.currentDirectiveIndex}();try{Nn(d);for(let E=u;E<c;E++){const D=r.data[E],P=s[E];Oo(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Im(D,P)}}finally{Nn(-1),Oo(m)}}(r,s,o))}function jf(r,s,o=xr){const u=s.localNames;if(null!==u){let c=s.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],E=-1===m?o(s,r):r[m];r[c++]=E}}}function wm(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Jd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Jd(r,s,o,u,c,d,m,E,D,P){const V=22+u,z=V+c,le=function HI(r,s){const o=[];for(let u=0;u<s;u++)o.push(u<r?null:Dn);return o}(V,z),Ee="function"==typeof P?P():P;return le[1]={type:r,blueprint:le,template:o,queries:null,viewQuery:E,declTNode:s,data:le.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:Ee,incompleteFirstPass:!1}}function Xd(r,s,o,u){const c=Am(s);null===o?c.push(u):(c.push(o),r.firstCreatePass&&Mm(r).push(u,c.length-1))}function th(r,s,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function Hf(r,s){const u=s.directiveEnd,c=r.data,d=s.attrs,m=[];let E=null,D=null;for(let P=s.directiveStart;P<u;P++){const V=c[P],z=V.inputs,le=null===d||Yg(s)?null:ew(z,d);m.push(le),E=th(z,P,E),D=th(V.outputs,P,D)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=E,s.outputs=D}function As(r,s,o,u,c,d,m,E){const D=xr(s,o);let V,P=s.inputs;!E&&null!=P&&(V=P[u])?(to(r,o,V,u,c),fr(s)&&Lc(o,s.index)):3&s.type&&(u=function K_(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=m?m(c,s.value||"",u):c,d.setProperty(D,u,c))}function Lc(r,s){const o=ai(s,r);16&o[2]||(o[2]|=32)}function Em(r,s,o,u){let c=!1;if(Us()){const d=function Gf(r,s,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];C_(o,m.selectors,!1)&&(c||(c=[]),Is(Bo(o,s),r,m.type),fi(m)?(Tm(r,o),c.unshift(m)):c.push(m))}return c}(r,s,o),m=null===u?null:{"":-1};if(null!==d){c=!0,Dm(o,r.data.length,d.length);for(let V=0;V<d.length;V++){const z=d[V];z.providersResolver&&z.providersResolver(z)}let E=!1,D=!1,P=$l(r,s,d.length,null);for(let V=0;V<d.length;V++){const z=d[V];o.mergedAttrs=Bu(o.mergedAttrs,z.hostAttrs),zf(r,o,s,P,z),X_(P,z,m),null!==z.contentQueries&&(o.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(o.flags|=128);const le=z.type.prototype;!E&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),E=!0),!D&&(le.ngOnChanges||le.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),D=!0),P++}Hf(r,o)}m&&function _u(r,s,o){if(s){const u=r.localNames=[];for(let c=0;c<s.length;c+=2){const d=o[s[c+1]];if(null==d)throw new _e(-301,!1);u.push(s[c],d)}}}(o,u,m)}return o.mergedAttrs=Bu(o.mergedAttrs,o.attrs),c}function Z_(r,s,o,u,c,d){const m=d.hostBindings;if(m){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const D=~s.index;(function WI(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(E)!=D&&E.push(D),E.push(u,c,m)}}function Im(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Tm(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function X_(r,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=r;fi(s)&&(o[""]=r)}}function Dm(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}function zf(r,s,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=Ro(c.type)),m=new po(d,fi(c),yu);r.blueprint[u]=m,o[u]=m,Z_(r,s,0,u,$l(r,o,c.hostVars,Dn),c)}function nh(r,s,o){const u=xr(s,r),c=wm(o),d=r[10],m=sh(r,vu(r,c,null,o.onPush?32:16,u,s,d,d.createRenderer(u,o),null,null,null));r[s.index]=m}function Ca(r,s,o,u,c,d){const m=xr(r,s);!function rh(r,s,o,u,c,d,m){if(null==d)r.removeAttribute(s,c,o);else{const E=null==m?Ze(d):m(d,u||"",c);r.setAttribute(s,c,E,o)}}(s[11],m,d,r.value,o,u,c)}function Wf(r,s,o,u,c,d){const m=d[s];if(null!==m){const E=u.setInput;for(let D=0;D<m.length;){const P=m[D++],V=m[D++],z=m[D++];null!==E?u.setInput(o,z,P,V):o[V]=z}}}function ew(r,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function tw(r,s,o,u){return new Array(r,!0,!1,s,null,0,u,o,null,null)}function rw(r,s){const o=ai(s,r);if(Fs(o)){const u=o[1];48&o[2]?Zd(u,o,u.template,o[8]):o[5]>0&&qf(o)}}function qf(r){for(let u=zv(r);null!==u;u=Wv(u))for(let c=10;c<u.length;c++){const d=u[c];if(Fs(d))if(512&d[2]){const m=d[1];Zd(m,d,m.template,d[8])}else d[5]>0&&qf(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=ai(o[u],r);Fs(c)&&c[5]>0&&qf(c)}}function Cm(r,s){const o=ai(s,r),u=o[1];(function Sm(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(u,o),vm(u,o,o[8])}function sh(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Uc(r){for(;r;){r[2]|=32;const s=af(r);if(gs(r)&&!s)return r;r=s}return null}function oh(r,s,o,u=!0){const c=s[10];c.begin&&c.begin();try{Zd(r,s,r.template,o)}catch(m){throw u&&ah(s,m),m}finally{c.end&&c.end()}}function wu(r,s,o){O(0),s(r,o)}function Am(r){return r[7]||(r[7]=[])}function Mm(r){return r.cleanup||(r.cleanup=[])}function ah(r,s){const o=r[9],u=o?o.get(Cc,null):null;u&&u.handleError(s)}function to(r,s,o,u,c){for(let d=0;d<o.length;){const m=o[d++],E=o[d++],D=s[m],P=r.data[m];null!==P.setInput?P.setInput(D,c,u,E):D[E]=c}}function uh(r,s,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==s)for(let m=0;m<s.length;m++){const E=s[m];"number"==typeof E?d=E:1==d?c=kt(c,E):2==d&&(u=kt(u,E+": "+s[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}function Eu(r,s,o,u,c=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&u.push(un(d)),Er(d))for(let E=10;E<d.length;E++){const D=d[E],P=D[1].firstChild;null!==P&&Eu(D[1],D,P,u)}const m=o.type;if(8&m)Eu(r,s,o.child,u);else if(32&m){const E=Gv(o,s);let D;for(;D=E();)u.push(D)}else if(16&m){const E=X0(s,o);if(Array.isArray(E))u.push(...E);else{const D=af(s[16]);Eu(D[1],D,E,u,!0)}}o=c?o.projectionNext:o.next}return u}class lh{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Eu(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Er(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(Yv(s,u),fu(o,u))}this._attachedToViewContainer=!1}G0(this._lView[1],this._lView)}onDestroy(s){Xd(this._lView[1],this._lView,null,s)}markForCheck(){Uc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){oh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nb(r,s){bd(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=s}}class YI extends lh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;oh(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class ch extends Od{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=G(s);return new dh(o,this.ngModule)}}function iw(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class sw{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){const c=this.injector.get(s,Tf,u);return c!==Tf||o===Tf?c:this.parentInjector.get(s,o,u)}}class dh extends Ef{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Af(r){return r.map(A_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return iw(this.componentDef.inputs)}get outputs(){return iw(this.componentDef.outputs)}create(s,o,u,c){let d=(c=c||this.ngModule)instanceof kl?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new sw(s,d):s,E=m.get(Ld,null);if(null===E)throw new _e(407,!1);const D=m.get(TI,null),P=E.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",z=u?function GI(r,s,o){return r.selectRootElement(s,o===ri.ShadowDom)}(P,u,this.componentDef.encapsulation):Kv(P,V,function ZI(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(V)),le=this.componentDef.onPush?288:272,Ee=Jd(0,null,null,1,0,null,null,null,null,null),He=vu(null,Ee,null,le,null,null,E,P,D,m,null);let it,mt;se(He);try{const Pt=function Vc(r,s,o,u,c,d){const m=o[1];o[22]=r;const D=Fc(m,22,2,"#host",null),P=D.mergedAttrs=s.hostAttrs;null!==P&&(uh(D,P,!0),null!==r&&(lu(c,r,P),null!==D.classes&&Mg(c,r,D.classes),null!==D.styles&&e_(c,r,D.styles)));const V=u.createRenderer(r,s),z=vu(o,wm(s),null,s.onPush?32:16,o[22],D,u,V,d||null,null,null);return m.firstCreatePass&&(Is(Bo(D,o),m,s.type),Tm(m,D),Dm(D,o.length,1)),sh(o,z),o[22]=z}(z,this.componentDef,He,E,P);if(z)if(u)lu(P,z,["ng-version",If.full]);else{const{attrs:zt,classes:Qe}=function Jg(r){const s=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&s.push(d,r[++u]):8===c&&o.push(d);else{if(!ba(c))break;c=d}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);zt&&lu(P,z,zt),Qe&&Qe.length>0&&Mg(P,z,Qe.join(" "))}if(mt=wr(Ee,22),void 0!==o){const zt=mt.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const cn=o[Qe];zt.push(null!=cn?Array.from(cn):null)}}it=function el(r,s,o,u){const c=o[1],d=function Y_(r,s,o){const u=Rr();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),zf(r,u,s,$l(r,s,1,null),o),Hf(r,u));const c=N(s,r,u.directiveStart,u);Gs(c,s);const d=xr(u,s);return d&&Gs(d,s),c}(c,o,s);if(r[8]=o[8]=d,null!==u)for(const E of u)E(d,s);if(s.contentQueries){const E=Rr();s.contentQueries(1,d,E.directiveStart)}const m=Rr();return!c.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Nn(m.index),Z_(o[1],m,0,m.directiveStart,m.directiveEnd,s),Im(s,d)),d}(Pt,this.componentDef,He,[Rm]),vm(Ee,He,null)}finally{Vn()}return new ow(this.componentType,it,Dc(mt,He),He,mt)}}class ow extends class qt{}{constructor(s,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new YI(c),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[s])){const d=this._rootLView;to(d[1],d,c,s,o),Lc(d,this._tNode.index)}}get injector(){return new de(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Rm(){const r=Rr();Lo(Ye()[1],r)}function ot(r){let s=function QI(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;s;){let c;if(fi(r))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new _e(903,!1);c=s.\u0275dir}if(c){if(o){u.push(c);const m=r;m.inputs=tl(r.inputs),m.declaredInputs=tl(r.declaredInputs),m.outputs=tl(r.outputs);const E=c.hostBindings;E&&Gt(r,E);const D=c.viewQuery,P=c.contentQueries;if(D&&Nm(r,D),P&&Ft(r,P),_t(r.inputs,c.inputs),_t(r.declaredInputs,c.declaredInputs),_t(r.outputs,c.outputs),fi(c)&&c.data.animation){const V=r.data;V.animation=(V.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const E=d[m];E&&E.ngInherit&&E(r),E===ot&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Si(r){let s=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=s+=c.hostVars,c.hostAttrs=Bu(c.hostAttrs,o=Bu(o,c.hostAttrs))}}(u)}function tl(r){return r===Et?{}:r===Se?[]:r}function Nm(r,s){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function Ft(r,s){const o=r.contentQueries;r.contentQueries=o?(u,c,d)=>{s(u,c,d),o(u,c,d)}:s}function Gt(r,s){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let tt=null;function $r(){if(!tt){const r=Wt.Symbol;if(r&&r.iterator)tt=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(tt=u)}}}return tt}function hh(r){return!!Pm(r)&&(Array.isArray(r)||!(r instanceof Map)&&$r()in r)}function Pm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function no(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function nl(r,s,o,u){const c=Ye();return no(c,ui(),s)&&(gn(),Ca(hn(),c,r,s,o,u)),nl}function cw(r,s,o,u,c,d,m,E){const D=Ye(),P=gn(),V=r+22,z=P.firstCreatePass?function lw(r,s,o,u,c,d,m,E,D){const P=s.consts,V=Fc(s,r,4,m||null,pr(P,E));Em(s,o,V,pr(P,D)),Lo(s,V);const z=V.tViews=Jd(2,V,u,c,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,P);return null!==s.queries&&(s.queries.template(s,V),z.queries=s.queries.embeddedTView(V)),V}(V,P,D,s,o,u,c,d,m):P.data[V];Zr(z,!1);const le=D[11].createComment("");Cg(P,D,le,z),Gs(le,D),sh(D,D[V]=tw(le,D,le,z)),ps(z)&&Qd(P,D,z),null!=m&&jf(D,z,E)}function xe(r,s,o){const u=Ye();return no(u,ui(),s)&&As(gn(),hn(),u,r,s,u[11],o,!1),xe}function jc(r,s,o,u,c){const m=c?"class":"style";to(r,o,s.inputs[m],m,u)}function Zf(r,s,o,u){const c=Ye(),d=gn(),m=22+r,E=c[11],D=c[m]=Kv(E,s,function Fo(){return en.lFrame.currentNamespace}()),P=d.firstCreatePass?function Aa(r,s,o,u,c,d,m){const E=s.consts,P=Fc(s,r,2,c,pr(E,d));return Em(s,o,P,pr(E,m)),null!==P.attrs&&uh(P,P.attrs,!1),null!==P.mergedAttrs&&uh(P,P.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,P),P}(m,d,c,0,s,o,u):d.data[m];Zr(P,!0);const V=P.mergedAttrs;null!==V&&lu(E,D,V);const z=P.classes;null!==z&&Mg(E,D,z);const le=P.styles;return null!==le&&e_(E,D,le),64!=(64&P.flags)&&Cg(d,c,D,P),0===function Ys(){return en.lFrame.elementDepthCount}()&&Gs(D,c),function Ls(){en.lFrame.elementDepthCount++}(),ps(P)&&(Qd(d,c,P),$f(d,P,c)),null!==u&&jf(c,P),Zf}function sl(){let r=Rr();Qo()?Jo():(r=r.parent,Zr(r,!1));const s=r;!function ha(){en.lFrame.elementDepthCount--}();const o=gn();return o.firstCreatePass&&(Lo(o,r),Ns(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function uu(r){return 0!=(16&r.flags)}(s)&&jc(o,s,Ye(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function wd(r){return 0!=(32&r.flags)}(s)&&jc(o,s,Ye(),s.stylesWithoutHost,!1),sl}function Za(r,s,o,u){return Zf(r,s,o,u),sl(),Za}function Qa(r,s,o){const u=Ye(),c=gn(),d=r+22,m=c.firstCreatePass?function nT(r,s,o,u,c){const d=s.consts,m=pr(d,u),E=Fc(s,r,8,"ng-container",m);return null!==m&&uh(E,m,!0),Em(s,o,E,pr(d,c)),null!==s.queries&&s.queries.elementStart(s,E),E}(d,c,u,s,o):c.data[d];Zr(m,!0);const E=u[d]=u[11].createComment("");return Cg(c,u,E,m),Gs(E,u),ps(m)&&(Qd(c,u,m),$f(c,m,u)),null!=o&&jf(u,m),Qa}function mh(){let r=Rr();const s=gn();return Qo()?Jo():(r=r.parent,Zr(r,!1)),s.firstCreatePass&&(Lo(s,r),Ns(r)&&s.queries.elementEnd(r)),mh}function dw(){return Ye()}function Um(r){return!!r&&"function"==typeof r.then}function Eo(r){return!!r&&"function"==typeof r.subscribe}const hw=Eo;function Tu(r,s,o,u){const c=Ye(),d=gn(),m=Rr();return function Bm(r,s,o,u,c,d,m,E){const D=ps(u),V=r.firstCreatePass&&Mm(r),z=s[8],le=Am(s);let Ee=!0;if(3&u.type||E){const mt=xr(u,s),Pt=E?E(mt):mt,zt=le.length,Qe=E?ir=>E(un(ir[u.index])):u.index;let cn=null;if(!E&&D&&(cn=function Gl(r,s,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const E=s[7],D=c[d+2];return E.length>D?E[D]:null}"string"==typeof m&&(d+=2)}return null}(r,s,c,u.index)),null!==cn)(cn.__ngLastListenerFn__||cn).__ngNextListenerFn__=d,cn.__ngLastListenerFn__=d,Ee=!1;else{d=Gc(u,s,z,d,!1);const ir=o.listen(Pt,c,d);le.push(d,ir),V&&V.push(c,Qe,zt,zt+1)}}else d=Gc(u,s,z,d,!1);const He=u.outputs;let it;if(Ee&&null!==He&&(it=He[c])){const mt=it.length;if(mt)for(let Pt=0;Pt<mt;Pt+=2){const Lr=s[it[Pt]][it[Pt+1]].subscribe(d),vl=le.length;le.push(d,Lr),V&&V.push(c,u.index,vl,-(vl+1))}}}(d,c,c[11],m,r,s,0,u),Tu}function Hc(r,s,o,u){try{return!1!==o(u)}catch(c){return ah(r,c),!1}}function Gc(r,s,o,u,c){return function d(m){if(m===Function)return u;Uc(2&r.flags?ai(r.index,s):s);let D=Hc(s,0,u,m),P=d.__ngNextListenerFn__;for(;P;)D=Hc(s,0,P,m)&&D,P=P.__ngNextListenerFn__;return c&&!1===D&&(m.preventDefault(),m.returnValue=!1),D}}function $m(r=1){return function Bn(r){return(en.lFrame.contextLView=function Sn(r,s){for(;r>0;)s=s[15],r--;return s}(r,en.lFrame.contextLView))[8]}(r)}function Rb(r,s){let o=null;const u=function MI(r){const s=r.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(r);for(let c=0;c<s.length;c++){const d=s[c];if("*"!==d){if(null===u?C_(r,d,!0):S_(u,d))return c}else o=c}return o}function Ui(r){const s=Ye()[16][6];if(!s.projection){const u=s.projection=gr(r?r.length:1,null),c=u.slice();let d=s.child;for(;null!==d;){const m=r?Rb(d,r):0;null!==m&&(c[m]?c[m].projectionNext=d:u[m]=d,c[m]=d),d=d.next}}}function fw(r,s=0,o){const u=Ye(),c=gn(),d=Fc(c,22+r,16,null,o||null);null===d.projection&&(d.projection=s),Jo(),64!=(64&d.flags)&&function bs(r,s,o){Xv(s[11],0,s,o,z0(r,o,s),Y0(o.parent||s[6],o,s))}(c,u,d)}function zl(r,s,o,u,c){const d=r[o+1],m=null===s;let E=u?Br(d):qa(d),D=!1;for(;0!==E&&(!1===D||m);){const V=r[E+1];Hm(r[E],s)&&(D=!0,r[E+1]=u?Ff(V):xc(V)),E=u?Br(V):qa(V)}D&&(r[o+1]=u?xc(d):Ff(d))}function Hm(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&M(r,s)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ep(r){return r.substring(jr.key,jr.keyEnd)}function Gm(r,s){const o=jr.textEnd;return o===s?-1:(s=jr.keyEnd=function rT(r,s,o){for(;s<o&&r.charCodeAt(s)>32;)s++;return s}(r,jr.key=s,o),qc(r,s,o))}function qc(r,s,o){for(;s<o&&r.charCodeAt(s)<=32;)s++;return s}function np(r,s,o){return sa(r,s,o,!1),np}function zn(r,s){return sa(r,s,null,!0),zn}function rp(r){!function oa(r,s,o,u){const c=gn(),d=ts(2);c.firstUpdatePass&&Ym(c,null,d,u);const m=Ye();if(o!==Dn&&no(m,d,o)){const E=c.data[An()];if(as(E,u)&&!Km(c,d)){let D=u?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(o=kt(D,o||"")),jc(c,E,m,o,u)}else!function uT(r,s,o,u,c,d,m,E){c===Dn&&(c=Se);let D=0,P=0,V=0<c.length?c[0]:null,z=0<d.length?d[0]:null;for(;null!==V||null!==z;){const le=D<c.length?c[D+1]:void 0,Ee=P<d.length?d[P+1]:void 0;let it,He=null;V===z?(D+=2,P+=2,le!==Ee&&(He=z,it=Ee)):null===z||null!==V&&V<z?(D+=2,He=V):(P+=2,He=z,it=Ee),null!==He&&Wl(r,s,o,u,He,it,m,E),V=D<c.length?c[D]:null,z=P<d.length?d[P]:null}}(c,E,m,m[11],m[d+1],m[d+1]=function vw(r,s,o){if(null==o||""===o)return Se;const u=[],c=za(o);if(Array.isArray(c))for(let d=0;d<c.length;d++)r(u,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&r(u,d,c[d]);else"string"==typeof c&&s(u,c);return u}(r,s,o),u,d)}}(g,xa,r,!0)}function xa(r,s){for(let o=function gw(r){return function zm(r){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=r.length}(r),Gm(r,qc(r,0,jr.textEnd))}(s);o>=0;o=Gm(s,o))g(r,ep(s),!0)}function sa(r,s,o,u){const c=Ye(),d=gn(),m=ts(2);d.firstUpdatePass&&Ym(d,r,m,u),s!==Dn&&no(c,m,s)&&Wl(d,d.data[An()],c,c[11],r,c[m+1]=function sp(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=Ct(za(r)))),r}(s,o),u,m)}function Km(r,s){return s>=r.expandoStartIndex}function Ym(r,s,o,u){const c=r.data;if(null===c[o+1]){const d=c[An()],m=Km(r,o);as(d,u)&&null===s&&!m&&(s=!1),s=function yw(r,s,o,u){const c=ja(r);let d=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=_h(o=ip(null,r,s,o,u),s.attrs,u),d=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==c)if(o=ip(c,r,s,o,u),null===d){let D=function sT(r,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==qa(u))return r[Br(u)]}(r,s,u);void 0!==D&&Array.isArray(D)&&(D=ip(null,r,s,D[1],u),D=_h(D,s.attrs,u),function oT(r,s,o,u){r[Br(o?s.classBindings:s.styleBindings)]=u}(r,s,u,D))}else d=function aT(r,s,o){let u;const c=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<c;d++)u=_h(u,r[d].hostAttrs,o);return _h(u,s.attrs,o)}(r,s,u)}return void 0!==d&&(u?s.residualClasses=d:s.residualStyles=d),o}(c,d,s,u),function ul(r,s,o,u,c,d){let m=d?s.classBindings:s.styleBindings,E=Br(m),D=qa(m);r[u]=o;let V,P=!1;if(Array.isArray(o)){const z=o;V=z[1],(null===V||M(z,V)>0)&&(P=!0)}else V=o;if(c)if(0!==D){const le=Br(r[E+1]);r[u+1]=jd(le,E),0!==le&&(r[le+1]=Gd(r[le+1],u)),r[E+1]=function Hd(r,s){return 131071&r|s<<17}(r[E+1],u)}else r[u+1]=jd(E,0),0!==E&&(r[E+1]=Gd(r[E+1],u)),E=u;else r[u+1]=jd(D,0),0===E?E=u:r[D+1]=Gd(r[D+1],u),D=u;P&&(r[u+1]=xc(r[u+1])),zl(r,V,u,!0),zl(r,V,u,!1),function pw(r,s,o,u,c){const d=c?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof s&&M(d,s)>=0&&(o[u+1]=Ff(o[u+1]))}(s,V,r,u,d),m=jd(E,D),d?s.classBindings=m:s.styleBindings=m}(c,d,s,o,m,u)}}function ip(r,s,o,u,c){let d=null;const m=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<m&&(d=s[E],u=_h(u,d.hostAttrs,c),d!==r);)E++;return null!==r&&(o.directiveStylingLast=E),u}function _h(r,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let d=0;d<s.length;d++){const m=s[d];"number"==typeof m?c=m:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),g(r,m,!!o||s[++d]))}return void 0===r?null:r}function Wl(r,s,o,u,c,d,m,E){if(!(3&s.type))return;const D=r.data,P=D[E+1];Hr(function am(r){return 1==(1&r)}(P)?ww(D,s,o,c,qa(P),m):void 0)||(Hr(d)||function om(r){return 2==(2&r)}(P)&&(d=ww(D,null,o,c,E,m)),function Ag(r,s,o,u,c){if(s)c?r.addClass(o,u):r.removeClass(o,u);else{let d=-1===u.indexOf("-")?void 0:Ia.DashCase;null==c?r.removeStyle(o,u,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Ia.Important),r.setStyle(o,u,c,d))}}(u,m,ks(An(),o),c,d))}function ww(r,s,o,u,c,d){const m=null===s;let E;for(;c>0;){const D=r[c],P=Array.isArray(D),V=P?D[1]:D,z=null===V;let le=o[c+1];le===Dn&&(le=z?Se:void 0);let Ee=z?I(le,u):V===u?le:void 0;if(P&&!Hr(Ee)&&(Ee=I(D,u)),Hr(Ee)&&(E=Ee,m))return E;const He=r[c+1];c=m?Br(He):qa(He)}if(null!==s){let D=d?s.residualClasses:s.residualStyles;null!=D&&(E=I(D,u))}return E}function Hr(r){return void 0!==r}function as(r,s){return 0!=(r.flags&(s?16:32))}function br(r,s=""){const o=Ye(),u=gn(),c=r+22,d=u.firstCreatePass?Fc(u,c,1,s,null):u.data[c],m=o[c]=function qv(r,s){return r.createText(s)}(o[11],s);Cg(u,o,m,d),Zr(d,!1)}function op(r){return Cu("",r,""),op}function Cu(r,s,o){const u=Ye(),c=function Sr(r,s,o,u){return no(r,ui(),o)?s+Ze(o)+u:Dn}(u,r,s,o);return c!==Dn&&function Ka(r,s,o){const u=ks(s,r);!function j0(r,s,o){r.setValue(s,o)}(r[11],u,o)}(u,An(),c),Cu}function fp(r,s,o){const u=Ye();if(no(u,ui(),s)){const d=gn(),m=hn();As(d,m,u,r,s,function xm(r,s,o){return(null===r||fi(r))&&(o=function _s(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(o[s.index])),o[11]}(ja(d.data),m,u),o,!0)}return fp}const aa=void 0;var xw=["en",[["a","p"],["AM","PM"],aa],[["AM","PM"],aa,aa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],aa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],aa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",aa,"{1} 'at' {0}",aa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kl(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let ua={};function dl(r){const s=function ei(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Qc(s);if(o)return o;const u=s.split("-")[0];if(o=Qc(u),o)return o;if("en"===u)return xw;throw new _e(701,!1)}function oy(r){return dl(r)[pn.PluralCase]}function Qc(r){return r in ua||(ua[r]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[r]),ua[r]}var pn=(()=>((pn=pn||{})[pn.LocaleId=0]="LocaleId",pn[pn.DayPeriodsFormat=1]="DayPeriodsFormat",pn[pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",pn[pn.DaysFormat=3]="DaysFormat",pn[pn.DaysStandalone=4]="DaysStandalone",pn[pn.MonthsFormat=5]="MonthsFormat",pn[pn.MonthsStandalone=6]="MonthsStandalone",pn[pn.Eras=7]="Eras",pn[pn.FirstDayOfWeek=8]="FirstDayOfWeek",pn[pn.WeekendRange=9]="WeekendRange",pn[pn.DateFormat=10]="DateFormat",pn[pn.TimeFormat=11]="TimeFormat",pn[pn.DateTimeFormat=12]="DateTimeFormat",pn[pn.NumberSymbols=13]="NumberSymbols",pn[pn.NumberFormats=14]="NumberFormats",pn[pn.CurrencyCode=15]="CurrencyCode",pn[pn.CurrencySymbol=16]="CurrencySymbol",pn[pn.CurrencyName=17]="CurrencyName",pn[pn.Currencies=18]="Currencies",pn[pn.Directionality=19]="Directionality",pn[pn.PluralCase=20]="PluralCase",pn[pn.ExtraData=21]="ExtraData",pn))();const Yl="en-US";let Ja=Yl;function vy(r,s,o,u,c){if(r=dt(r),Array.isArray(r))for(let d=0;d<r.length;d++)vy(r[d],s,o,u,c);else{const d=gn(),m=Ye();let E=mu(r)?r:dt(r.provide),D=wI(r);const P=Rr(),V=1048575&P.providerIndexes,z=P.directiveStart,le=P.providerIndexes>>20;if(mu(r)||!r.multi){const Ee=new po(D,c,yu),He=wy(E,s,c?V:V+le,z);-1===He?(Is(Bo(P,m),d,E),_y(d,r,s.length),s.push(E),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),o.push(Ee),m.push(Ee)):(o[He]=Ee,m[He]=Ee)}else{const Ee=wy(E,s,V+le,z),He=wy(E,s,V,V+le),it=Ee>=0&&o[Ee],mt=He>=0&&o[He];if(c&&!mt||!c&&!it){Is(Bo(P,m),d,E);const Pt=function RT(r,s,o,u,c){const d=new po(r,o,yu);return d.multi=[],d.index=s,d.componentProviders=0,Yw(d,c,u&&!o),d}(c?xT:MT,o.length,c,u,D);!c&&mt&&(o[He].providerFactory=Pt),_y(d,r,s.length,0),s.push(E),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),o.push(Pt),m.push(Pt)}else _y(d,r,Ee>-1?Ee:He,Yw(o[c?He:Ee],D,!c&&u));!c&&u&&mt&&o[He].componentProviders++}}}function _y(r,s,o,u){const c=mu(s),d=function v_(r){return!!r.useClass}(s);if(c||d){const D=(d?dt(s.useClass):s).prototype.ngOnDestroy;if(D){const P=r.destroyHooks||(r.destroyHooks=[]);if(!c&&s.multi){const V=P.indexOf(o);-1===V?P.push(o,[u,D]):P[V+1].push(u,D)}else P.push(o,D)}}}function Yw(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function wy(r,s,o,u){for(let c=o;c<u;c++)if(s[c]===r)return c;return-1}function MT(r,s,o,u){return Ey(this.multi,[])}function xT(r,s,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=N(o,o[1],this.providerFactory.index,u);d=E.slice(0,m),Ey(c,d);for(let D=m;D<E.length;D++)d.push(E[D])}else d=[],Ey(c,d);return d}function Ey(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function Zw(r,s=[]){return o=>{o.providersResolver=(u,c)=>function AT(r,s,o){const u=gn();if(u.firstCreatePass){const c=fi(r);vy(o,u.data,u.blueprint,c,!0),vy(s,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,s)}}class Jl{}class Qw{}function Jw(r,s){return new Xw(r,s??null)}class Xw extends Jl{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ch(this);const u=Qt(s);this._bootstrapComponents=Da(u.bootstrap),this._r3Injector=Pf(s,o,[{provide:Jl,useValue:this},{provide:Od,useValue:this.componentFactoryResolver}],Ct(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Rh extends Qw{constructor(s){super(),this.moduleType=s}create(s){return new Xw(this.moduleType,s)}}class ls extends Jl{constructor(s,o,u){super(),this.componentFactoryResolver=new ch(this),this.instance=null;const c=new w_([...s,{provide:Jl,useValue:this},{provide:Od,useValue:this.componentFactoryResolver}],o||$g(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Nh(r,s,o=null){return new ls(r,s,o).injector}let Iy=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=mI(0,o.type),c=u.length>0?Nh([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=On({token:r,providedIn:"environment",factory:()=>new r(Qr(kl))}),r})();function Tp(r){r.getStandaloneInjector=s=>s.get(Iy).getOrCreateStandaloneInjector(r)}function oE(r,s,o,u,c,d){const m=s+o;return no(r,m,c)?function Sa(r,s,o){return r[s]=o}(r,m+1,d?u.call(d,c):u(c)):function sd(r,s){const o=r[s];return o===Dn?void 0:o}(r,m+1)}function Sy(r,s){const o=gn();let u;const c=r+22;o.firstCreatePass?(u=function Ay(r,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(r===u.name)return u}}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const d=u.factory||(u.factory=Ro(u.type)),m=En(yu);try{const E=mo(!1),D=d();return mo(E),function il(r,s,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=u}(o,Ye(),c,D),D}finally{En(m)}}function My(r,s,o){const u=r+22,c=Ye(),d=function Os(r,s){return r[s]}(c,u);return function Lh(r,s){return r[1].data[s].pure}(c,u)?oE(c,function pi(){const r=en.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}(),s,d.transform,o,d):d.transform(o)}function ic(r){return s=>{setTimeout(r,void 0,s)}}const $o=class lE extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let c=s,d=o||(()=>null),m=u;if(s&&"object"==typeof s){const D=s;c=D.next?.bind(D),d=D.error?.bind(D),m=D.complete?.bind(D)}this.__isAsync&&(d=ic(d),c&&(c=ic(c)),m&&(m=ic(m)));const E=super.subscribe({next:c,error:d,complete:m});return s instanceof L.w0&&s.add(E),E}};function Uh(){return this._results[$r()]()}class xp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=$r(),u=xp.prototype;u[o]||(u[o]=Uh)}get changes(){return this._changes||(this._changes=new $o)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=ur(s);(this._changesDetected=!function mi(r,s,o){if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=s[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let od=(()=>{class r{}return r.__NG_ELEMENT_ID__=Rp,r})();const Do=od,cE=class extends Do{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s,o){const u=this._declarationTContainer.tViews,c=vu(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(u)),vm(u,c,s),new lh(c)}};function Rp(){return sc(Rr(),Ye())}function sc(r,s){return 4&r.type?new cE(s,r,Dc(r,s)):null}let Vh=(()=>{class r{}return r.__NG_ELEMENT_ID__=gl,r})();function gl(){return oc(Rr(),Ye())}const ad=Vh,Ry=class extends ad{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new de(this._hostTNode,this._hostLView)}get parentInjector(){const s=yo(this._hostTNode,this._hostLView);if(ju(s)){const o=Uo(s,this._hostLView),u=ya(s);return new de(o[1].data[u+8],o)}return new de(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=ml(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){let c,d;"number"==typeof u?c=u:null!=u&&(c=u.index,d=u.injector);const m=s.createEmbeddedView(o||{},d);return this.insert(m,c),m}createComponent(s,o,u,c,d){const m=s&&!function Dr(r){return"function"==typeof r}(s);let E;if(m)E=o;else{const z=o||{};E=z.index,u=z.injector,c=z.projectableNodes,d=z.environmentInjector||z.ngModuleRef}const D=m?s:new dh(G(s)),P=u||this.parentInjector;if(!d&&null==D.ngModule){const le=(m?P:this.parentInjector).get(kl,null);le&&(d=le)}const V=D.create(P,c,void 0,d);return this.insert(V.hostView,E),V}insert(s,o){const u=s._lView,c=u[1];if(function No(r){return Er(r[3])}(u)){const V=this.indexOf(s);if(-1!==V)this.detach(V);else{const z=u[3],le=new Ry(z,z[6],z[3]);le.detach(le.indexOf(s))}}const d=this._adjustIndex(o),m=this._lContainer;!function ib(r,s,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=s),u<d-10?(s[4]=o[c],wa(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function sb(r,s){const o=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===o?r[9]=[s]:o.push(s)}(m,s);const E=s[19];null!==E&&E.insertView(r),s[2]|=64}(c,u,m,d);const E=Jv(d,m),D=u[11],P=bg(D,m[7]);return null!==P&&function tb(r,s,o,u,c,d){u[0]=c,u[6]=s,bd(r,u,o,1,c,d)}(c,m[6],D,u,P,E),s.attachToViewContainerRef(),wa(Ny(m),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=ml(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Yv(this._lContainer,o);u&&(fu(Ny(this._lContainer),o),G0(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=Yv(this._lContainer,o);return u&&null!=fu(Ny(this._lContainer),o)?new lh(u):null}_adjustIndex(s,o=0){return s??this.length+o}};function ml(r){return r[8]}function Ny(r){return r[8]||(r[8]=[])}function oc(r,s){let o;const u=s[r.index];if(Er(u))o=u;else{let c;if(8&r.type)c=un(u);else{const d=s[11];c=d.createComment("");const m=xr(r,s);mc(d,bg(d,m),c,function lb(r,s){return r.nextSibling(s)}(d,m),!1)}s[r.index]=o=tw(u,s,c,r),sh(s,o)}return new Ry(o,r,s)}class Py{constructor(s){this.queryList=s,this.matches=null}clone(){return new Py(this.queryList)}setDirty(){this.queryList.setDirty()}}class ky{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new ky(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Ki(s,o).matches&&this.queries[o].setDirty()}}class hE{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Oy{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(s,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Oy(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ud{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new ud(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(s,o,BT(o,d)),this.matchTNodeWithReadOption(s,o,T(o,s,d,!1,!1))}else u===od?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,T(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Fd||c===Vh||c===od&&4&o.type)this.addMatch(o.index,-2);else{const d=T(o,s,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function BT(r,s){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function fE(r,s,o,u){return-1===o?function $T(r,s){return 11&r.type?Dc(r,s):4&r.type?sc(r,s):null}(s,r):-2===o?function jT(r,s,o){return o===Fd?Dc(s,r):o===od?sc(s,r):o===Vh?oc(s,r):void 0}(r,s,u):N(r,r[1],o,s)}function Fy(r,s,o,u){const c=s[19].queries[u];if(null===c.matches){const d=r.data,m=o.matches,E=[];for(let D=0;D<m.length;D+=2){const P=m[D];E.push(P<0?null:fE(s,d[P],m[D+1],o.metadata.read))}c.matches=E}return c.matches}function Mu(r,s,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const m=Fy(r,s,c,o);for(let E=0;E<d.length;E+=2){const D=d[E];if(D>0)u.push(m[E/2]);else{const P=d[E+1],V=s[-D];for(let z=10;z<V.length;z++){const le=V[z];le[17]===le[3]&&Mu(le[1],le,P,u)}if(null!==V[9]){const z=V[9];for(let le=0;le<z.length;le++){const Ee=z[le];Mu(Ee[1],Ee,P,u)}}}}}return u}function ld(r){const s=Ye(),o=gn(),u=b();O(u+1);const c=Ki(o,u);if(r.dirty&&function $a(r){return 4==(4&r[2])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?Mu(o,s,u,[]):Fy(o,s,c,u);r.reset(d,II),r.notifyOnChanges()}return!0}return!1}function Ly(r,s,o){const u=gn();u.firstCreatePass&&(yE(u,new hE(r,s,o),-1),2==(2&s)&&(u.staticViewQueries=!0)),mE(u,Ye(),s)}function Uy(r,s,o,u){const c=gn();if(c.firstCreatePass){const d=Rr();yE(c,new hE(s,o,u),d.index),function Vy(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}mE(c,Ye(),o)}function pE(){return function gE(r,s){return r[19].queries[s].queryList}(Ye(),b())}function mE(r,s,o){const u=new xp(4==(4&o));Xd(r,s,u,u.destroy),null===s[19]&&(s[19]=new ky),s[19].queries.push(new Py(u))}function yE(r,s,o){null===r.queries&&(r.queries=new Oy),r.queries.track(new ud(s,o))}function Ki(r,s){return r.queries.getByIndex(s)}function jp(...r){}const hd=new _n("Application Initializer");let fd=(()=>{class r{constructor(o){this.appInits=o,this.resolve=jp,this.reject=jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Um(d))o.push(d);else if(hw(d)){const m=new Promise((E,D)=>{d.subscribe({complete:E,error:D})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Qr(hd,8))},r.\u0275prov=On({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const cc=new _n("AppId",{providedIn:"root",factory:function Hp(){return`${dc()}${dc()}${dc()}`}});function dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gp=new _n("Platform Initializer"),CE=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zp=new _n("appBootstrapListener"),xu=new _n("AnimationModuleType");let AE=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=On({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const pd=new _n("LocaleId",{providedIn:"root",factory:()=>C(pd,lt.Optional|lt.SkipSelf)||function XT(){return typeof $localize<"u"&&$localize.locale||Yl}()}),eD=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wp{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let rv=(()=>{class r{compileModuleSync(o){return new Rh(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),d=Da(Qt(o).declarations).reduce((m,E)=>{const D=G(E);return D&&m.push(new dh(D)),m},[]);return new Wp(u,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=On({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const nD=(()=>Promise.resolve(0))();function Gh(r){typeof Zone>"u"?nD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class bo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $o(!1),this.onMicrotaskEmpty=new $o(!1),this.onStable=new $o(!1),this.onError=new $o(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function rD(){let r=Wt.requestAnimationFrame,s=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function sv(r){const s=()=>{!function sD(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Wt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,qp(r),r.isCheckStableRunning=!0,zh(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),qp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,E)=>{try{return Kp(r),o.invokeTask(c,d,m,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&s(),Yp(r)}},onInvoke:(o,u,c,d,m,E,D)=>{try{return Kp(r),o.invoke(c,d,m,E,D)}finally{r.shouldCoalesceRunChangeDetection&&s(),Yp(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,qp(r),zh(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new _e(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,s,iD,jp,jp);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const iD={};function zh(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function qp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Kp(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Yp(r){r._nesting--,zh(r)}class ov{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $o,this.onMicrotaskEmpty=new $o,this.onStable=new $o,this.onError=new $o}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}const hc=new _n(""),Ru=new _n("");let Zp,av=(()=>{class r{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zp||(function gd(r){Zp=r}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),Gh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gh(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Qr(bo),Qr(fc),Qr(Ru))},r.\u0275prov=On({token:r,factory:r.\u0275fac}),r})(),fc=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Zp?.findTestabilityInTree(this,o,u)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=On({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),jo=null;const kE=new _n("AllowMultipleToken"),uv=new _n("PlatformDestroyListeners");class oD{constructor(s,o){this.name=s,this.token=o}}function hv(r,s,o=[]){const u=`Platform: ${s}`,c=new _n(u);return(d=[])=>{let m=Jp();if(!m||m.injector.get(kE,!1)){const E=[...o,...d,{provide:c,useValue:!0}];r?r(E):function aD(r){if(jo&&!jo.get(kE,!1))throw new _e(400,!1);jo=r;const s=r.get(pv);(function Qp(r){const s=r.get(Gp,null);s&&s.forEach(o=>o())})(r)}(function fv(r=[],s){return Jr.create({name:s,providers:[{provide:__,useValue:"platform"},{provide:uv,useValue:new Set([()=>jo=null])},...r]})}(E,u))}return function uD(r){const s=Jp();if(!s)throw new _e(401,!1);return s}()}}function Jp(){return jo?.get(pv)??null}let pv=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function LE(r,s){let o;return o="noop"===r?new ov:("zone.js"===r?void 0:r)||new bo(s),o}(u?.ngZone,function FE(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(u)),d=[{provide:bo,useValue:c}];return c.run(()=>{const m=Jr.create({providers:d,parent:this.injector,name:o.moduleType.name}),E=o.create(m),D=E.injector.get(Cc,null);if(!D)throw new _e(402,!1);return c.runOutsideAngular(()=>{const P=c.onError.subscribe({next:V=>{D.handleError(V)}});E.onDestroy(()=>{yd(this._modules,E),P.unsubscribe()})}),function UE(r,s,o){try{const u=o();return Um(u)?u.catch(c=>{throw s.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>r.handleError(u)),u}}(D,c,()=>{const P=E.injector.get(fd);return P.runInitializers(),P.donePromise.then(()=>(function ay(r){st(r,"Expected localeId to be defined"),"string"==typeof r&&(Ja=r.toLowerCase().replace(/_/g,"-"))}(E.injector.get(pd,Yl)||Yl),this._moduleDoBootstrap(E),E))})})}bootstrapModule(o,u=[]){const c=VE({},u);return function lv(r,s,o){const u=new Rh(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(md);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new _e(403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(uv,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Qr(Jr))},r.\u0275prov=On({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function VE(r,s){return Array.isArray(s)?s.reduce(VE,r):{...r,...s}}let md=(()=>{class r{constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new te.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),m=new te.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),Gh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),P.unsubscribe()}});this.isStable=function qe(...r){const s=(0,$e.yG)(r),o=(0,$e._6)(r,1/0),u=r;return u.length?1===u.length?(0,W.Xf)(u[0]):(0,ve.J)(o)((0,Be.D)(u,s)):Ce.E}(d,m.pipe(function Pe(r={}){const{connector:s=(()=>new w.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=r;return d=>{let m,E,D,P=0,V=!1,z=!1;const le=()=>{E?.unsubscribe(),E=void 0},Ee=()=>{le(),m=D=void 0,V=z=!1},He=()=>{const it=m;Ee(),it?.unsubscribe()};return(0,ue.e)((it,mt)=>{P++,!z&&!V&&le();const Pt=D=D??s();mt.add(()=>{P--,0===P&&!z&&!V&&(E=nt(He,c))}),Pt.subscribe(mt),!m&&P>0&&(m=new oe.Hp({next:zt=>Pt.next(zt),error:zt=>{z=!0,le(),E=nt(Ee,o,zt),Pt.error(zt)},complete:()=>{V=!0,le(),E=nt(Ee,u),Pt.complete()}}),(0,W.Xf)(it).subscribe(m))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,u){const c=o instanceof Ef;if(!this._injector.get(fd).done)throw!c&&Ut(o),new _e(405,false);let m;m=c?o:this._injector.get(Od).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const E=function cv(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Jl),P=m.create(Jr.NULL,[],u||m.selector,E),V=P.location.nativeElement,z=P.injector.get(hc,null);return z?.registerApplication(V),P.onDestroy(()=>{this.detachView(P.hostView),yd(this.components,P),z?.unregisterApplication(V)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;yd(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(zp,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>yd(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new _e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(Qr(bo),Qr(kl),Qr(Cc))},r.\u0275prov=On({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function yd(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}let eg=!0;function jE(){eg=!1}let gv=(()=>{class r{}return r.__NG_ELEMENT_ID__=hD,r})();function hD(r){return function mv(r,s,o){if(fr(r)&&!o){const u=ai(r.index,s);return new lh(u,u)}return 47&r.type?new lh(s[16],s):null}(Rr(),Ye(),16==(16&r))}class JE{constructor(){}supports(s){return hh(s)}create(s){return new XE(s)}}const Tv=(r,s)=>s;class XE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Tv}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<n0(u,c,d)?o:u,E=n0(m,c,d),D=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const P=E-c,V=D-c;if(P!=V){for(let le=0;le<P;le++){const Ee=le<d.length?d[le]:d[le]=0,He=Ee+le;V<=He&&He<P&&(d[le]=Ee+1)}d[m.previousIndex]=V-P}}E!==D&&s(m,E,D)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!hh(s))throw new _e(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)d=s[E],m=this._trackByFn(E,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,E)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,E),u=!0),o=o._next}else c=0,function eT(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[$r()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,E=>{m=this._trackByFn(c,E),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,E,m,c)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,c)):s=this._addAfter(new Dv(o,u),d,c),s}_verifyReinsertion(s,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?s=this._reinsertAfter(d,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,d=s._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new t0),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new t0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Dv{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class t0{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new e0,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function n0(r,s,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class tg{constructor(){}supports(s){return s instanceof Map||Pm(s)}create(){return new fD}}class fD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Pm(s)))throw new _e(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new bv(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class bv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ng(){return new qh([new JE])}let qh=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||ng()),deps:[[r,new Jt,new Nt]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new _e(901,!1)}}return r.\u0275prov=On({token:r,providedIn:"root",factory:ng}),r})();function r0(){return new Cv([new tg])}let Cv=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||r0()),deps:[[r,new Jt,new Nt]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new _e(901,!1)}}return r.\u0275prov=On({token:r,providedIn:"root",factory:r0}),r})();const o0=hv(null,"core",[]);let a0=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Qr(md))},r.\u0275mod=In({type:r}),r.\u0275inj=Hn({}),r})();function rg(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},1481:(Bt,We,H)=>{H.d(We,{Dx:()=>ni,H7:()=>$t,b2:()=>hs,q6:()=>Mr,se:()=>ce});var w=H(6895),L=H(8256);class te extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends te{static makeCurrent(){(0,w.HT)(new ve)}onAndCancel(re,G,ge){return re.addEventListener(G,ge,!1),()=>{re.removeEventListener(G,ge,!1)}}dispatchEvent(re,G){re.dispatchEvent(G)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,G){return(G=G||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,G){return"window"===G?window:"document"===G?re:"body"===G?re.body:null}getBaseHref(re){const G=function Ce(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==G?null:function Be(pe){$e=$e||document.createElement("a"),$e.setAttribute("href",pe);const re=$e.pathname;return"/"===re.charAt(0)?re:`/${re}`}(G)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,w.Mx)(document.cookie,re)}}let $e,W=null;const qe=new L.OlP("TRANSITION_ID"),ue=[{provide:L.ip1,useFactory:function oe(pe,re,G){return()=>{G.get(L.CZH).donePromise.then(()=>{const ge=(0,w.q)(),Ve=re.querySelectorAll(`style[ng-transition="${pe}"]`);for(let Ut=0;Ut<Ve.length;Ut++)ge.remove(Ve[Ut])})}},deps:[qe,w.K0,L.zs3],multi:!0}];let nt=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(G){return new(G||pe)},pe.\u0275prov=L.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Ue=new L.OlP("EventManagerPlugins");let _t=(()=>{class pe{constructor(G,ge){this._zone=ge,this._eventNameToPlugin=new Map,G.forEach(Ve=>Ve.manager=this),this._plugins=G.slice().reverse()}addEventListener(G,ge,Ve){return this._findPluginFor(ge).addEventListener(G,ge,Ve)}addGlobalEventListener(G,ge,Ve){return this._findPluginFor(ge).addGlobalEventListener(G,ge,Ve)}getZone(){return this._zone}_findPluginFor(G){const ge=this._eventNameToPlugin.get(G);if(ge)return ge;const Ve=this._plugins;for(let Ut=0;Ut<Ve.length;Ut++){const Qt=Ve[Ut];if(Qt.supports(G))return this._eventNameToPlugin.set(G,Qt),Qt}throw new Error(`No event manager plugin found for event ${G}`)}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(Ue),L.LFG(L.R0b))},pe.\u0275prov=L.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Ct{constructor(re){this._doc=re}addGlobalEventListener(re,G,ge){const Ve=(0,w.q)().getGlobalEventTarget(this._doc,re);if(!Ve)throw new Error(`Unsupported event target ${Ve} for event ${G}`);return this.addEventListener(Ve,G,ge)}}let kt=(()=>{class pe{constructor(){this._stylesSet=new Set}addStyles(G){const ge=new Set;G.forEach(Ve=>{this._stylesSet.has(Ve)||(this._stylesSet.add(Ve),ge.add(Ve))}),this.onStylesAdded(ge)}onStylesAdded(G){}getAllStyles(){return Array.from(this._stylesSet)}}return pe.\u0275fac=function(G){return new(G||pe)},pe.\u0275prov=L.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Mt=(()=>{class pe extends kt{constructor(G){super(),this._doc=G,this._hostNodes=new Map,this._hostNodes.set(G.head,[])}_addStylesToHost(G,ge,Ve){G.forEach(Ut=>{const Qt=this._doc.createElement("style");Qt.textContent=Ut,Ve.push(ge.appendChild(Qt))})}addHost(G){const ge=[];this._addStylesToHost(this._stylesSet,G,ge),this._hostNodes.set(G,ge)}removeHost(G){const ge=this._hostNodes.get(G);ge&&ge.forEach(on),this._hostNodes.delete(G)}onStylesAdded(G){this._hostNodes.forEach((ge,Ve)=>{this._addStylesToHost(G,Ve,ge)})}ngOnDestroy(){this._hostNodes.forEach(G=>G.forEach(on))}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(w.K0))},pe.\u0275prov=L.Yz7({token:pe,factory:pe.\u0275fac}),pe})();function on(pe){(0,w.q)().remove(pe)}const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Le=/%COMP%/g;function ie(pe,re,G){for(let ge=0;ge<re.length;ge++){let Ve=re[ge];Array.isArray(Ve)?ie(pe,Ve,G):(Ve=Ve.replace(Le,pe),G.push(Ve))}return G}function Y(pe){return re=>{if("__ngUnwrap__"===re)return pe;!1===pe(re)&&(re.preventDefault(),re.returnValue=!1)}}let ce=(()=>{class pe{constructor(G,ge,Ve){this.eventManager=G,this.sharedStylesHost=ge,this.appId=Ve,this.rendererByCompId=new Map,this.defaultRenderer=new Fe(G)}createRenderer(G,ge){if(!G||!ge)return this.defaultRenderer;switch(ge.encapsulation){case L.ifc.Emulated:{let Ve=this.rendererByCompId.get(ge.id);return Ve||(Ve=new Un(this.eventManager,this.sharedStylesHost,ge,this.appId),this.rendererByCompId.set(ge.id,Ve)),Ve.applyToHost(G),Ve}case 1:case L.ifc.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,G,ge);default:if(!this.rendererByCompId.has(ge.id)){const Ve=ie(ge.id,ge.styles,[]);this.sharedStylesHost.addStyles(Ve),this.rendererByCompId.set(ge.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(_t),L.LFG(Mt),L.LFG(L.AFp))},pe.\u0275prov=L.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Fe{constructor(re){this.eventManager=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,G){return G?document.createElementNS(dt[G]||G,re):document.createElement(re)}createComment(re){return document.createComment(re)}createText(re){return document.createTextNode(re)}appendChild(re,G){(Xt(re)?re.content:re).appendChild(G)}insertBefore(re,G,ge){re&&(Xt(re)?re.content:re).insertBefore(G,ge)}removeChild(re,G){re&&re.removeChild(G)}selectRootElement(re,G){let ge="string"==typeof re?document.querySelector(re):re;if(!ge)throw new Error(`The selector "${re}" did not match any elements`);return G||(ge.textContent=""),ge}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,G,ge,Ve){if(Ve){G=Ve+":"+G;const Ut=dt[Ve];Ut?re.setAttributeNS(Ut,G,ge):re.setAttribute(G,ge)}else re.setAttribute(G,ge)}removeAttribute(re,G,ge){if(ge){const Ve=dt[ge];Ve?re.removeAttributeNS(Ve,G):re.removeAttribute(`${ge}:${G}`)}else re.removeAttribute(G)}addClass(re,G){re.classList.add(G)}removeClass(re,G){re.classList.remove(G)}setStyle(re,G,ge,Ve){Ve&(L.JOm.DashCase|L.JOm.Important)?re.style.setProperty(G,ge,Ve&L.JOm.Important?"important":""):re.style[G]=ge}removeStyle(re,G,ge){ge&L.JOm.DashCase?re.style.removeProperty(G):re.style[G]=""}setProperty(re,G,ge){re[G]=ge}setValue(re,G){re.nodeValue=G}listen(re,G,ge){return"string"==typeof re?this.eventManager.addGlobalEventListener(re,G,Y(ge)):this.eventManager.addEventListener(re,G,Y(ge))}}function Xt(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class Un extends Fe{constructor(re,G,ge,Ve){super(re),this.component=ge;const Ut=ie(Ve+"-"+ge.id,ge.styles,[]);G.addStyles(Ut),this.contentAttr=function we(pe){return"_ngcontent-%COMP%".replace(Le,pe)}(Ve+"-"+ge.id),this.hostAttr=function Ke(pe){return"_nghost-%COMP%".replace(Le,pe)}(Ve+"-"+ge.id)}applyToHost(re){super.setAttribute(re,this.hostAttr,"")}createElement(re,G){const ge=super.createElement(re,G);return super.setAttribute(ge,this.contentAttr,""),ge}}class Vt extends Fe{constructor(re,G,ge,Ve){super(re),this.sharedStylesHost=G,this.hostEl=ge,this.shadowRoot=ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ut=ie(Ve.id,Ve.styles,[]);for(let Qt=0;Qt<Ut.length;Qt++){const Cn=document.createElement("style");Cn.textContent=Ut[Qt],this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(re,G){return super.appendChild(this.nodeOrShadowRoot(re),G)}insertBefore(re,G,ge){return super.insertBefore(this.nodeOrShadowRoot(re),G,ge)}removeChild(re,G){return super.removeChild(this.nodeOrShadowRoot(re),G)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}}let yn=(()=>{class pe extends Ct{constructor(G){super(G)}supports(G){return!0}addEventListener(G,ge,Ve){return G.addEventListener(ge,Ve,!1),()=>this.removeEventListener(G,ge,Ve)}removeEventListener(G,ge,Ve){return G.removeEventListener(ge,Ve)}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(w.K0))},pe.\u0275prov=L.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Qn=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let fe=(()=>{class pe extends Ct{constructor(G){super(G)}supports(G){return null!=pe.parseEventName(G)}addEventListener(G,ge,Ve){const Ut=pe.parseEventName(ge),Qt=pe.eventCallback(Ut.fullKey,Ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(G,Ut.domEventName,Qt))}static parseEventName(G){const ge=G.toLowerCase().split("."),Ve=ge.shift();if(0===ge.length||"keydown"!==Ve&&"keyup"!==Ve)return null;const Ut=pe._normalizeKey(ge.pop());let Qt="",Cn=ge.indexOf("code");if(Cn>-1&&(ge.splice(Cn,1),Qt="code."),Qn.forEach(nn=>{const Xn=ge.indexOf(nn);Xn>-1&&(ge.splice(Xn,1),Qt+=nn+".")}),Qt+=Ut,0!=ge.length||0===Ut.length)return null;const at={};return at.domEventName=Ve,at.fullKey=Qt,at}static matchEventFullKeyCode(G,ge){let Ve=Me[G.key]||G.key,Ut="";return ge.indexOf("code.")>-1&&(Ve=G.code,Ut="code."),!(null==Ve||!Ve)&&(Ve=Ve.toLowerCase()," "===Ve?Ve="space":"."===Ve&&(Ve="dot"),Qn.forEach(Qt=>{Qt!==Ve&&(0,rt[Qt])(G)&&(Ut+=Qt+".")}),Ut+=Ve,Ut===ge)}static eventCallback(G,ge,Ve){return Ut=>{pe.matchEventFullKeyCode(Ut,G)&&Ve.runGuarded(()=>ge(Ut))}}static _normalizeKey(G){return"esc"===G?"escape":G}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(w.K0))},pe.\u0275prov=L.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Mr=(0,L.eFA)(L._c5,"browser",[{provide:L.Lbi,useValue:w.bD},{provide:L.g9A,useValue:function Ur(){ve.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function Gr(){return(0,L.RDi)(document),document},deps:[]}]),Mi=new L.OlP(""),ft=[{provide:L.rWj,useClass:class Pe{addToWindow(re){L.dqk.getAngularTestability=(ge,Ve=!0)=>{const Ut=re.findTestabilityInTree(ge,Ve);if(null==Ut)throw new Error("Could not find testability for element.");return Ut},L.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),L.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),L.dqk.frameworkStabilizers||(L.dqk.frameworkStabilizers=[]),L.dqk.frameworkStabilizers.push(ge=>{const Ve=L.dqk.getAllAngularTestabilities();let Ut=Ve.length,Qt=!1;const Cn=function(at){Qt=Qt||at,Ut--,0==Ut&&ge(Qt)};Ve.forEach(function(at){at.whenStable(Cn)})})}findTestabilityInTree(re,G,ge){return null==G?null:re.getTestability(G)??(ge?(0,w.q)().isShadowRoot(G)?this.findTestabilityInTree(re,G.host,!0):this.findTestabilityInTree(re,G.parentElement,!0):null)}},deps:[]},{provide:L.lri,useClass:L.dDg,deps:[L.R0b,L.eoX,L.rWj]},{provide:L.dDg,useClass:L.dDg,deps:[L.R0b,L.eoX,L.rWj]}],qn=[{provide:L.zSh,useValue:"root"},{provide:L.qLn,useFactory:function On(){return new L.qLn},deps:[]},{provide:Ue,useClass:yn,multi:!0,deps:[w.K0,L.R0b,L.Lbi]},{provide:Ue,useClass:fe,multi:!0,deps:[w.K0]},{provide:ce,useClass:ce,deps:[_t,Mt,L.AFp]},{provide:L.FYo,useExisting:ce},{provide:kt,useExisting:Mt},{provide:Mt,useClass:Mt,deps:[w.K0]},{provide:_t,useClass:_t,deps:[Ue,L.R0b]},{provide:w.JF,useClass:nt,deps:[]},[]];let hs=(()=>{class pe{constructor(G){}static withServerTransition(G){return{ngModule:pe,providers:[{provide:L.AFp,useValue:G.appId},{provide:qe,useExisting:L.AFp},ue]}}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(Mi,12))},pe.\u0275mod=L.oAB({type:pe}),pe.\u0275inj=L.cJS({providers:[...qn,...ft],imports:[w.ez,L.hGG]}),pe})(),ni=(()=>{class pe{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(w.K0))},pe.\u0275prov=L.Yz7({token:pe,factory:function(G){let ge=null;return ge=G?new G:function rr(){return new ni((0,L.LFG)(w.K0))}(),ge},providedIn:"root"}),pe})();typeof window<"u"&&window;let $t=(()=>{class pe{}return pe.\u0275fac=function(G){return new(G||pe)},pe.\u0275prov=L.Yz7({token:pe,factory:function(G){let ge=null;return ge=G?new(G||pe):L.LFG(_r),ge},providedIn:"root"}),pe})(),_r=(()=>{class pe extends $t{constructor(G){super(),this._doc=G}sanitize(G,ge){if(null==ge)return null;switch(G){case L.q3G.NONE:return ge;case L.q3G.HTML:return(0,L.qzn)(ge,"HTML")?(0,L.z3N)(ge):(0,L.EiD)(this._doc,String(ge)).toString();case L.q3G.STYLE:return(0,L.qzn)(ge,"Style")?(0,L.z3N)(ge):ge;case L.q3G.SCRIPT:if((0,L.qzn)(ge,"Script"))return(0,L.z3N)(ge);throw new Error("unsafe value used in a script context");case L.q3G.URL:return(0,L.qzn)(ge,"URL")?(0,L.z3N)(ge):(0,L.mCW)(String(ge));case L.q3G.RESOURCE_URL:if((0,L.qzn)(ge,"ResourceURL"))return(0,L.z3N)(ge);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${G} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(G){return(0,L.JVY)(G)}bypassSecurityTrustStyle(G){return(0,L.L6k)(G)}bypassSecurityTrustScript(G){return(0,L.eBb)(G)}bypassSecurityTrustUrl(G){return(0,L.LAX)(G)}bypassSecurityTrustResourceUrl(G){return(0,L.pB0)(G)}}return pe.\u0275fac=function(G){return new(G||pe)(L.LFG(w.K0))},pe.\u0275prov=L.Yz7({token:pe,factory:function(G){let ge=null;return ge=G?new G:function In(pe){return new _r(pe.get(w.K0))}(L.LFG(L.zs3)),ge},providedIn:"root"}),pe})()},5808:(Bt,We,H)=>{H.d(We,{F0:()=>Z,Od:()=>gt,yS:()=>ct,Bz:()=>ur,lC:()=>co});var w=H(8256),L=H(8996),te=H(9646),ve=H(1135);const Ce=(0,H(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var $e=H(9751),Be=H(4742),qe=H(4671),oe=H(3268),ue=H(7669),Pe=H(1810),nt=H(5403),Ue=H(9672);function _t(...y){const _=(0,ue.yG)(y),g=(0,ue.jO)(y),{args:I,keys:M}=(0,Be.D)(y);if(0===I.length)return(0,L.D)([],_);const U=new $e.y(function Ct(y,_,g=qe.y){return I=>{kt(_,()=>{const{length:M}=y,U=new Array(M);let q=M,X=M;for(let Ae=0;Ae<M;Ae++)kt(_,()=>{const ut=(0,L.D)(y[Ae],_);let fn=!1;ut.subscribe((0,nt.x)(I,Dt=>{U[Ae]=Dt,fn||(fn=!0,X--),X||I.next(g(U.slice()))},()=>{--q||I.complete()}))},I)},I)}}(I,_,M?q=>(0,Pe.n)(M,q):qe.y));return g?U.pipe((0,oe.Z)(g)):U}function kt(y,_,g){y?(0,Ue.f)(g,y,_):_()}var Mt=H(8189);function dt(...y){return function on(){return(0,Mt.J)(1)}()((0,L.D)(y,(0,ue.yG)(y)))}var Le=H(8421);function me(y){return new $e.y(_=>{(0,Le.Xf)(y()).subscribe(_)})}var _e=H(9635),Je=H(576);function Ze(y,_){const g=(0,Je.m)(y)?y:()=>y,I=M=>M.error(g());return new $e.y(_?M=>_.schedule(I,0,M):I)}var we=H(515),Ke=H(727),ie=H(4482);function Y(){return(0,ie.e)((y,_)=>{let g=null;y._refCount++;const I=(0,nt.x)(_,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const M=y._connection,U=g;g=null,M&&(!U||M===U)&&M.unsubscribe(),_.unsubscribe()});y.subscribe(I),I.closed||(g=y.connect())})}class ae extends $e.y{constructor(_,g){super(),this.source=_,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,ie.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new Ke.w0;const g=this.getSubject();_.add(this.source.subscribe((0,nt.x)(g,void 0,()=>{this._teardown(),g.complete()},I=>{this._teardown(),g.error(I)},()=>this._teardown()))),_.closed&&(this._connection=null,_=Ke.w0.EMPTY)}return _}refCount(){return Y()(this)}}var ce=H(7579),Fe=H(6895),Ne=H(4004);function bt(y,_){return(0,ie.e)((g,I)=>{let M=null,U=0,q=!1;const X=()=>q&&!M&&I.complete();g.subscribe((0,nt.x)(I,Ae=>{M?.unsubscribe();let ut=0;const fn=U++;(0,Le.Xf)(y(Ae,fn)).subscribe(M=(0,nt.x)(I,Dt=>I.next(_?_(Ae,Dt,fn,ut++):Dt),()=>{M=null,X()}))},()=>{q=!0,X()}))})}function Xt(y){return y<=0?()=>we.E:(0,ie.e)((_,g)=>{let I=0;_.subscribe((0,nt.x)(g,M=>{++I<=y&&(g.next(M),y<=I&&g.complete())}))})}var Vt=H(9300),yn=H(5577);function Qn(y){return(0,ie.e)((_,g)=>{let I=!1;_.subscribe((0,nt.x)(g,M=>{I=!0,g.next(M)},()=>{I||g.next(y),g.complete()}))})}function Me(y=rt){return(0,ie.e)((_,g)=>{let I=!1;_.subscribe((0,nt.x)(g,M=>{I=!0,g.next(M)},()=>I?g.complete():g.error(y())))})}function rt(){return new Ce}function fe(y,_){const g=arguments.length>=2;return I=>I.pipe(y?(0,Vt.h)((M,U)=>y(M,U,I)):qe.y,Xt(1),g?Qn(_):Me(()=>new Ce))}var Te=H(4351),st=H(8505);function yt(y){return(0,ie.e)((_,g)=>{let U,I=null,M=!1;I=_.subscribe((0,nt.x)(g,void 0,void 0,q=>{U=(0,Le.Xf)(y(q,yt(y)(_))),I?(I.unsubscribe(),I=null,U.subscribe(g)):M=!0})),M&&(I.unsubscribe(),I=null,U.subscribe(g))})}function wn(y,_,g,I,M){return(U,q)=>{let X=g,Ae=_,ut=0;U.subscribe((0,nt.x)(q,fn=>{const Dt=ut++;Ae=X?y(Ae,fn,Dt):(X=!0,fn),I&&q.next(Ae)},M&&(()=>{X&&q.next(Ae),q.complete()})))}}function Tn(y,_){return(0,ie.e)(wn(y,_,arguments.length>=2,!0))}function Ur(y){return y<=0?()=>we.E:(0,ie.e)((_,g)=>{let I=[];_.subscribe((0,nt.x)(g,M=>{I.push(M),y<I.length&&I.shift()},()=>{for(const M of I)g.next(M);g.complete()},void 0,()=>{I=null}))})}function On(y,_){const g=arguments.length>=2;return I=>I.pipe(y?(0,Vt.h)((M,U)=>y(M,U,I)):qe.y,Ur(1),g?Qn(_):Me(()=>new Ce))}function Mr(y){return(0,ie.e)((_,g)=>{try{_.subscribe(g)}finally{g.add(y)}})}var Mi=H(1481);const ft="primary",qn=Symbol("RouteTitle");class hs{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g[0]:g}return null}getAll(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function zr(y){return new hs(y)}function hi(y,_,g){const I=g.path.split("/");if(I.length>y.length||"full"===g.pathMatch&&(_.hasChildren()||I.length<y.length))return null;const M={};for(let U=0;U<I.length;U++){const q=I[U],X=y[U];if(q.startsWith(":"))M[q.substring(1)]=X;else if(q!==X.path)return null}return{consumed:y.slice(0,I.length),posParams:M}}function rr(y,_){const g=y?Object.keys(y):void 0,I=_?Object.keys(_):void 0;if(!g||!I||g.length!=I.length)return!1;let M;for(let U=0;U<g.length;U++)if(M=g[U],!ni(y[M],_[M]))return!1;return!0}function ni(y,_){if(Array.isArray(y)&&Array.isArray(_)){if(y.length!==_.length)return!1;const g=[...y].sort(),I=[..._].sort();return g.every((M,U)=>I[U]===M)}return y===_}function lt(y){return Array.prototype.concat.apply([],y)}function Lt(y){return y.length>0?y[y.length-1]:null}function En(y,_){for(const g in y)y.hasOwnProperty(g)&&_(y[g],g)}function vr(y){return(0,w.CqO)(y)?y:(0,w.QGY)(y)?(0,L.D)(Promise.resolve(y)):(0,te.of)(y)}const xn={exact:function Wt(y,_,g){if(!ne(y.segments,_.segments)||!Se(y.segments,_.segments,g)||y.numberOfChildren!==_.numberOfChildren)return!1;for(const I in _.children)if(!y.children[I]||!Wt(y.children[I],_.children[I],g))return!1;return!0},subset:Wr},$i={exact:function ri(y,_){return rr(y,_)},subset:function xi(y,_){return Object.keys(_).length<=Object.keys(y).length&&Object.keys(_).every(g=>ni(y[g],_[g]))},ignored:()=>!0};function Kn(y,_,g){return xn[g.paths](y.root,_.root,g.matrixParams)&&$i[g.queryParams](y.queryParams,_.queryParams)&&!("exact"===g.fragment&&y.fragment!==_.fragment)}function Wr(y,_,g){return Et(y,_,_.segments,g)}function Et(y,_,g,I){if(y.segments.length>g.length){const M=y.segments.slice(0,g.length);return!(!ne(M,g)||_.hasChildren()||!Se(M,g,I))}if(y.segments.length===g.length){if(!ne(y.segments,g)||!Se(y.segments,g,I))return!1;for(const M in _.children)if(!y.children[M]||!Wr(y.children[M],_.children[M],I))return!1;return!0}{const M=g.slice(0,y.segments.length),U=g.slice(y.segments.length);return!!(ne(y.segments,M)&&Se(y.segments,M,I)&&y.children[ft])&&Et(y.children[ft],_,U,I)}}function Se(y,_,g){return _.every((I,M)=>$i[g](y[M].parameters,I.parameters))}class vt{constructor(_,g,I){this.root=_,this.queryParams=g,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toString(){return be.serialize(this)}}class ht{constructor(_,g){this.segments=_,this.children=g,this.parent=null,En(g,(I,M)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return St(this)}}class ln{constructor(_,g){this.path=_,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=zr(this.parameters)),this._parameterMap}toString(){return ge(this)}}function ne(y,_){return y.length===_.length&&y.every((g,I)=>g.path===_[I].path)}let he=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=w.Yz7({token:y,factory:function(){return new je},providedIn:"root"}),y})();class je{parse(_){const g=new Ws(_);return new vt(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(_){const g=`/${$t(_.root,!0)}`,I=function Ut(y){const _=Object.keys(y).map(g=>{const I=y[g];return Array.isArray(I)?I.map(M=>`${_r(g)}=${_r(M)}`).join("&"):`${_r(g)}=${_r(I)}`}).filter(g=>!!g);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${g}${I}${"string"==typeof _.fragment?`#${function dr(y){return encodeURI(y)}(_.fragment)}`:""}`}}const be=new je;function St(y){return y.segments.map(_=>ge(_)).join("/")}function $t(y,_){if(!y.hasChildren())return St(y);if(_){const g=y.children[ft]?$t(y.children[ft],!1):"",I=[];return En(y.children,(M,U)=>{U!==ft&&I.push(`${U}:${$t(M,!1)}`)}),I.length>0?`${g}(${I.join("//")})`:g}{const g=function J(y,_){let g=[];return En(y.children,(I,M)=>{M===ft&&(g=g.concat(_(I,M)))}),En(y.children,(I,M)=>{M!==ft&&(g=g.concat(_(I,M)))}),g}(y,(I,M)=>M===ft?[$t(y.children[ft],!1)]:[`${M}:${$t(I,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[ft]?`${St(y)}/${g[0]}`:`${St(y)}/(${g.join("//")})`}}function In(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _r(y){return In(y).replace(/%3B/gi,";")}function pe(y){return In(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(y){return decodeURIComponent(y)}function G(y){return re(y.replace(/\+/g,"%20"))}function ge(y){return`${pe(y.path)}${function Ve(y){return Object.keys(y).map(_=>`;${pe(_)}=${pe(y[_])}`).join("")}(y.parameters)}`}const Qt=/^[^\/()?;=#]+/;function Cn(y){const _=y.match(Qt);return _?_[0]:""}const at=/^[^=?&#]+/,Xn=/^[^&#]+/;class Ws{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(_.length>0||Object.keys(g).length>0)&&(I[ft]=new ht(_,g)),I}parseSegment(){const _=Cn(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(_),new ln(re(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const g=Cn(this.remaining);if(!g)return;this.capture(g);let I="";if(this.consumeOptional("=")){const M=Cn(this.remaining);M&&(I=M,this.capture(I))}_[re(g)]=re(I)}parseQueryParam(_){const g=function nn(y){const _=y.match(at);return _?_[0]:""}(this.remaining);if(!g)return;this.capture(g);let I="";if(this.consumeOptional("=")){const q=function qr(y){const _=y.match(Xn);return _?_[0]:""}(this.remaining);q&&(I=q,this.capture(I))}const M=G(g),U=G(I);if(_.hasOwnProperty(M)){let q=_[M];Array.isArray(q)||(q=[q],_[M]=q),q.push(U)}else _[M]=U}parseParens(_){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=Cn(this.remaining),M=this.remaining[I.length];if("/"!==M&&")"!==M&&";"!==M)throw new w.vHH(4010,!1);let U;I.indexOf(":")>-1?(U=I.slice(0,I.indexOf(":")),this.capture(U),this.capture(":")):_&&(U=ft);const q=this.parseChildren();g[U]=1===Object.keys(q).length?q[ft]:new ht([],q),this.consumeOptional("//")}return g}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new w.vHH(4011,!1)}}function Ln(y){return y.segments.length>0?new ht([],{[ft]:y}):y}function er(y){const _={};for(const I of Object.keys(y.children)){const U=er(y.children[I]);(U.segments.length>0||U.hasChildren())&&(_[I]=U)}return function Yn(y){if(1===y.numberOfChildren&&y.children[ft]){const _=y.children[ft];return new ht(y.segments.concat(_.segments),_.children)}return y}(new ht(y.segments,_))}function Kr(y){return y instanceof vt}function ru(y,_,g,I,M){if(0===g.length)return Ri(_.root,_.root,_.root,I,M);const U=function wi(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new si(!0,0,y);let _=0,g=!1;const I=y.reduce((M,U,q)=>{if("object"==typeof U&&null!=U){if(U.outlets){const X={};return En(U.outlets,(Ae,ut)=>{X[ut]="string"==typeof Ae?Ae.split("/"):Ae}),[...M,{outlets:X}]}if(U.segmentPath)return[...M,U.segmentPath]}return"string"!=typeof U?[...M,U]:0===q?(U.split("/").forEach((X,Ae)=>{0==Ae&&"."===X||(0==Ae&&""===X?g=!0:".."===X?_++:""!=X&&M.push(X))}),M):[...M,U]},[]);return new si(g,_,I)}(g);return U.toRoot()?Ri(_.root,_.root,new ht([],{}),I,M):function q(Ae){const ut=function Ho(y,_,g,I){if(y.isAbsolute)return new Qi(_.root,!0,0);if(-1===I)return new Qi(g,g===_.root,0);return function fs(y,_,g){let I=y,M=_,U=g;for(;U>M;){if(U-=M,I=I.parent,!I)throw new w.vHH(4005,!1);M=I.segments.length}return new Qi(I,!1,M-U)}(g,I+(ii(y.commands[0])?0:1),y.numberOfDoubleDots)}(U,_,y.snapshot?._urlSegment,Ae),fn=ut.processChildren?Rs(ut.segmentGroup,ut.index,U.commands):xs(ut.segmentGroup,ut.index,U.commands);return Ri(_.root,ut.segmentGroup,fn,I,M)}(y.snapshot?._lastPathIndex)}function ii(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function sr(y){return"object"==typeof y&&null!=y&&y.outlets}function Ri(y,_,g,I,M){let q,U={};I&&En(I,(Ae,ut)=>{U[ut]=Array.isArray(Ae)?Ae.map(fn=>`${fn}`):`${Ae}`}),q=y===_?g:ji(y,_,g);const X=Ln(er(q));return new vt(X,U,M)}function ji(y,_,g){const I={};return En(y.children,(M,U)=>{I[U]=M===_?g:ji(M,_,g)}),new ht(y.segments,I)}class si{constructor(_,g,I){if(this.isAbsolute=_,this.numberOfDoubleDots=g,this.commands=I,_&&I.length>0&&ii(I[0]))throw new w.vHH(4003,!1);const M=I.find(sr);if(M&&M!==Lt(I))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qi{constructor(_,g,I){this.segmentGroup=_,this.processChildren=g,this.index=I}}function xs(y,_,g){if(y||(y=new ht([],{})),0===y.segments.length&&y.hasChildren())return Rs(y,_,g);const I=function So(y,_,g){let I=0,M=_;const U={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(I>=g.length)return U;const q=y.segments[M],X=g[I];if(sr(X))break;const Ae=`${X}`,ut=I<g.length-1?g[I+1]:null;if(M>0&&void 0===Ae)break;if(Ae&&ut&&"object"==typeof ut&&void 0===ut.outlets){if(!hr(Ae,ut,q))return U;I+=2}else{if(!hr(Ae,{},q))return U;I++}M++}return{match:!0,pathIndex:M,commandIndex:I}}(y,_,g),M=g.slice(I.commandIndex);if(I.match&&I.pathIndex<y.segments.length){const U=new ht(y.segments.slice(0,I.pathIndex),{});return U.children[ft]=new ht(y.segments.slice(I.pathIndex),y.children),Rs(U,0,M)}return I.match&&0===M.length?new ht(y.segments,{}):I.match&&!y.hasChildren()?Hi(y,_,g):I.match?Rs(y,0,M):Hi(y,_,g)}function Rs(y,_,g){if(0===g.length)return new ht(y.segments,{});{const I=function oo(y){return sr(y[0])?y[0].outlets:{[ft]:y}}(g),M={};return En(I,(U,q)=>{"string"==typeof U&&(U=[U]),null!==U&&(M[q]=xs(y.children[q],_,U))}),En(y.children,(U,q)=>{void 0===I[q]&&(M[q]=U)}),new ht(y.segments,M)}}function Hi(y,_,g){const I=y.segments.slice(0,_);let M=0;for(;M<g.length;){const U=g[M];if(sr(U)){const Ae=kr(U.outlets);return new ht(I,Ae)}if(0===M&&ii(g[0])){I.push(new ln(y.segments[_].path,ka(g[0]))),M++;continue}const q=sr(U)?U.outlets[ft]:`${U}`,X=M<g.length-1?g[M+1]:null;q&&X&&ii(X)?(I.push(new ln(q,ka(X))),M+=2):(I.push(new ln(q,{})),M++)}return new ht(I,{})}function kr(y){const _={};return En(y,(g,I)=>{"string"==typeof g&&(g=[g]),null!==g&&(_[I]=Hi(new ht([],{}),0,g))}),_}function ka(y){const _={};return En(y,(g,I)=>_[I]=`${g}`),_}function hr(y,_,g){return y==g.path&&rr(_,g.parameters)}class Er{constructor(_,g){this.id=_,this.url=g}}class Ns extends Er{constructor(_,g,I="imperative",M=null){super(_,g),this.type=0,this.navigationTrigger=I,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fr extends Er{constructor(_,g,I){super(_,g),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ps extends Er{constructor(_,g,I,M){super(_,g),this.reason=I,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fi extends Er{constructor(_,g,I,M){super(_,g),this.error=I,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gs extends Er{constructor(_,g,I,M){super(_,g),this.urlAfterRedirects=I,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends Er{constructor(_,g,I,M){super(_,g),this.urlAfterRedirects=I,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iu extends Er{constructor(_,g,I,M,U){super(_,g),this.urlAfterRedirects=I,this.state=M,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ji extends Er{constructor(_,g,I,M){super(_,g),this.urlAfterRedirects=I,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends Er{constructor(_,g,I,M){super(_,g),this.urlAfterRedirects=I,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ao{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fa{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mo{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ou{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ca{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fu{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wl{constructor(_,g,I){this.routerEvent=_,this.position=g,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Go{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const g=this.pathFromRoot(_);return g.length>1?g[g.length-2]:null}children(_){const g=zo(_,this._root);return g?g.children.map(I=>I.value):[]}firstChild(_){const g=zo(_,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(_){const g=da(_,this._root);return g.length<2?[]:g[g.length-2].children.map(M=>M.value).filter(M=>M!==_)}pathFromRoot(_){return da(_,this._root).map(g=>g.value)}}function zo(y,_){if(y===_.value)return _;for(const g of _.children){const I=zo(y,g);if(I)return I}return null}function da(y,_){if(y===_.value)return[_];for(const g of _.children){const I=da(y,g);if(I.length)return I.unshift(_),I}return[]}class Ni{constructor(_,g){this.value=_,this.children=g}toString(){return`TreeNode(${this.value})`}}function qs(y){const _={};return y&&y.children.forEach(g=>_[g.value.outlet]=g),_}class xo extends Go{constructor(_,g){super(_),this.snapshot=g,vs(this,_)}toString(){return this.snapshot.toString()}}function Pi(y,_){const g=function La(y,_){const q=new ys([],{},{},"",{},ft,_,null,y.root,-1,{});return new ki("",new Ni(q,[]))}(y,_),I=new ve.X([new ln("",{})]),M=new ve.X({}),U=new ve.X({}),q=new ve.X({}),X=new ve.X(""),Ae=new ms(I,M,q,X,U,ft,_,g.root);return Ae.snapshot=g.root,new xo(new Ni(Ae,[]),g)}class ms{constructor(_,g,I,M,U,q,X,Ae){this.url=_,this.params=g,this.queryParams=I,this.fragment=M,this.data=U,this.outlet=q,this.component=X,this.title=this.data?.pipe((0,Ne.U)(ut=>ut[qn]))??(0,te.of)(void 0),this._futureSnapshot=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.U)(_=>zr(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.U)(_=>zr(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function El(y,_="emptyOnly"){const g=y.pathFromRoot;let I=0;if("always"!==_)for(I=g.length-1;I>=1;){const M=g[I],U=g[I-1];if(M.routeConfig&&""===M.routeConfig.path)I--;else{if(U.component)break;I--}}return function Ro(y){return y.reduce((_,g)=>({params:{..._.params,...g.params},data:{..._.data,...g.data},resolve:{...g.data,..._.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(I))}class ys{constructor(_,g,I,M,U,q,X,Ae,ut,fn,Dt,lr){this.url=_,this.params=g,this.queryParams=I,this.fragment=M,this.data=U,this.outlet=q,this.component=X,this.title=this.data?.[qn],this.routeConfig=Ae,this._urlSegment=ut,this._lastPathIndex=fn,this._correctedLastPathIndex=lr??fn,this._resolve=Dt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ki extends Go{constructor(_,g){super(g),this.url=_,vs(this,g)}toString(){return Wo(this._root)}}function vs(y,_){_.value._routerState=y,_.children.forEach(g=>vs(y,g))}function Wo(y){const _=y.children.length>0?` { ${y.children.map(Wo).join(", ")} } `:"";return`${y.value}${_}`}function qo(y){if(y.snapshot){const _=y.snapshot,g=y._futureSnapshot;y.snapshot=g,rr(_.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),_.fragment!==g.fragment&&y.fragment.next(g.fragment),rr(_.params,g.params)||y.params.next(g.params),function _i(y,_){if(y.length!==_.length)return!1;for(let g=0;g<y.length;++g)if(!rr(y[g],_[g]))return!1;return!0}(_.url,g.url)||y.url.next(g.url),rr(_.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Ko(y,_){const g=rr(y.params,_.params)&&function dn(y,_){return ne(y,_)&&y.every((g,I)=>rr(g.parameters,_[I].parameters))}(y.url,_.url);return g&&!(!y.parent!=!_.parent)&&(!y.parent||Ko(y.parent,_.parent))}function Xi(y,_,g){if(g&&y.shouldReuseRoute(_.value,g.value.snapshot)){const I=g.value;I._futureSnapshot=_.value;const M=function Ei(y,_,g){return _.children.map(I=>{for(const M of g.children)if(y.shouldReuseRoute(I.value,M.value.snapshot))return Xi(y,I,M);return Xi(y,I)})}(y,_,g);return new Ni(I,M)}{if(y.shouldAttach(_.value)){const U=y.retrieve(_.value);if(null!==U){const q=U.route;return q.value._futureSnapshot=_.value,q.children=_.children.map(X=>Xi(y,X)),q}}const I=function Va(y){return new ms(new ve.X(y.url),new ve.X(y.params),new ve.X(y.queryParams),new ve.X(y.fragment),new ve.X(y.data),y.outlet,y.component,y)}(_.value),M=_.children.map(U=>Xi(y,U));return new Ni(I,M)}}const Ii="ngNavigationCancelingError";function Ti(y,_){const{redirectTo:g,navigationBehaviorOptions:I}=Kr(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,M=Ps(!1,0,_);return M.url=g,M.navigationBehaviorOptions=I,M}function Ps(y,_,g){const I=new Error("NavigationCancelingError: "+(y||""));return I[Ii]=!0,I.cancellationCode=_,g&&(I.url=g),I}function lo(y){return oi(y)&&Kr(y.url)}function oi(y){return y&&y[Ii]}class Ba{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new un,this.attachRef=null}}let un=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(g,I){const M=this.getOrCreateContext(g);M.outlet=I,this.contexts.set(g,M)}onChildOutletDestroyed(g){const I=this.getContext(g);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let I=this.getContext(g);return I||(I=new Ba,this.contexts.set(g,I)),I}getContext(g){return this.contexts.get(g)||null}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const _s=!1;let co=(()=>{class y{constructor(g,I,M,U,q){this.parentContexts=g,this.location=I,this.changeDetector=U,this.environmentInjector=q,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.name=M||ft,g.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const g=this.parentContexts.getContext(this.name);g&&g.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,_s);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,_s);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,_s);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,I){this.activated=g,this._activatedRoute=I,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,I){if(this.isActivated)throw new w.vHH(4013,_s);this._activatedRoute=g;const M=this.location,q=g._futureSnapshot.component,X=this.parentContexts.getOrCreateContext(this.name).children,Ae=new ks(g,X,M.injector);if(I&&function xr(y){return!!y.resolveComponentFactory}(I)){const ut=I.resolveComponentFactory(q);this.activated=M.createComponent(ut,M.length,Ae)}else this.activated=M.createComponent(q,{index:M.length,injector:Ae,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)(w.Y36(un),w.Y36(w.s_b),w.$8M("name"),w.Y36(w.sBO),w.Y36(w.lqb))},y.\u0275dir=w.lG2({type:y,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),y})();class ks{constructor(_,g,I){this.route=_,this.childContexts=g,this.parent=I}get(_,g){return _===ms?this.route:_===un?this.childContexts:this.parent.get(_,g)}}let Yo=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=w.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(g,I){1&g&&w._UZ(0,"router-outlet")},dependencies:[co],encapsulation:2}),y})();function wr(y,_){return y.providers&&!y._injector&&(y._injector=(0,w.MMx)(y.providers,_,`Route: ${y.path}`)),y._injector??_}function en(y){const _=y.children&&y.children.map(en),g=_?{...y,children:_}:{...y};return!g.component&&!g.loadComponent&&(_||g.loadChildren)&&g.outlet&&g.outlet!==ft&&(g.component=Yo),g}function Yr(y){return y.outlet||ft}function Lu(y,_){const g=y.filter(I=>Yr(I)===_);return g.push(...y.filter(I=>Yr(I)!==_)),g}function Ys(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let _=y.parent;_;_=_.parent){const g=_.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class ha{constructor(_,g,I,M){this.routeReuseStrategy=_,this.futureState=g,this.currState=I,this.forwardEvent=M}activate(_){const g=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,I,_),qo(this.futureState.root),this.activateChildRoutes(g,I,_)}deactivateChildRoutes(_,g,I){const M=qs(g);_.children.forEach(U=>{const q=U.value.outlet;this.deactivateRoutes(U,M[q],I),delete M[q]}),En(M,(U,q)=>{this.deactivateRouteAndItsChildren(U,I)})}deactivateRoutes(_,g,I){const M=_.value,U=g?g.value:null;if(M===U)if(M.component){const q=I.getContext(M.outlet);q&&this.deactivateChildRoutes(_,g,q.children)}else this.deactivateChildRoutes(_,g,I);else U&&this.deactivateRouteAndItsChildren(g,I)}deactivateRouteAndItsChildren(_,g){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,g):this.deactivateRouteAndOutlet(_,g)}detachAndStoreRouteSubtree(_,g){const I=g.getContext(_.value.outlet),M=I&&_.value.component?I.children:g,U=qs(_);for(const q of Object.keys(U))this.deactivateRouteAndItsChildren(U[q],M);if(I&&I.outlet){const q=I.outlet.detach(),X=I.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:q,route:_,contexts:X})}}deactivateRouteAndOutlet(_,g){const I=g.getContext(_.value.outlet),M=I&&_.value.component?I.children:g,U=qs(_);for(const q of Object.keys(U))this.deactivateRouteAndItsChildren(U[q],M);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(_,g,I){const M=qs(g);_.children.forEach(U=>{this.activateRoutes(U,M[U.value.outlet],I),this.forwardEvent(new Fu(U.value.snapshot))}),_.children.length&&this.forwardEvent(new Ou(_.value.snapshot))}activateRoutes(_,g,I){const M=_.value,U=g?g.value:null;if(qo(M),M===U)if(M.component){const q=I.getOrCreateContext(M.outlet);this.activateChildRoutes(_,g,q.children)}else this.activateChildRoutes(_,g,I);else if(M.component){const q=I.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const X=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),q.children.onOutletReAttached(X.contexts),q.attachRef=X.componentRef,q.route=X.route.value,q.outlet&&q.outlet.attach(X.componentRef,X.route.value),qo(X.route.value),this.activateChildRoutes(_,null,q.children)}else{const X=Ys(M.snapshot),Ae=X?.get(w._Vd)??null;q.attachRef=null,q.route=M,q.resolver=Ae,q.injector=X,q.outlet&&q.outlet.activateWith(M,q.injector),this.activateChildRoutes(_,null,q.children)}}else this.activateChildRoutes(_,null,I)}}class Us{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Zo{constructor(_,g){this.component=_,this.route=g}}function Po(y,_,g){const I=y._root;return es(I,_?_._root:null,g,[I.value])}function gn(y,_){const g=Symbol(),I=_.get(y,g);return I===g?"function"!=typeof y||(0,w.Z0I)(y)?_.get(y):y:I}function es(y,_,g,I,M={canDeactivateChecks:[],canActivateChecks:[]}){const U=qs(_);return y.children.forEach(q=>{(function ho(y,_,g,I,M={canDeactivateChecks:[],canActivateChecks:[]}){const U=y.value,q=_?_.value:null,X=g?g.getContext(y.value.outlet):null;if(q&&U.routeConfig===q.routeConfig){const Ae=function Rr(y,_,g){if("function"==typeof g)return g(y,_);switch(g){case"pathParamsChange":return!ne(y.url,_.url);case"pathParamsOrQueryParamsChange":return!ne(y.url,_.url)||!rr(y.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ko(y,_)||!rr(y.queryParams,_.queryParams);default:return!Ko(y,_)}}(q,U,U.routeConfig.runGuardsAndResolvers);Ae?M.canActivateChecks.push(new Us(I)):(U.data=q.data,U._resolvedData=q._resolvedData),es(y,_,U.component?X?X.children:null:g,I,M),Ae&&X&&X.outlet&&X.outlet.isActivated&&M.canDeactivateChecks.push(new Zo(X.outlet.component,q))}else q&&Gi(_,X,M),M.canActivateChecks.push(new Us(I)),es(y,null,U.component?X?X.children:null:g,I,M)})(q,U[q.value.outlet],g,I.concat([q.value]),M),delete U[q.value.outlet]}),En(U,(q,X)=>Gi(q,g.getContext(X),M)),M}function Gi(y,_,g){const I=qs(y),M=y.value;En(I,(U,q)=>{Gi(U,M.component?_?_.children.getContext(q):null:_,g)}),g.canDeactivateChecks.push(new Zo(M.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,M))}function Di(y){return"function"==typeof y}function gi(y){return y instanceof Ce||"EmptyError"===y?.name}const ko=Symbol("INITIAL_VALUE");function ui(){return bt(y=>_t(y.map(_=>_.pipe(Xt(1),function Un(...y){const _=(0,ue.yG)(y);return(0,ie.e)((g,I)=>{(_?dt(y,g,_):dt(y,g)).subscribe(I)})}(ko)))).pipe((0,Ne.U)(_=>{for(const g of _)if(!0!==g){if(g===ko)return ko;if(!1===g||g instanceof vt)return g}return!0}),(0,Vt.h)(_=>_!==ko),Xt(1)))}function A(y){return(0,_e.z)((0,st.b)(_=>{if(Kr(_))throw Ti(0,_)}),(0,Ne.U)(_=>!0===_))}const se={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Re(y,_,g,I,M){const U=ze(y,_,g);return U.matched?function B(y,_,g,I){const M=_.canMatch;if(!M||0===M.length)return(0,te.of)(!0);const U=M.map(q=>{const X=gn(q,y);return vr(function fa(y){return y&&Di(y.canMatch)}(X)?X.canMatch(_,g):y.runInContext(()=>X(_,g)))});return(0,te.of)(U).pipe(ui(),A())}(I=wr(_,I),_,g).pipe((0,Ne.U)(q=>!0===q?U:{...se})):(0,te.of)(U)}function ze(y,_,g){if(""===_.path)return"full"===_.pathMatch&&(y.hasChildren()||g.length>0)?{...se}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const M=(_.matcher||hi)(g,y,_);if(!M)return{...se};const U={};En(M.posParams,(X,Ae)=>{U[Ae]=X.path});const q=M.consumed.length>0?{...U,...M.consumed[M.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:M.consumed,remainingSegments:g.slice(M.consumed.length),parameters:q,positionalParamSegments:M.posParams??{}}}function pt(y,_,g,I,M="corrected"){if(g.length>0&&function Bn(y,_,g){return g.some(I=>An(y,_,I)&&Yr(I)!==ft)}(y,g,I)){const q=new ht(_,function Vn(y,_,g,I){const M={};M[ft]=I,I._sourceSegment=y,I._segmentIndexShift=_.length;for(const U of g)if(""===U.path&&Yr(U)!==ft){const q=new ht([],{});q._sourceSegment=y,q._segmentIndexShift=_.length,M[Yr(U)]=q}return M}(y,_,I,new ht(g,y.children)));return q._sourceSegment=y,q._segmentIndexShift=_.length,{segmentGroup:q,slicedSegments:[]}}if(0===g.length&&function Sn(y,_,g){return g.some(I=>An(y,_,I))}(y,g,I)){const q=new ht(y.segments,function Rn(y,_,g,I,M,U){const q={};for(const X of I)if(An(y,g,X)&&!M[Yr(X)]){const Ae=new ht([],{});Ae._sourceSegment=y,Ae._segmentIndexShift="legacy"===U?y.segments.length:_.length,q[Yr(X)]=Ae}return{...M,...q}}(y,_,g,I,y.children,M));return q._sourceSegment=y,q._segmentIndexShift=_.length,{segmentGroup:q,slicedSegments:g}}const U=new ht(y.segments,y.children);return U._sourceSegment=y,U._segmentIndexShift=_.length,{segmentGroup:U,slicedSegments:g}}function An(y,_,g){return(!(y.hasChildren()||_.length>0)||"full"!==g.pathMatch)&&""===g.path}function Nn(y,_,g,I){return!!(Yr(y)===I||I!==ft&&An(_,g,y))&&("**"===y.path||ze(_,y,g).matched)}function hn(y,_,g){return 0===_.length&&!y.children[g]}const li=!1;class zi{constructor(_){this.segmentGroup=_||null}}class Wi{constructor(_){this.urlTree=_}}function qi(y){return Ze(new zi(y))}function Fo(y){return Ze(new Wi(y))}class or{constructor(_,g,I,M,U){this.injector=_,this.configLoader=g,this.urlSerializer=I,this.urlTree=M,this.config=U,this.allowRedirects=!0}apply(){const _=pt(this.urlTree.root,[],[],this.config).segmentGroup,g=new ht(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,g,ft).pipe((0,Ne.U)(U=>this.createUrlTree(er(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yt(U=>{if(U instanceof Wi)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof zi?this.noMatchError(U):U}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,ft).pipe((0,Ne.U)(M=>this.createUrlTree(er(M),_.queryParams,_.fragment))).pipe(yt(M=>{throw M instanceof zi?this.noMatchError(M):M}))}noMatchError(_){return new w.vHH(4002,li)}createUrlTree(_,g,I){const M=Ln(_);return new vt(M,g,I)}expandSegmentGroup(_,g,I,M){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(_,g,I).pipe((0,Ne.U)(U=>new ht([],U))):this.expandSegment(_,I,g,I.segments,M,!0)}expandChildren(_,g,I){const M=[];for(const U of Object.keys(I.children))"primary"===U?M.unshift(U):M.push(U);return(0,L.D)(M).pipe((0,Te.b)(U=>{const q=I.children[U],X=Lu(g,U);return this.expandSegmentGroup(_,X,q,U).pipe((0,Ne.U)(Ae=>({segment:Ae,outlet:U})))}),Tn((U,q)=>(U[q.outlet]=q.segment,U),{}),On())}expandSegment(_,g,I,M,U,q){return(0,L.D)(I).pipe((0,Te.b)(X=>this.expandSegmentAgainstRoute(_,g,I,X,M,U,q).pipe(yt(ut=>{if(ut instanceof zi)return(0,te.of)(null);throw ut}))),fe(X=>!!X),yt((X,Ae)=>{if(gi(X))return hn(g,M,U)?(0,te.of)(new ht([],{})):qi(g);throw X}))}expandSegmentAgainstRoute(_,g,I,M,U,q,X){return Nn(M,g,U,q)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(_,g,M,U,q):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,g,I,M,U,q):qi(g):qi(g)}expandSegmentAgainstRouteUsingRedirect(_,g,I,M,U,q){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,I,M,q):this.expandRegularSegmentAgainstRouteUsingRedirect(_,g,I,M,U,q)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,g,I,M){const U=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?Fo(U):this.lineralizeSegments(I,U).pipe((0,yn.z)(q=>{const X=new ht(q,{});return this.expandSegment(_,X,g,q,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,g,I,M,U,q){const{matched:X,consumedSegments:Ae,remainingSegments:ut,positionalParamSegments:fn}=ze(g,M,U);if(!X)return qi(g);const Dt=this.applyRedirectCommands(Ae,M.redirectTo,fn);return M.redirectTo.startsWith("/")?Fo(Dt):this.lineralizeSegments(M,Dt).pipe((0,yn.z)(lr=>this.expandSegment(_,g,I,lr.concat(ut),q,!1)))}matchSegmentAgainstRoute(_,g,I,M,U){return"**"===I.path?(_=wr(I,_),I.loadChildren?(I._loadedRoutes?(0,te.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(_,I)).pipe((0,Ne.U)(X=>(I._loadedRoutes=X.routes,I._loadedInjector=X.injector,new ht(M,{})))):(0,te.of)(new ht(M,{}))):Re(g,I,M,_).pipe(bt(({matched:q,consumedSegments:X,remainingSegments:Ae})=>q?this.getChildConfig(_=I._injector??_,I,M).pipe((0,yn.z)(fn=>{const Dt=fn.injector??_,lr=fn.routes,{segmentGroup:Li,slicedSegments:rs}=pt(g,X,Ae,lr),Ds=new ht(Li.segments,Li.children);if(0===rs.length&&Ds.hasChildren())return this.expandChildren(Dt,lr,Ds).pipe((0,Ne.U)(ia=>new ht(X,ia)));if(0===lr.length&&0===rs.length)return(0,te.of)(new ht(X,{}));const yi=Yr(I)===U;return this.expandSegment(Dt,Ds,lr,rs,yi?ft:U,!0).pipe((0,Ne.U)(ra=>new ht(X.concat(ra.segments),ra.children)))})):qi(g)))}getChildConfig(_,g,I){return g.children?(0,te.of)({routes:g.children,injector:_}):g.loadChildren?void 0!==g._loadedRoutes?(0,te.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function O(y,_,g,I){const M=_.canLoad;if(void 0===M||0===M.length)return(0,te.of)(!0);const U=M.map(q=>{const X=gn(q,y);return vr(function Qo(y){return y&&Di(y.canLoad)}(X)?X.canLoad(_,g):y.runInContext(()=>X(_,g)))});return(0,te.of)(U).pipe(ui(),A())}(_,g,I).pipe((0,yn.z)(M=>M?this.configLoader.loadChildren(_,g).pipe((0,st.b)(U=>{g._loadedRoutes=U.routes,g._loadedInjector=U.injector})):function Lo(y){return Ze(Ps(li,3))}())):(0,te.of)({routes:[],injector:_})}lineralizeSegments(_,g){let I=[],M=g.root;for(;;){if(I=I.concat(M.segments),0===M.numberOfChildren)return(0,te.of)(I);if(M.numberOfChildren>1||!M.children[ft])return Ze(new w.vHH(4e3,li));M=M.children[ft]}}applyRedirectCommands(_,g,I){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),_,I)}applyRedirectCreateUrlTree(_,g,I,M){const U=this.createSegmentGroup(_,g.root,I,M);return new vt(U,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(_,g){const I={};return En(_,(M,U)=>{if("string"==typeof M&&M.startsWith(":")){const X=M.substring(1);I[U]=g[X]}else I[U]=M}),I}createSegmentGroup(_,g,I,M){const U=this.createSegments(_,g.segments,I,M);let q={};return En(g.children,(X,Ae)=>{q[Ae]=this.createSegmentGroup(_,X,I,M)}),new ht(U,q)}createSegments(_,g,I,M){return g.map(U=>U.path.startsWith(":")?this.findPosParam(_,U,M):this.findOrReturn(U,I))}findPosParam(_,g,I){const M=I[g.path.substring(1)];if(!M)throw new w.vHH(4001,li);return M}findOrReturn(_,g){let I=0;for(const M of g){if(M.path===_.path)return g.splice(I),M;I++}return _}}class Vu{}class ou{constructor(_,g,I,M,U,q,X,Ae){this.injector=_,this.rootComponentType=g,this.config=I,this.urlTree=M,this.url=U,this.paramsInheritanceStrategy=q,this.relativeLinkResolution=X,this.urlSerializer=Ae}recognize(){const _=pt(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,ft).pipe((0,Ne.U)(g=>{if(null===g)return null;const I=new ys([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new Ni(I,g),U=new ki(this.url,M);return this.inheritParamsAndData(U._root),U}))}inheritParamsAndData(_){const g=_.value,I=El(g,this.paramsInheritanceStrategy);g.params=Object.freeze(I.params),g.data=Object.freeze(I.data),_.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(_,g,I,M){return 0===I.segments.length&&I.hasChildren()?this.processChildren(_,g,I):this.processSegment(_,g,I,I.segments,M)}processChildren(_,g,I){return(0,L.D)(Object.keys(I.children)).pipe((0,Te.b)(M=>{const U=I.children[M],q=Lu(g,M);return this.processSegmentGroup(_,q,U,M)}),Tn((M,U)=>M&&U?(M.push(...U),M):null),function Gr(y,_=!1){return(0,ie.e)((g,I)=>{let M=0;g.subscribe((0,nt.x)(I,U=>{const q=y(U,M++);(q||_)&&I.next(U),!q&&I.complete()}))})}(M=>null!==M),Qn(null),On(),(0,Ne.U)(M=>{if(null===M)return null;const U=uu(M);return function ma(y){y.sort((_,g)=>_.value.outlet===ft?-1:g.value.outlet===ft?1:_.value.outlet.localeCompare(g.value.outlet))}(U),U}))}processSegment(_,g,I,M,U){return(0,L.D)(g).pipe((0,Te.b)(q=>this.processSegmentAgainstRoute(q._injector??_,q,I,M,U)),fe(q=>!!q),yt(q=>{if(gi(q))return hn(I,M,U)?(0,te.of)([]):(0,te.of)(null);throw q}))}processSegmentAgainstRoute(_,g,I,M,U){if(g.redirectTo||!Nn(g,I,M,U))return(0,te.of)(null);let q;if("**"===g.path){const X=M.length>0?Lt(M).parameters:{},Ae=Ed(I)+M.length,ut=new ys(M,X,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dl(g),Yr(g),g.component??g._loadedComponent??null,g,Es(I),Ae,cu(g),Ae);q=(0,te.of)({snapshot:ut,consumedSegments:[],remainingSegments:[]})}else q=Re(I,g,M,_).pipe((0,Ne.U)(({matched:X,consumedSegments:Ae,remainingSegments:ut,parameters:fn})=>{if(!X)return null;const Dt=Ed(I)+Ae.length;return{snapshot:new ys(Ae,fn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dl(g),Yr(g),g.component??g._loadedComponent??null,g,Es(I),Dt,cu(g),Dt),consumedSegments:Ae,remainingSegments:ut}}));return q.pipe(bt(X=>{if(null===X)return(0,te.of)(null);const{snapshot:Ae,consumedSegments:ut,remainingSegments:fn}=X;_=g._injector??_;const Dt=g._loadedInjector??_,lr=function go(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(g),{segmentGroup:Li,slicedSegments:rs}=pt(I,ut,fn,lr.filter(yi=>void 0===yi.redirectTo),this.relativeLinkResolution);if(0===rs.length&&Li.hasChildren())return this.processChildren(Dt,lr,Li).pipe((0,Ne.U)(yi=>null===yi?null:[new Ni(Ae,yi)]));if(0===lr.length&&0===rs.length)return(0,te.of)([new Ni(Ae,[])]);const Ds=Yr(g)===U;return this.processSegment(Dt,lr,Li,rs,Ds?ft:U).pipe((0,Ne.U)(yi=>null===yi?null:[new Ni(Ae,yi)]))}))}}function au(y){const _=y.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function uu(y){const _=[],g=new Set;for(const I of y){if(!au(I)){_.push(I);continue}const M=_.find(U=>I.value.routeConfig===U.value.routeConfig);void 0!==M?(M.children.push(...I.children),g.add(M)):_.push(I)}for(const I of g){const M=uu(I.children);_.push(new Ni(I.value,M))}return _.filter(I=>!g.has(I))}function Es(y){let _=y;for(;_._sourceSegment;)_=_._sourceSegment;return _}function Ed(y){let _=y,g=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,g+=_._segmentIndexShift??0;return g-1}function Dl(y){return y.data||{}}function cu(y){return y.resolve||{}}function ar(y){return"string"==typeof y.title||null===y.title}function mo(y){return bt(_=>{const g=y(_);return g?(0,L.D)(g).pipe((0,Ne.U)(()=>_)):(0,te.of)(_)})}let du=(()=>{class y{buildTitle(g){let I,M=g.root;for(;void 0!==M;)I=this.getResolvedTitleForRoute(M)??I,M=M.children.find(U=>U.outlet===ft);return I}getResolvedTitleForRoute(g){return g.data[qn]}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=w.Yz7({token:y,factory:function(){return(0,w.f3M)(Hu)},providedIn:"root"}),y})(),Hu=(()=>{class y extends du{constructor(g){super(),this.title=g}updateTitle(g){const I=this.buildTitle(g);void 0!==I&&this.title.setTitle(I)}}return y.\u0275fac=function(g){return new(g||y)(w.LFG(Mi.Dx))},y.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class gc{}class bl extends class Vs{shouldDetach(_){return!1}store(_,g){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,g){return _.routeConfig===g.routeConfig}}{}const Qs=new w.OlP("",{providedIn:"root",factory:()=>({})}),yo=new w.OlP("ROUTES");let Is=(()=>{class y{constructor(g,I){this.injector=g,this.compiler=I,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,te.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const I=vr(g.loadComponent()).pipe((0,st.b)(U=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=U}),Mr(()=>{this.componentLoaders.delete(g)})),M=new ae(I,()=>new ce.x).pipe(Y());return this.componentLoaders.set(g,M),M}loadChildren(g,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return(0,te.of)({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const U=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,Ne.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(I);let Ae,ut,fn=!1;Array.isArray(X)?ut=X:(Ae=X.create(g).injector,ut=lt(Ae.get(yo,[],w.XFs.Self|w.XFs.Optional)));return{routes:ut.map(en),injector:Ae}}),Mr(()=>{this.childrenLoaders.delete(I)})),q=new ae(U,()=>new ce.x).pipe(Y());return this.childrenLoaders.set(I,q),q}loadModuleFactoryOrRoutes(g){return vr(g()).pipe((0,yn.z)(I=>I instanceof w.YKP||Array.isArray(I)?(0,te.of)(I):(0,L.D)(this.compiler.compileModuleAsync(I))))}}return y.\u0275fac=function(g){return new(g||y)(w.LFG(w.zs3),w.LFG(w.Sil))},y.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Gu{}class _a{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,g){return _}}function R(y){throw y}function f(y,_,g){return _.parse("/")}const p={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $(){const y=(0,w.f3M)(he),_=(0,w.f3M)(un),g=(0,w.f3M)(Fe.Ye),I=(0,w.f3M)(w.zs3),M=(0,w.f3M)(w.Sil),U=(0,w.f3M)(yo,{optional:!0})??[],q=(0,w.f3M)(Qs,{optional:!0})??{},X=(0,w.f3M)(Hu),Ae=(0,w.f3M)(du,{optional:!0}),ut=(0,w.f3M)(Gu,{optional:!0}),fn=(0,w.f3M)(gc,{optional:!0}),Dt=new Z(null,y,_,g,I,M,lt(U));return ut&&(Dt.urlHandlingStrategy=ut),fn&&(Dt.routeReuseStrategy=fn),Dt.titleStrategy=Ae??X,function N(y,_){y.errorHandler&&(_.errorHandler=y.errorHandler),y.malformedUriErrorHandler&&(_.malformedUriErrorHandler=y.malformedUriErrorHandler),y.onSameUrlNavigation&&(_.onSameUrlNavigation=y.onSameUrlNavigation),y.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=y.paramsInheritanceStrategy),y.relativeLinkResolution&&(_.relativeLinkResolution=y.relativeLinkResolution),y.urlUpdateStrategy&&(_.urlUpdateStrategy=y.urlUpdateStrategy),y.canceledNavigationResolution&&(_.canceledNavigationResolution=y.canceledNavigationResolution)}(q,Dt),Dt}let Z=(()=>{class y{constructor(g,I,M,U,q,X,Ae){this.rootComponentType=g,this.urlSerializer=I,this.rootContexts=M,this.location=U,this.config=Ae,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ce.x,this.errorHandler=R,this.malformedUriErrorHandler=f,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,te.of)(void 0),this.urlHandlingStrategy=new _a,this.routeReuseStrategy=new bl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=q.get(Is),this.configLoader.onLoadEndListener=lr=>this.triggerEvent(new Fa(lr)),this.configLoader.onLoadStartListener=lr=>this.triggerEvent(new Ao(lr)),this.ngModule=q.get(w.h0i),this.console=q.get(w.c2e);const Dt=q.get(w.R0b);this.isNgZoneEnabled=Dt instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(Ae),this.currentUrlTree=function Pr(){return new vt(new ht([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pi(this.currentUrlTree,this.rootComponentType),this.transitions=new ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(g){const I=this.events;return g.pipe((0,Vt.h)(M=>0!==M.id),(0,Ne.U)(M=>({...M,extractedUrl:this.urlHandlingStrategy.extract(M.rawUrl)})),bt(M=>{let U=!1,q=!1;return(0,te.of)(M).pipe((0,st.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bt(X=>{const Ae=this.browserUrlTree.toString(),ut=!this.navigated||X.extractedUrl.toString()!==Ae||Ae!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ut)&&this.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return de(X.source)&&(this.browserUrlTree=X.extractedUrl),(0,te.of)(X).pipe(bt(Dt=>{const lr=this.transitions.getValue();return I.next(new Ns(Dt.id,this.serializeUrl(Dt.extractedUrl),Dt.source,Dt.restoredState)),lr!==this.transitions.getValue()?we.E:Promise.resolve(Dt)}),function Jn(y,_,g,I){return bt(M=>function Ha(y,_,g,I,M){return new or(y,_,g,I,M).apply()}(y,_,g,M.extractedUrl,I).pipe((0,Ne.U)(U=>({...M,urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,st.b)(Dt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Dt.urlAfterRedirects},M.urlAfterRedirects=Dt.urlAfterRedirects}),function Bu(y,_,g,I,M,U){return(0,yn.z)(q=>function po(y,_,g,I,M,U,q="emptyOnly",X="legacy"){return new ou(y,_,g,I,M,q,X,U).recognize().pipe(bt(Ae=>null===Ae?function ws(y){return new $e.y(_=>_.error(y))}(new Vu):(0,te.of)(Ae)))}(y,_,g,q.urlAfterRedirects,I.serialize(q.urlAfterRedirects),I,M,U).pipe((0,Ne.U)(X=>({...q,targetSnapshot:X}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,st.b)(Dt=>{if(M.targetSnapshot=Dt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Dt.extras.skipLocationChange){const Li=this.urlHandlingStrategy.merge(Dt.urlAfterRedirects,Dt.rawUrl);this.setBrowserUrl(Li,Dt)}this.browserUrlTree=Dt.urlAfterRedirects}const lr=new gs(Dt.id,this.serializeUrl(Dt.extractedUrl),this.serializeUrl(Dt.urlAfterRedirects),Dt.targetSnapshot);I.next(lr)}));if(ut&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:lr,extractedUrl:Li,source:rs,restoredState:Ds,extras:yi}=X,Sl=new Ns(lr,this.serializeUrl(Li),rs,Ds);I.next(Sl);const ra=Pi(Li,this.rootComponentType).snapshot;return M={...X,targetSnapshot:ra,urlAfterRedirects:Li,extras:{...yi,skipLocationChange:!1,replaceUrl:!1}},(0,te.of)(M)}return this.rawUrlTree=X.rawUrl,X.resolve(null),we.E}),(0,st.b)(X=>{const Ae=new Oa(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(Ae)}),(0,Ne.U)(X=>M={...X,guards:Po(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function ts(y,_){return(0,yn.z)(g=>{const{targetSnapshot:I,currentSnapshot:M,guards:{canActivateChecks:U,canDeactivateChecks:q}}=g;return 0===q.length&&0===U.length?(0,te.of)({...g,guardsResult:!0}):function fo(y,_,g,I){return(0,L.D)(y).pipe((0,yn.z)(M=>function b(y,_,g,I,M){const U=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,te.of)(!0);const q=U.map(X=>{const Ae=Ys(_)??M,ut=gn(X,Ae);return vr(function Il(y){return y&&Di(y.canDeactivate)}(ut)?ut.canDeactivate(y,_,g,I):Ae.runInContext(()=>ut(y,_,g,I))).pipe(fe())});return(0,te.of)(q).pipe(ui())}(M.component,M.route,g,_,I)),fe(M=>!0!==M,!0))}(q,I,M,y).pipe((0,yn.z)(X=>X&&function Zr(y){return"boolean"==typeof y}(X)?function su(y,_,g,I){return(0,L.D)(_).pipe((0,Te.b)(M=>dt(function pc(y,_){return null!==y&&_&&_(new Mo(y)),(0,te.of)(!0)}(M.route.parent,I),function pa(y,_){return null!==y&&_&&_(new ca(y)),(0,te.of)(!0)}(M.route,I),function ja(y,_,g){const I=_[_.length-1],U=_.slice(0,_.length-1).reverse().map(q=>function Ye(y){const _=y.routeConfig?y.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:y,guards:_}:null}(q)).filter(q=>null!==q).map(q=>me(()=>{const X=q.guards.map(Ae=>{const ut=Ys(q.node)??g,fn=gn(Ae,ut);return vr(function Uu(y){return y&&Di(y.canActivateChild)}(fn)?fn.canActivateChild(I,y):ut.runInContext(()=>fn(I,y))).pipe(fe())});return(0,te.of)(X).pipe(ui())}));return(0,te.of)(U).pipe(ui())}(y,M.path,g),function Oo(y,_,g){const I=_.routeConfig?_.routeConfig.canActivate:null;if(!I||0===I.length)return(0,te.of)(!0);const M=I.map(U=>me(()=>{const q=Ys(_)??g,X=gn(U,q);return vr(function Jo(y){return y&&Di(y.canActivate)}(X)?X.canActivate(_,y):q.runInContext(()=>X(_,y))).pipe(fe())}));return(0,te.of)(M).pipe(ui())}(y,M.route,g))),fe(M=>!0!==M,!0))}(I,U,y,_):(0,te.of)(X)),(0,Ne.U)(X=>({...g,guardsResult:X})))})}(this.ngModule.injector,X=>this.triggerEvent(X)),(0,st.b)(X=>{if(M.guardsResult=X.guardsResult,Kr(X.guardsResult))throw Ti(0,X.guardsResult);const Ae=new iu(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.triggerEvent(Ae)}),(0,Vt.h)(X=>!!X.guardsResult||(this.restoreHistory(X),this.cancelNavigationTransition(X,"",3),!1)),mo(X=>{if(X.guards.canActivateChecks.length)return(0,te.of)(X).pipe((0,st.b)(Ae=>{const ut=new Ji(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(ut)}),bt(Ae=>{let ut=!1;return(0,te.of)(Ae).pipe(function $u(y,_){return(0,yn.z)(g=>{const{targetSnapshot:I,guards:{canActivateChecks:M}}=g;if(!M.length)return(0,te.of)(g);let U=0;return(0,L.D)(M).pipe((0,Te.b)(q=>function ju(y,_,g,I){const M=y.routeConfig,U=y._resolve;return void 0!==M?.title&&!ar(M)&&(U[qn]=M.title),function ya(y,_,g,I){const M=function va(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===M.length)return(0,te.of)({});const U={};return(0,L.D)(M).pipe((0,yn.z)(q=>function Uo(y,_,g,I){const M=Ys(_)??I,U=gn(y,M);return vr(U.resolve?U.resolve(_,g):M.runInContext(()=>U(_,g)))}(y[q],_,g,I).pipe(fe(),(0,st.b)(X=>{U[q]=X}))),Ur(1),function Hn(y){return(0,Ne.U)(()=>y)}(U),yt(q=>gi(q)?we.E:Ze(q)))}(U,y,_,I).pipe((0,Ne.U)(q=>(y._resolvedData=q,y.data=El(y,g).resolve,M&&ar(M)&&(y.data[qn]=M.title),null)))}(q.route,I,y,_)),(0,st.b)(()=>U++),Ur(1),(0,yn.z)(q=>U===M.length?(0,te.of)(g):we.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,st.b)({next:()=>ut=!0,complete:()=>{ut||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,"",2))}}))}),(0,st.b)(Ae=>{const ut=new ao(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(ut)}))}),mo(X=>{const Ae=ut=>{const fn=[];ut.routeConfig?.loadComponent&&!ut.routeConfig._loadedComponent&&fn.push(this.configLoader.loadComponent(ut.routeConfig).pipe((0,st.b)(Dt=>{ut.component=Dt}),(0,Ne.U)(()=>{})));for(const Dt of ut.children)fn.push(...Ae(Dt));return fn};return _t(Ae(X.targetSnapshot.root)).pipe(Qn(),Xt(1))}),mo(()=>this.afterPreactivation()),(0,Ne.U)(X=>{const Ae=function Ua(y,_,g){const I=Xi(y,_._root,g?g._root:void 0);return new xo(I,_)}(this.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return M={...X,targetRouterState:Ae}}),(0,st.b)(X=>{this.currentUrlTree=X.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X),this.browserUrlTree=X.urlAfterRedirects)}),((y,_,g)=>(0,Ne.U)(I=>(new ha(_,I.targetRouterState,I.currentRouterState,g).activate(y),I)))(this.rootContexts,this.routeReuseStrategy,X=>this.triggerEvent(X)),(0,st.b)({next(){U=!0},complete(){U=!0}}),Mr(()=>{U||q||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),yt(X=>{if(q=!0,oi(X)){lo(X)||(this.navigated=!0,this.restoreHistory(M,!0));const Ae=new ps(M.id,this.serializeUrl(M.extractedUrl),X.message,X.cancellationCode);if(I.next(Ae),lo(X)){const ut=this.urlHandlingStrategy.merge(X.url,this.rawUrlTree),fn={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||de(M.source)};this.scheduleNavigation(ut,"imperative",null,fn,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{this.restoreHistory(M,!0);const Ae=new fi(M.id,this.serializeUrl(M.extractedUrl),X,M.targetSnapshot??void 0);I.next(Ae);try{M.resolve(this.errorHandler(X))}catch(ut){M.reject(ut)}}return we.E}))}))}resetRootComponentType(g){this.rootComponentType=g,this.routerState.root.component=this.rootComponentType}setTransition(g){this.transitions.next({...this.transitions.value,...g})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const I="popstate"===g.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{const M={replaceUrl:!0},U=g.state?.navigationId?g.state:null;if(U){const X={...U};delete X.navigationId,delete X.\u0275routerPageId,0!==Object.keys(X).length&&(M.state=X)}const q=this.parseUrl(g.url);this.scheduleNavigation(q,I,U,M)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(g){this.events.next(g)}resetConfig(g){this.config=g.map(en),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,I={}){const{relativeTo:M,queryParams:U,fragment:q,queryParamsHandling:X,preserveFragment:Ae}=I,ut=M||this.routerState.root,fn=Ae?this.currentUrlTree.fragment:q;let Dt=null;switch(X){case"merge":Dt={...this.currentUrlTree.queryParams,...U};break;case"preserve":Dt=this.currentUrlTree.queryParams;break;default:Dt=U||null}return null!==Dt&&(Dt=this.removeEmptyProps(Dt)),ru(ut,this.currentUrlTree,g,Dt,fn??null)}navigateByUrl(g,I={skipLocationChange:!1}){const M=Kr(g)?g:this.parseUrl(g),U=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,I)}navigate(g,I={skipLocationChange:!1}){return function ee(y){for(let _=0;_<y.length;_++){if(null==y[_])throw new w.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,I),I)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let I;try{I=this.urlSerializer.parse(g)}catch(M){I=this.malformedUriErrorHandler(M,this.urlSerializer,g)}return I}isActive(g,I){let M;if(M=!0===I?{...p}:!1===I?{...T}:I,Kr(g))return Kn(this.currentUrlTree,g,M);const U=this.parseUrl(g);return Kn(this.currentUrlTree,U,M)}removeEmptyProps(g){return Object.keys(g).reduce((I,M)=>{const U=g[M];return null!=U&&(I[M]=U),I},{})}processNavigations(){this.navigations.subscribe(g=>{this.navigated=!0,this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId,this.events.next(new fr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),g.resolve(!0)},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}scheduleNavigation(g,I,M,U,q){if(this.disposed)return Promise.resolve(!1);let X,Ae,ut;q?(X=q.resolve,Ae=q.reject,ut=q.promise):ut=new Promise((lr,Li)=>{X=lr,Ae=Li});const fn=++this.navigationId;let Dt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(M=this.location.getState()),Dt=M&&M.\u0275routerPageId?M.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Dt=0,this.setTransition({id:fn,targetPageId:Dt,source:I,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:g,extras:U,resolve:X,reject:Ae,promise:ut,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ut.catch(lr=>Promise.reject(lr))}setBrowserUrl(g,I){const M=this.urlSerializer.serialize(g),U={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.isCurrentPathEqualTo(M)||I.extras.replaceUrl?this.location.replaceState(M,"",U):this.location.go(M,"",U)}restoreHistory(g,I=!1){if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===M?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===M&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(M)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(g,I,M){const U=new ps(g.id,this.serializeUrl(g.extractedUrl),I,M);this.triggerEvent(U),g.resolve(!1)}generateNgRouterState(g,I){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:I}:{navigationId:g}}}return y.\u0275fac=function(g){w.$Z()},y.\u0275prov=w.Yz7({token:y,factory:function(){return $()},providedIn:"root"}),y})();function de(y){return"imperative"!==y}let ke=(()=>{class y{constructor(g,I,M,U,q){this.router=g,this.route=I,this.tabIndexAttribute=M,this.renderer=U,this.el=q,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ce.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,w.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,w.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,w.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){if(null!=this.tabIndexAttribute)return;const I=this.renderer,M=this.el.nativeElement;null!==g?I.setAttribute(M,"tabindex",g):I.removeAttribute(M,"tabindex")}ngOnChanges(g){this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(w.Y36(Z),w.Y36(ms),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq))},y.\u0275dir=w.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,I){1&g&&w.NdJ("click",function(){return I.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),y})(),ct=(()=>{class y{constructor(g,I,M){this.router=g,this.route=I,this.locationStrategy=M,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ce.x,this.subscription=g.events.subscribe(U=>{U instanceof fr&&this.updateTargetUrlAndHref()})}set preserveFragment(g){this._preserveFragment=(0,w.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,w.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,w.D6c)(g)}get replaceUrl(){return this._replaceUrl}set routerLink(g){this.commands=null!=g?Array.isArray(g)?g:[g]:null}ngOnChanges(g){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(g,I,M,U,q){return!!(0!==g||I||M||U||q||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(w.Y36(Z),w.Y36(ms),w.Y36(Fe.S$))},y.\u0275dir=w.lG2({type:y,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(g,I){1&g&&w.NdJ("click",function(U){return I.onClick(U.button,U.ctrlKey,U.shiftKey,U.altKey,U.metaKey)}),2&g&&w.uIk("target",I.target)("href",I.href,w.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),y})(),gt=(()=>{class y{constructor(g,I,M,U,q,X){this.router=g,this.element=I,this.renderer=M,this.cdr=U,this.link=q,this.linkWithHref=X,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.vpe,this.routerEventsSubscription=g.events.subscribe(Ae=>{Ae instanceof fr&&this.update()})}ngAfterContentInit(){(0,te.of)(this.links.changes,this.linksWithHrefs.changes,(0,te.of)(null)).pipe((0,Mt.J)()).subscribe(g=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const g=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(I=>!!I).map(I=>I.onChanges);this.linkInputChangesSubscription=(0,L.D)(g).pipe((0,Mt.J)()).subscribe(I=>{this.isActive!==this.isLinkActive(this.router)(I)&&this.update()})}set routerLinkActive(g){const I=Array.isArray(g)?g:g.split(" ");this.classes=I.filter(M=>!!M)}ngOnChanges(g){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const g=this.hasActiveLinks();this.isActive!==g&&(this.isActive=g,this.cdr.markForCheck(),this.classes.forEach(I=>{g?this.renderer.addClass(this.element.nativeElement,I):this.renderer.removeClass(this.element.nativeElement,I)}),g&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(g))})}isLinkActive(g){const I=function rn(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return M=>!!M.urlTree&&g.isActive(M.urlTree,I)}hasActiveLinks(){const g=this.isLinkActive(this.router);return this.link&&g(this.link)||this.linkWithHref&&g(this.linkWithHref)||this.links.some(g)||this.linksWithHrefs.some(g)}}return y.\u0275fac=function(g){return new(g||y)(w.Y36(Z),w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(w.sBO),w.Y36(ke,8),w.Y36(ct,8))},y.\u0275dir=w.lG2({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(g,I,M){if(1&g&&(w.Suo(M,ke,5),w.Suo(M,ct,5)),2&g){let U;w.iGM(U=w.CRH())&&(I.links=U),w.iGM(U=w.CRH())&&(I.linksWithHrefs=U)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.TTD]}),y})();class Tt{}let Mn=(()=>{class y{constructor(g,I,M,U,q){this.router=g,this.injector=M,this.preloadingStrategy=U,this.loader=q}setUpPreloading(){this.subscription=this.router.events.pipe((0,Vt.h)(g=>g instanceof fr),(0,Te.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,I){const M=[];for(const U of I){U.providers&&!U._injector&&(U._injector=(0,w.MMx)(U.providers,g,`Route: ${U.path}`));const q=U._injector??g,X=U._loadedInjector??q;U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent?M.push(this.preloadConfig(q,U)):(U.children||U._loadedRoutes)&&M.push(this.processRoutes(X,U.children??U._loadedRoutes))}return(0,L.D)(M).pipe((0,Mt.J)())}preloadConfig(g,I){return this.preloadingStrategy.preload(I,()=>{let M;M=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(g,I):(0,te.of)(null);const U=M.pipe((0,yn.z)(q=>null===q?(0,te.of)(void 0):(I._loadedRoutes=q.routes,I._loadedInjector=q.injector,this.processRoutes(q.injector??g,q.routes))));if(I.loadComponent&&!I._loadedComponent){const q=this.loader.loadComponent(I);return(0,L.D)([U,q]).pipe((0,Mt.J)())}return U})}}return y.\u0275fac=function(g){return new(g||y)(w.LFG(Z),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Tt),w.LFG(Is))},y.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const tn=new w.OlP("");let Ir=(()=>{class y{constructor(g,I,M={}){this.router=g,this.viewportScroller=I,this.options=M,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},M.scrollPositionRestoration=M.scrollPositionRestoration||"disabled",M.anchorScrolling=M.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(g=>{g instanceof Ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof fr&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.router.parseUrl(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(g=>{g instanceof wl&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,I){this.router.triggerEvent(new wl(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return y.\u0275fac=function(g){w.$Z()},y.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac}),y})();function Fi(y,_){return{\u0275kind:y,\u0275providers:_}}function _n(y){return[{provide:yo,multi:!0,useValue:y}]}function vo(){const y=(0,w.f3M)(w.zs3);return _=>{const g=y.get(w.z2F);if(_!==g.components[0])return;const I=y.get(Z),M=y.get(_o);1===y.get(Ga)&&I.initialNavigation(),y.get(Js,null,w.XFs.Optional)?.setUpPreloading(),y.get(tn,null,w.XFs.Optional)?.init(),I.resetRootComponentType(g.componentTypes[0]),M.closed||(M.next(),M.unsubscribe())}}const _o=new w.OlP("",{factory:()=>new ce.x}),Ga=new w.OlP("",{providedIn:"root",factory:()=>1});const Js=new w.OlP("");function Ot(y){return Fi(0,[{provide:Js,useExisting:Mn},{provide:Tt,useExisting:y}])}const Dr=new w.OlP("ROUTER_FORROOT_GUARD"),Ts=[Fe.Ye,{provide:he,useClass:je},{provide:Z,useFactory:$},un,{provide:ms,useFactory:function Bs(y){return y.routerState.root},deps:[Z]},Is];function mi(){return new w.PXZ("Router",Z)}let ur=(()=>{class y{constructor(g){}static forRoot(g,I){return{ngModule:y,providers:[Ts,[],_n(g),{provide:Dr,useFactory:gr,deps:[[Z,new w.FiY,new w.tp0]]},{provide:Qs,useValue:I||{}},I?.useHash?{provide:Fe.S$,useClass:Fe.Do}:{provide:Fe.S$,useClass:Fe.b0},{provide:tn,useFactory:()=>{const y=(0,w.f3M)(Z),_=(0,w.f3M)(Fe.EM),g=(0,w.f3M)(Qs);return g.scrollOffset&&_.setOffset(g.scrollOffset),new Ir(y,_,g)}},I?.preloadingStrategy?Ot(I.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:mi},I?.initialNavigation?$s(I):[],[{provide:ns,useFactory:vo},{provide:w.tb,multi:!0,useExisting:ns}]]}}static forChild(g){return{ngModule:y,providers:[_n(g)]}}}return y.\u0275fac=function(g){return new(g||y)(w.LFG(Dr,8))},y.\u0275mod=w.oAB({type:y}),y.\u0275inj=w.cJS({imports:[Yo]}),y})();function gr(y){return"guarded"}function $s(y){return["disabled"===y.initialNavigation?Fi(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const _=(0,w.f3M)(Z);return()=>{_.setUpLocationChangeListener()}}},{provide:Ga,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Fi(2,[{provide:Ga,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:_=>{const g=_.get(Fe.V_,Promise.resolve());let I=!1;return()=>g.then(()=>new Promise(U=>{const q=_.get(Z),X=_.get(_o);(function M(U){_.get(Z).events.pipe((0,Vt.h)(X=>X instanceof fr||X instanceof ps||X instanceof fi),(0,Ne.U)(X=>X instanceof fr||X instanceof ps&&(0===X.code||1===X.code)&&null),(0,Vt.h)(X=>null!==X),Xt(1)).subscribe(()=>{U()})})(()=>{U(!0),I=!0}),q.afterPreactivation=()=>(U(!0),I||X.closed?(0,te.of)(void 0):X),q.initialNavigation()}))}}]).\u0275providers:[]]}const ns=new w.OlP("")},9681:(Bt,We,H)=>{H.d(We,{C6:()=>Mr,Jn:()=>On,KN:()=>qn,Mq:()=>Hn,Xd:()=>fe,ZF:()=>Gr,qX:()=>Te});var w=H(5861),L=H(4859),te=H(1877),ve=H(2090),W=H(8766);class Ce{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function $e(Et){return"VERSION"===Et.getComponent()?.type}(vt)){const ht=vt.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(vt=>vt).join(" ")}}const Be="@firebase/app",oe=new te.Yd("@firebase/app"),Un="[DEFAULT]",Vt={[Be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,Qn=new Map;function Me(Et,Se){try{Et.container.addComponent(Se)}catch(vt){oe.debug(`Component ${Se.name} failed to register with FirebaseApp ${Et.name}`,vt)}}function fe(Et){const Se=Et.name;if(Qn.has(Se))return oe.debug(`There were multiple attempts to register component ${Se}.`),!1;Qn.set(Se,Et);for(const vt of yn.values())Me(vt,Et);return!0}function Te(Et,Se){const vt=Et.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),Et.container.getProvider(Se)}const Tn=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ur{constructor(Se,vt,ht){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const On="9.15.0";function Gr(Et,Se={}){let vt=Et;"object"!=typeof Se&&(Se={name:Se});const ht=Object.assign({name:Un,automaticDataCollectionEnabled:!1},Se),ln=ht.name;if("string"!=typeof ln||!ln)throw Tn.create("bad-app-name",{appName:String(ln)});if(vt||(vt=(0,ve.aH)()),!vt)throw Tn.create("no-options");const dn=yn.get(ln);if(dn){if((0,ve.vZ)(vt,dn.options)&&(0,ve.vZ)(ht,dn.config))return dn;throw Tn.create("duplicate-app",{appName:ln})}const ne=new L.H0(ln);for(const he of Qn.values())ne.addComponent(he);const J=new Ur(vt,ht,ne);return yn.set(ln,J),J}function Hn(Et=Un){const Se=yn.get(Et);if(!Se&&Et===Un)return Gr();if(!Se)throw Tn.create("no-app",{appName:Et});return Se}function Mr(){return Array.from(yn.values())}function qn(Et,Se,vt){var ht;let ln=null!==(ht=Vt[Et])&&void 0!==ht?ht:Et;vt&&(ln+=`-${vt}`);const dn=ln.match(/\s|\//),ne=Se.match(/\s|\//);if(dn||ne){const J=[`Unable to register library "${ln}" with version "${Se}":`];return dn&&J.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),dn&&ne&&J.push("and"),ne&&J.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void oe.warn(J.join(" "))}fe(new L.wA(`${ln}-version`,()=>({library:ln,version:Se}),"VERSION"))}const rr="firebase-heartbeat-store";let ni=null;function lt(){return ni||(ni=(0,W.X3)("firebase-heartbeat-database",1,{upgrade:(Et,Se)=>{0===Se&&Et.createObjectStore(rr)}}).catch(Et=>{throw Tn.create("idb-open",{originalErrorMessage:Et.message})})),ni}function an(){return(an=(0,w.Z)(function*(Et){try{return(yield lt()).transaction(rr).objectStore(rr).get(Fn(Et))}catch(Se){if(Se instanceof ve.ZR)oe.warn(Se.message);else{const vt=Tn.create("idb-get",{originalErrorMessage:Se?.message});oe.warn(vt.message)}}})).apply(this,arguments)}function En(Et,Se){return vr.apply(this,arguments)}function vr(){return(vr=(0,w.Z)(function*(Et,Se){try{const ht=(yield lt()).transaction(rr,"readwrite");return yield ht.objectStore(rr).put(Se,Fn(Et)),ht.done}catch(vt){if(vt instanceof ve.ZR)oe.warn(vt.message);else{const ht=Tn.create("idb-set",{originalErrorMessage:vt?.message});oe.warn(ht.message)}}})).apply(this,arguments)}function Fn(Et){return`${Et.name}!${Et.options.appId}`}class $i{constructor(Se){this.container=Se,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new Wt(vt),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Se=this;return(0,w.Z)(function*(){const ht=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ln=Kn();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==ln&&!Se._heartbeatsCache.heartbeats.some(dn=>dn.date===ln))return Se._heartbeatsCache.heartbeats.push({date:ln,agent:ht}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(dn=>{const ne=new Date(dn.date).valueOf();return Date.now()-ne<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,w.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const vt=Kn(),{heartbeatsToSend:ht,unsentEntries:ln}=function ri(Et,Se=1024){const vt=[];let ht=Et.slice();for(const ln of Et){const dn=vt.find(ne=>ne.agent===ln.agent);if(dn){if(dn.dates.push(ln.date),xi(vt)>Se){dn.dates.pop();break}}else if(vt.push({agent:ln.agent,dates:[ln.date]}),xi(vt)>Se){vt.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:vt,unsentEntries:ht}}(Se._heartbeatsCache.heartbeats),dn=(0,ve.L)(JSON.stringify({version:2,heartbeats:ht}));return Se._heartbeatsCache.lastSentHeartbeatDate=vt,ln.length>0?(Se._heartbeatsCache.heartbeats=ln,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),dn})()}}function Kn(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,w.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Lt(Et){return an.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var vt=this;return(0,w.Z)(function*(){var ht;if(yield vt._canUseIndexedDBPromise){const dn=yield vt.read();return En(vt.app,{lastSentHeartbeatDate:null!==(ht=Se.lastSentHeartbeatDate)&&void 0!==ht?ht:dn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var vt=this;return(0,w.Z)(function*(){var ht;if(yield vt._canUseIndexedDBPromise){const dn=yield vt.read();return En(vt.app,{lastSentHeartbeatDate:null!==(ht=Se.lastSentHeartbeatDate)&&void 0!==ht?ht:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...Se.heartbeats]})}})()}}function xi(Et){return(0,ve.L)(JSON.stringify({version:2,heartbeats:Et})).length}!function Wr(Et){fe(new L.wA("platform-logger",Se=>new Ce(Se),"PRIVATE")),fe(new L.wA("heartbeat",Se=>new $i(Se),"PRIVATE")),qn(Be,"0.9.0",Et),qn(Be,"0.9.0","esm2017"),qn("fire-js","")}("")},4859:(Bt,We,H)=>{H.d(We,{H0:()=>Be,wA:()=>te});var w=H(5861),L=H(2090);class te{constructor(oe,ue,Pe){this.name=oe,this.instanceFactory=ue,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const ve="[DEFAULT]";class W{constructor(oe,ue){this.name=oe,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const ue=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(ue)){const Pe=new L.BH;if(this.instancesDeferred.set(ue,Pe),this.isInitialized(ue)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:ue});nt&&Pe.resolve(nt)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(oe){var ue;const Pe=this.normalizeInstanceIdentifier(oe?.identifier),nt=null!==(ue=oe?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(Ue){if(nt)return null;throw Ue}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function $e(qe){return"EAGER"===qe.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ue,Pe]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(ue);try{const Ue=this.getOrInitializeService({instanceIdentifier:nt});Pe.resolve(Ue)}catch{}}}}clearInstance(oe=ve){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,w.Z)(function*(){const ue=Array.from(oe.instances.values());yield Promise.all([...ue.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...ue.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=ve){return this.instances.has(oe)}getOptions(oe=ve){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:ue={}}=oe,Pe=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:Pe,options:ue});for(const[Ue,_t]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(Ue)&&_t.resolve(nt);return nt}onInit(oe,ue){var Pe;const nt=this.normalizeInstanceIdentifier(ue),Ue=null!==(Pe=this.onInitCallbacks.get(nt))&&void 0!==Pe?Pe:new Set;Ue.add(oe),this.onInitCallbacks.set(nt,Ue);const _t=this.instances.get(nt);return _t&&oe(_t,nt),()=>{Ue.delete(oe)}}invokeOnInitCallbacks(oe,ue){const Pe=this.onInitCallbacks.get(ue);if(Pe)for(const nt of Pe)try{nt(oe,ue)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:ue={}}){let Pe=this.instances.get(oe);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=oe,qe===ve?void 0:qe),options:ue}),this.instances.set(oe,Pe),this.instancesOptions.set(oe,ue),this.invokeOnInitCallbacks(Pe,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Pe)}catch{}var qe;return Pe||null}normalizeInstanceIdentifier(oe=ve){return this.component?this.component.multipleInstances?oe:ve:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const ue=this.getProvider(oe.name);if(ue.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);ue.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const ue=new W(oe,this);return this.providers.set(oe,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(Bt,We,H)=>{H.d(We,{Yd:()=>$e,in:()=>L});const w=[];var L=(()=>{return(oe=L||(L={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",L;var oe})();const te={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},ve=L.INFO,W={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},Ce=(oe,ue,...Pe)=>{if(ue<oe.logLevel)return;const nt=(new Date).toISOString(),Ue=W[ue];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ue](`[${nt}]  ${oe.name}:`,...Pe)};class $e{constructor(ue){this.name=ue,this._logLevel=ve,this._logHandler=Ce,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in L))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?te[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...ue),this._logHandler(this,L.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...ue),this._logHandler(this,L.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,L.INFO,...ue),this._logHandler(this,L.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,L.WARN,...ue),this._logHandler(this,L.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...ue),this._logHandler(this,L.ERROR,...ue)}}},259:(Bt,We,H)=>{H.d(We,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=H(9681);(0,w.KN)("firebase","9.15.0","app")},8766:(Bt,We,H)=>{H.d(We,{Lj:()=>Le,X3:()=>dt});var w=H(5861);let te,ve;const $e=new WeakMap,Be=new WeakMap,qe=new WeakMap,oe=new WeakMap,ue=new WeakMap;let Ue={get(we,Ke,ie){if(we instanceof IDBTransaction){if("done"===Ke)return Be.get(we);if("objectStoreNames"===Ke)return we.objectStoreNames||qe.get(we);if("store"===Ke)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return Mt(we[Ke])},set:(we,Ke,ie)=>(we[Ke]=ie,!0),has:(we,Ke)=>we instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in we};function kt(we){return"function"==typeof we?function Ct(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...Ke){return we.apply(on(this),Ke),Mt($e.get(this))}:function(...Ke){return Mt(we.apply(on(this),Ke))}:function(Ke,...ie){const Y=we.call(on(this),Ke,...ie);return qe.set(Y,Ke.sort?Ke.sort():[Ke]),Mt(Y)}}(we):(we instanceof IDBTransaction&&function nt(we){if(Be.has(we))return;const Ke=new Promise((ie,Y)=>{const ae=()=>{we.removeEventListener("complete",ce),we.removeEventListener("error",Fe),we.removeEventListener("abort",Fe)},ce=()=>{ie(),ae()},Fe=()=>{Y(we.error||new DOMException("AbortError","AbortError")),ae()};we.addEventListener("complete",ce),we.addEventListener("error",Fe),we.addEventListener("abort",Fe)});Be.set(we,Ke)}(we),((we,Ke)=>Ke.some(ie=>we instanceof ie))(we,function W(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,Ue):we)}function Mt(we){if(we instanceof IDBRequest)return function Pe(we){const Ke=new Promise((ie,Y)=>{const ae=()=>{we.removeEventListener("success",ce),we.removeEventListener("error",Fe)},ce=()=>{ie(Mt(we.result)),ae()},Fe=()=>{Y(we.error),ae()};we.addEventListener("success",ce),we.addEventListener("error",Fe)});return Ke.then(ie=>{ie instanceof IDBCursor&&$e.set(ie,we)}).catch(()=>{}),ue.set(Ke,we),Ke}(we);if(oe.has(we))return oe.get(we);const Ke=kt(we);return Ke!==we&&(oe.set(we,Ke),ue.set(Ke,we)),Ke}const on=we=>ue.get(we);function dt(we,Ke,{blocked:ie,upgrade:Y,blocking:ae,terminated:ce}={}){const Fe=indexedDB.open(we,Ke),Ne=Mt(Fe);return Y&&Fe.addEventListener("upgradeneeded",bt=>{Y(Mt(Fe.result),bt.oldVersion,bt.newVersion,Mt(Fe.transaction))}),ie&&Fe.addEventListener("blocked",()=>ie()),Ne.then(bt=>{ce&&bt.addEventListener("close",()=>ce()),ae&&bt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Ne}function Le(we,{blocked:Ke}={}){const ie=indexedDB.deleteDatabase(we);return Ke&&ie.addEventListener("blocked",()=>Ke()),Mt(ie).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],Je=new Map;function Ze(we,Ke){if(!(we instanceof IDBDatabase)||Ke in we||"string"!=typeof Ke)return;if(Je.get(Ke))return Je.get(Ke);const ie=Ke.replace(/FromIndex$/,""),Y=Ke!==ie,ae=_e.includes(ie);if(!(ie in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!me.includes(ie))return;const ce=function(){var Fe=(0,w.Z)(function*(Ne,...bt){const Xt=this.transaction(Ne,ae?"readwrite":"readonly");let Un=Xt.store;return Y&&(Un=Un.index(bt.shift())),(yield Promise.all([Un[ie](...bt),ae&&Xt.done]))[0]});return function(bt){return Fe.apply(this,arguments)}}();return Je.set(Ke,ce),ce}!function _t(we){Ue=we(Ue)}(we=>({...we,get:(Ke,ie,Y)=>Ze(Ke,ie)||we.get(Ke,ie,Y),has:(Ke,ie)=>!!Ze(Ke,ie)||we.has(Ke,ie)}))},334:(Bt,We,H)=>{H.d(We,{Ro:()=>we,ef:()=>Ke,t2:()=>_e});var w=H(8256),L=H(1135),te=H(7579),ve=H(9300),W=H(4482),Ce=H(5403),$e=H(8421),Be=H(5032),oe=H(7340),ue=H(6895),Pe=H(1481);const nt=["overlay"];function Ue(ie,Y){1&ie&&w._UZ(0,"div")}function _t(ie,Y){if(1&ie&&(w.TgZ(0,"div"),w.YNc(1,Ue,1,0,"div",6),w.qZA()),2&ie){const ae=w.oxw(2);w.Tol(ae.spinner.class),w.Udp("color",ae.spinner.color),w.xp6(1),w.Q6J("ngForOf",ae.spinner.divArray)}}function Ct(ie,Y){if(1&ie&&(w._UZ(0,"div",7),w.ALo(1,"safeHtml")),2&ie){const ae=w.oxw(2);w.Q6J("innerHTML",w.lcZ(1,1,ae.template),w.oJD)}}function kt(ie,Y){if(1&ie&&(w.TgZ(0,"div",1,2),w.YNc(2,_t,2,5,"div",3),w.YNc(3,Ct,2,3,"div",4),w.TgZ(4,"div",5),w.Hsn(5),w.qZA()()),2&ie){const ae=w.oxw();w.Udp("background-color",ae.spinner.bdColor)("z-index",ae.spinner.zIndex)("position",ae.spinner.fullScreen?"fixed":"absolute"),w.Q6J("@.disabled",ae.disableAnimation)("@fadeIn","in"),w.xp6(2),w.Q6J("ngIf",!ae.template),w.xp6(1),w.Q6J("ngIf",ae.template),w.xp6(1),w.Udp("z-index",ae.spinner.zIndex)}}const Mt=["*"],on={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Le="primary";class me{constructor(Y){Object.assign(this,Y)}static create(Y){return(null==Y?.type||0===Y.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new me(Y)}}let _e=(()=>{class ie{constructor(){this.spinnerObservable=new L.X(null)}getSpinner(ae){return this.spinnerObservable.asObservable().pipe((0,ve.h)(ce=>ce&&ce.name===ae))}show(ae=Le,ce){return new Promise((Fe,Ne)=>{setTimeout(()=>{ce&&Object.keys(ce).length?(ce.name=ae,this.spinnerObservable.next(new me({...ce,show:!0})),Fe(!0)):(this.spinnerObservable.next(new me({name:ae,show:!0})),Fe(!0))},10)})}hide(ae=Le,ce=10){return new Promise((Fe,Ne)=>{setTimeout(()=>{this.spinnerObservable.next(new me({name:ae,show:!1})),Fe(!0)},ce)})}}return ie.\u0275fac=function(ae){return new(ae||ie)},ie.\u0275prov=w.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const Je=new w.OlP("NGX_SPINNER_CONFIG");let Ze=(()=>{class ie{constructor(ae){this._sanitizer=ae}transform(ae){if(ae)return this._sanitizer.bypassSecurityTrustHtml(ae)}}return ie.\u0275fac=function(ae){return new(ae||ie)(w.Y36(Pe.H7,16))},ie.\u0275pipe=w.Yjl({name:"safeHtml",type:ie,pure:!0}),ie})(),we=(()=>{class ie{constructor(ae,ce,Fe,Ne){this.spinnerService=ae,this.changeDetector=ce,this.elementRef=Fe,this.globalConfig=Ne,this.disableAnimation=!1,this.spinner=new me,this.ngUnsubscribe=new te.x,this.setDefaultOptions=()=>{const{type:bt}=this.globalConfig??{};this.spinner=me.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??bt,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Le,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(ae){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(ae.target))&&(ae.returnValue=!1,ae.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(function qe(ie){return(0,W.e)((Y,ae)=>{(0,$e.Xf)(ie).subscribe((0,Ce.x)(ae,()=>ae.complete(),Be.Z)),!ae.closed&&Y.subscribe(ae)})}(this.ngUnsubscribe)).subscribe(ae=>{this.setDefaultOptions(),Object.assign(this.spinner,ae),ae.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(ae){return ae===this.elementRef.nativeElement.parentElement||ae.parentNode&&this.isSpinnerZone(ae.parentNode)}ngOnChanges(ae){for(const ce in ae)if(ce){const Fe=ae[ce];if(Fe.isFirstChange())return;typeof Fe.currentValue<"u"&&Fe.currentValue!==Fe.previousValue&&""!==Fe.currentValue&&(this.spinner[ce]=Fe.currentValue,"showSpinner"===ce&&(Fe.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===ce&&this.initObservable())}}getClass(ae,ce){this.spinner.divCount=on[ae],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((Ne,bt)=>bt);let Fe="";switch(ce.toLowerCase()){case"small":Fe="la-sm";break;case"medium":Fe="la-2x";break;case"large":Fe="la-3x"}return"la-"+ae+" "+Fe}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return ie.\u0275fac=function(ae){return new(ae||ie)(w.Y36(_e),w.Y36(w.sBO),w.Y36(w.SBq),w.Y36(Je,8))},ie.\u0275cmp=w.Xpm({type:ie,selectors:[["ngx-spinner"]],viewQuery:function(ae,ce){if(1&ae&&w.Gf(nt,5),2&ae){let Fe;w.iGM(Fe=w.CRH())&&(ce.spinnerDOM=Fe.first)}},hostBindings:function(ae,ce){1&ae&&w.NdJ("keydown",function(Ne){return ce.handleKeyboardEvent(Ne)},!1,w.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[w.TTD],ngContentSelectors:Mt,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(ae,ce){1&ae&&(w.F$t(),w.YNc(0,kt,6,12,"div",0)),2&ae&&w.Q6J("ngIf",ce.spinner.show)},dependencies:[ue.sg,ue.O5,Ze],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,oe.X$)("fadeIn",[(0,oe.SB)("in",(0,oe.oB)({opacity:1})),(0,oe.eR)(":enter",[(0,oe.oB)({opacity:0}),(0,oe.jt)(300)]),(0,oe.eR)(":leave",(0,oe.jt)(200,(0,oe.oB)({opacity:0})))])]},changeDetection:0}),ie})(),Ke=(()=>{class ie{static forRoot(ae){return{ngModule:ie,providers:[{provide:Je,useValue:ae}]}}}return ie.\u0275fac=function(ae){return new(ae||ie)},ie.\u0275mod=w.oAB({type:ie}),ie.\u0275inj=w.cJS({imports:[ue.ez]}),ie})()},5861:(Bt,We,H)=>{function w(te,ve,W,Ce,$e,Be,qe){try{var oe=te[Be](qe),ue=oe.value}catch(Pe){return void W(Pe)}oe.done?ve(ue):Promise.resolve(ue).then(Ce,$e)}function L(te){return function(){var ve=this,W=arguments;return new Promise(function(Ce,$e){var Be=te.apply(ve,W);function qe(ue){w(Be,Ce,$e,qe,oe,"next",ue)}function oe(ue){w(Be,Ce,$e,qe,oe,"throw",ue)}qe(void 0)})}}H.d(We,{Z:()=>L})}},Bt=>{Bt(Bt.s=113)}]);